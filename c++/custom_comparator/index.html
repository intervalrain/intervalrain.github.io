<!doctype html><html lang=zh-tw dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[C++] Custom Comparator | Rain Hu's Workspace</title><meta name=keywords content="Custom comparator,C++,compare,sort,priority_queue,heap"><meta name=description content="C++ 中陣列與優先佇列的自定義排序使用方法"><meta name=author content="Rain Hu"><link rel=canonical href=https://intervalrain.github.io/><meta name=google-site-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.4c6c0beaf1dfe52cd0f712a5896ac127e66fd064cfc598e04750f496d470699e.css integrity="sha256-TGwL6vHf5SzQ9xKliWrBJ+Zv0GTPxZjgR1D0ltRwaZ4=" rel="preload stylesheet" as=style><link rel=icon href=https://intervalrain.github.io/images/rain.png><link rel=icon type=image/png sizes=16x16 href=https://intervalrain.github.io/images/rain.png><link rel=icon type=image/png sizes=32x32 href=https://intervalrain.github.io/images/rain.png><link rel=apple-touch-icon href=https://intervalrain.github.io/images/rain.png><link rel=mask-icon href=https://intervalrain.github.io/images/rain.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh-tw href=https://intervalrain.github.io/c++/custom_comparator/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css integrity=sha384-zTROYFVGOfTw7JV7KUu8udsvW2fx4lWOsCEDqhBreBwlHI4ioVRtmIvEThzJHGET crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.js integrity=sha384-GxNFqL3r9uRJQhR+47eDxuPoNE7yLftQM8LcxzgS4HT73tp970WS/wV5p8UzCOmb crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous onload=renderMathInElement(document.body)></script><script src=https://utteranc.es/client.js repo=intervalrain.github.io issue-term=pathname label=Comment theme=github-light crossorigin=anonymous async></script><meta property="og:url" content="https://intervalrain.github.io/c++/custom_comparator/"><meta property="og:site_name" content="Rain Hu's Workspace"><meta property="og:title" content="[C++] Custom Comparator"><meta property="og:description" content="C++ 中陣列與優先佇列的自定義排序使用方法"><meta property="og:locale" content="zh-tw"><meta property="og:type" content="article"><meta property="article:section" content="c++"><meta property="article:published_time" content="2022-06-11T10:07:49+08:00"><meta property="article:modified_time" content="2022-06-11T10:07:49+08:00"><meta property="article:tag" content="C++"><meta property="article:tag" content="Programming"><meta property="og:image" content="https://intervalrain.github.io/images/cover.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://intervalrain.github.io/images/cover.jpg"><meta name=twitter:title content="[C++] Custom Comparator"><meta name=twitter:description content="C++ 中陣列與優先佇列的自定義排序使用方法"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"C++s","item":"https://intervalrain.github.io/c++/"},{"@type":"ListItem","position":2,"name":"[C++] Custom Comparator","item":"https://intervalrain.github.io/c++/custom_comparator/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[C++] Custom Comparator","name":"[C\u002b\u002b] Custom Comparator","description":"C++ 中陣列與優先佇列的自定義排序使用方法","keywords":["Custom comparator","C++","compare","sort","priority_queue","heap"],"articleBody":"C++ Custom Comparator sort(iter, iter, comp) Lambda function int main(){ auto comp = [](int a, int b){ return a \u003c b; } vector\u003cint\u003e = {3,6,7,2,1,9,5,4,8}; sort(vec.begin(), vec.end(), comp); // 1,2,3,4,5,6,7,8,9 } Usual boolean function bool comp(const int\u0026 a, const int\u0026 b){ return a \u003c b; } int main(){ vector\u003cint\u003e = {3,6,7,2,1,9,5,4,8}; sort(vec.begin(), vec.end(), comp); // 1,2,3,4,5,6,7,8,9 } Old solution using struct/class with () operator struct cmp { bool operator() (int a, int b) const { return a \u003c b; } }; int main(){ vector\u003cint\u003e = {3,6,7,2,1,9,5,4,8}; sort(vec.begin(), vec.end(), comp()); // 1,2,3,4,5,6,7,8,9 } priority_queue(element, container, comp) Modern C++20 Solution(lambda) We can use lambda function as comparator. As usual, comparator should return boolean value, indicating whether the element passed as first argument is considered to go before the second in the specific strict weak ordering it defines. int main(){ auto comp = [](int a, int b){ return a \u003c b; } vector\u003cint\u003e vec = {3,6,7,2,1,9,5,4,8}; priority_queue\u003cint, vector\u003cint, decltype(comp)\u003e pq; for (int num : vec) pq.push(num); while (!pq.empty()) { cout \u003c\u003c pq.top() \u003c\u003c \" \"; // 9,8,7,6,5,4,3,2,1 pq.pop(); } cout \u003c\u003c endl; } Modern C++11 Solution(lambda) Before C++20 we need to pass lambda function as argument to set constructor. int main(){ auto comp = [](int a, int b){ return a \u003c b; } vector\u003cint\u003e vec = {3,6,7,2,1,9,5,4,8}; priority_queue\u003cint, vector\u003cint, decltype(comp)\u003e pq(comp); for (int num : vec) pq.push(num); while (!pq.empty()) { cout \u003c\u003c pq.top() \u003c\u003c \" \"; // 9,8,7,6,5,4,3,2,1 pq.pop(); } cout \u003c\u003c endl; } Usual function Make comparator as usual boolean function bool comp(int a, int b){ return a \u003c b; } int main(){ vector\u003cint\u003e vec = {3,6,7,2,1,9,5,4,8}; priority_queue\u003cint, vector\u003cint, decltype(\u0026comp)\u003e pq(comp); // priority_queue","wordCount":"416","inLanguage":"zh-tw","image":"https://intervalrain.github.io/images/cover.jpg","datePublished":"2022-06-11T10:07:49+08:00","dateModified":"2022-06-11T10:07:49+08:00","author":{"@type":"Person","name":"Rain Hu"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://intervalrain.github.io/c++/custom_comparator/"},"publisher":{"@type":"Organization","name":"Rain Hu's Workspace","logo":{"@type":"ImageObject","url":"https://intervalrain.github.io/images/rain.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://intervalrain.github.io/ accesskey=h title="Rain Hu's Workspace (Alt + H)"><img src=https://intervalrain.github.io/images/rain.png alt aria-label=logo height=35>Rain Hu's Workspace</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://intervalrain.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://intervalrain.github.io/aboutme title="About me"><span>About me</span></a></li><li><a href=https://intervalrain.github.io/archives title=Archives><span>Archives</span></a></li><li><a href=https://intervalrain.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://intervalrain.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://intervalrain.github.io/csharp/csharp title=C#><span>C#</span></a></li><li><a href=https://intervalrain.github.io/csindex title=CS><span>CS</span></a></li><li><a href=https://intervalrain.github.io/leetcode title=LeetCode><span>LeetCode</span></a></li><li><a href=https://intervalrain.github.io/ai title=AI><span>AI</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://intervalrain.github.io/>首頁</a>&nbsp;»&nbsp;<a href=https://intervalrain.github.io/c++/>C++s</a></div><h1 class="post-title entry-hint-parent">[C++] Custom Comparator</h1><div class=post-description>C++ 中陣列與優先佇列的自定義排序使用方法</div><div class=post-meta><span title='2022-06-11 10:07:49 +0800 +0800'>June 11, 2022</span>&nbsp;·&nbsp;2 分鐘&nbsp;·&nbsp;Rain Hu&nbsp;|&nbsp;<a href=https://github.com/intervalrain/intervalrain.github.io/tree/main/content//C++/custom_comparator.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=eager src=https://intervalrain.github.io/images/cover.jpg alt="Oh! You closed up the window, so you cannot see raining"></figure><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目錄</span></summary><div class=inner><ul><li><a href=#c-custom-comparator aria-label="C++ Custom Comparator">C++ Custom Comparator</a><ul><li><a href=#sortiter-iter-comp aria-label="sort(iter, iter, comp)">sort(iter, iter, comp)</a><ul><li><a href=#lambda-function aria-label="Lambda function">Lambda function</a></li><li><a href=#usual-boolean-function aria-label="Usual boolean function">Usual boolean function</a></li><li><a href=#old-solution-using-structclass-with--operator aria-label="Old solution using struct/class with () operator">Old solution using struct/class with () operator</a></li></ul></li><li><a href=#priority_queueelement-container-comp aria-label="priority_queue(element, container, comp)">priority_queue(element, container, comp)</a><ul><li><a href=#modern-c20-solutionlambda aria-label="Modern C++20 Solution(lambda)">Modern C++20 Solution(lambda)</a></li><li><a href=#modern-c11-solutionlambda aria-label="Modern C++11 Solution(lambda)">Modern C++11 Solution(lambda)</a></li><li><a href=#usual-function aria-label="Usual function">Usual function</a></li><li><a href=#old-solution-using-structclass-with--operator-1 aria-label="Old solution using struct/class with () operator">Old solution using struct/class with () operator</a></li><li><a href=#alternative-solution-create-structclass-from-boolean-function aria-label="Alternative solution: create struct/class from boolean function">Alternative solution: create struct/class from boolean function</a></li></ul></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h1 id=c-custom-comparator>C++ Custom Comparator<a hidden class=anchor aria-hidden=true href=#c-custom-comparator>#</a></h1><h2 id=sortiter-iter-comp>sort(iter, iter, comp)<a hidden class=anchor aria-hidden=true href=#sortiter-iter-comp>#</a></h2><h3 id=lambda-function>Lambda function<a hidden class=anchor aria-hidden=true href=#lambda-function>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>auto</span> comp <span style=color:#f92672>=</span> [](<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b){ <span style=color:#66d9ef>return</span> a <span style=color:#f92672>&lt;</span> b; }
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>=</span> {<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>6</span>,<span style=color:#ae81ff>7</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>9</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>8</span>};
</span></span><span style=display:flex><span>    sort(vec.begin(), vec.end(), comp); <span style=color:#75715e>// 1,2,3,4,5,6,7,8,9
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h3 id=usual-boolean-function>Usual boolean function<a hidden class=anchor aria-hidden=true href=#usual-boolean-function>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>comp</span>(<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>&amp;</span> a, <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>&amp;</span> b){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> a <span style=color:#f92672>&lt;</span> b;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>=</span> {<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>6</span>,<span style=color:#ae81ff>7</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>9</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>8</span>};
</span></span><span style=display:flex><span>    sort(vec.begin(), vec.end(), comp); <span style=color:#75715e>// 1,2,3,4,5,6,7,8,9
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h3 id=old-solution-using-structclass-with--operator>Old solution using struct/class with () operator<a hidden class=anchor aria-hidden=true href=#old-solution-using-structclass-with--operator>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>cmp</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>operator</span>() (<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) <span style=color:#66d9ef>const</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> a <span style=color:#f92672>&lt;</span> b;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>=</span> {<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>6</span>,<span style=color:#ae81ff>7</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>9</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>8</span>};
</span></span><span style=display:flex><span>    sort(vec.begin(), vec.end(), comp()); <span style=color:#75715e>// 1,2,3,4,5,6,7,8,9
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div><h2 id=priority_queueelement-container-comp>priority_queue(element, container, comp)<a hidden class=anchor aria-hidden=true href=#priority_queueelement-container-comp>#</a></h2><h3 id=modern-c20-solutionlambda>Modern C++20 Solution(lambda)<a hidden class=anchor aria-hidden=true href=#modern-c20-solutionlambda>#</a></h3><ul><li>We can use lambda function as comparator.</li><li>As usual, comparator should return boolean value, indicating whether the element passed as first argument is considered to go before the second in the specific strict weak ordering it defines.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>auto</span> comp <span style=color:#f92672>=</span> [](<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b){ <span style=color:#66d9ef>return</span> a <span style=color:#f92672>&lt;</span> b; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> vec <span style=color:#f92672>=</span> {<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>6</span>,<span style=color:#ae81ff>7</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>9</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>8</span>};
</span></span><span style=display:flex><span>    priority_queue<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>decltype</span>(comp)<span style=color:#f92672>&gt;</span> pq;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> num : vec) pq.push(num);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>pq.empty()) {
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> pq.top() <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span>;    <span style=color:#75715e>// 9,8,7,6,5,4,3,2,1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        pq.pop();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=modern-c11-solutionlambda>Modern C++11 Solution(lambda)<a hidden class=anchor aria-hidden=true href=#modern-c11-solutionlambda>#</a></h3><ul><li>Before C++20 we need to <strong>pass lambda function as argument to set constructor</strong>.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>auto</span> comp <span style=color:#f92672>=</span> [](<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b){ <span style=color:#66d9ef>return</span> a <span style=color:#f92672>&lt;</span> b; }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> vec <span style=color:#f92672>=</span> {<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>6</span>,<span style=color:#ae81ff>7</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>9</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>8</span>};
</span></span><span style=display:flex><span>    priority_queue<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>decltype</span>(comp)<span style=color:#f92672>&gt;</span> pq(comp);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> num : vec) pq.push(num);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>pq.empty()) {
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> pq.top() <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span>;    <span style=color:#75715e>// 9,8,7,6,5,4,3,2,1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        pq.pop();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=usual-function>Usual function<a hidden class=anchor aria-hidden=true href=#usual-function>#</a></h3><ul><li>Make comparator as usual boolean function</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>comp</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> a <span style=color:#f92672>&lt;</span> b;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> vec <span style=color:#f92672>=</span> {<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>6</span>,<span style=color:#ae81ff>7</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>9</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>8</span>};
</span></span><span style=display:flex><span>    priority_queue<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>decltype</span>(<span style=color:#f92672>&amp;</span>comp)<span style=color:#f92672>&gt;</span> pq(comp);
</span></span><span style=display:flex><span>    <span style=color:#75715e>// priority_queue&lt;int, vector&lt;int, decltype(comp)*&gt; pq(comp);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#75715e>// in C++20, constructor can be ignored the same as lambda function.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> num : vec) pq.push(num);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>pq.empty()) {
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> pq.top() <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span>;    <span style=color:#75715e>// 9,8,7,6,5,4,3,2,1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        pq.pop();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=old-solution-using-structclass-with--operator-1>Old solution using struct/class with () operator<a hidden class=anchor aria-hidden=true href=#old-solution-using-structclass-with--operator-1>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>cmp</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>operator</span>() (<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b) <span style=color:#66d9ef>const</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> a <span style=color:#f92672>&lt;</span> b;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>=</span> {<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>6</span>,<span style=color:#ae81ff>7</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>9</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>8</span>};
</span></span><span style=display:flex><span>    priority_queue<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>, comp<span style=color:#f92672>&gt;</span> pq(vec.begin(), vec.end());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>pq.empty()) {
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> pq.top() <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span>;    <span style=color:#75715e>// 9,8,7,6,5,4,3,2,1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        pq.pop();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=alternative-solution-create-structclass-from-boolean-function>Alternative solution: create struct/class from boolean function<a hidden class=anchor aria-hidden=true href=#alternative-solution-create-structclass-from-boolean-function>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>comp</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b){ <span style=color:#66d9ef>return</span> a <span style=color:#f92672>&lt;</span> b; }
</span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;type_traits&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> Cmp <span style=color:#f92672>=</span> integral_constant<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>decltype</span>(<span style=color:#f92672>&amp;</span>comp), <span style=color:#f92672>&amp;</span>comp<span style=color:#f92672>&gt;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> <span style=color:#f92672>=</span> {<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>6</span>,<span style=color:#ae81ff>7</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>9</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>4</span>,<span style=color:#ae81ff>8</span>};
</span></span><span style=display:flex><span>    priority_queue<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>decltype</span>(<span style=color:#f92672>&amp;</span>comp)<span style=color:#f92672>&gt;</span> pq(comp);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> num : vec) pq.push(num);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>pq.empty()) {
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> pq.top() <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span>;    <span style=color:#75715e>// 9,8,7,6,5,4,3,2,1
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        pq.pop();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://intervalrain.github.io/tags/c++/>C++</a></li><li><a href=https://intervalrain.github.io/tags/programming/>Programming</a></li></ul></footer><script src=https://utteranc.es/client.js repo=Reid00/hugo-blog-talks issue-term=pathname label=Comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2025 <a href=https://intervalrain.github.io/>Rain Hu's Workspace</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="複製";function s(){t.innerHTML="已複製！",setTimeout(()=>{t.innerHTML="複製"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>