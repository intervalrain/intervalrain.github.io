<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Rain Hu's Workspace</title><link>https://intervalrain.github.io/</link><description>Recent content on Rain Hu's Workspace</description><generator>Hugo -- 0.143.1</generator><language>zh-tw</language><lastBuildDate>Mon, 03 Feb 2025 00:18:32 +0800</lastBuildDate><atom:link href="https://intervalrain.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>[AI] 機器學習的流程</title><link>https://intervalrain.github.io/ai/6_1/</link><pubDate>Mon, 03 Feb 2025 00:18:32 +0800</pubDate><guid>https://intervalrain.github.io/ai/6_1/</guid><description>The flow of machine learning</description></item><item><title>[LeetCode] Grid 科學刷題</title><link>https://intervalrain.github.io/leetcode_list/grid/</link><pubDate>Sat, 01 Feb 2025 01:09:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/grid/</guid><description/></item><item><title>[LeetCode] String 科學刷題</title><link>https://intervalrain.github.io/leetcode_list/string/</link><pubDate>Sat, 01 Feb 2025 00:00:08 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/string/</guid><description/></item><item><title>[LeetCode] Greedy 科學刷題</title><link>https://intervalrain.github.io/leetcode_list/greedy/</link><pubDate>Sat, 01 Feb 2025 00:00:07 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/greedy/</guid><description/></item><item><title>[LeetCode] Linked List and Binary Tree 科學刷題</title><link>https://intervalrain.github.io/leetcode_list/linked_list_binary_tree/</link><pubDate>Sat, 01 Feb 2025 00:00:07 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/linked_list_binary_tree/</guid><description/></item><item><title>[LeetCode] Math 科學刷題</title><link>https://intervalrain.github.io/leetcode_list/math/</link><pubDate>Sat, 01 Feb 2025 00:00:06 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/math/</guid><description/></item><item><title>[LeetCode] Common Data Structure 科學刷題</title><link>https://intervalrain.github.io/leetcode_list/common_data_structure/</link><pubDate>Sat, 01 Feb 2025 00:00:05 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/common_data_structure/</guid><description/></item><item><title>[LeetCode] Dynamic Programming 科學刷題</title><link>https://intervalrain.github.io/leetcode_list/dynamic_programming/</link><pubDate>Sat, 01 Feb 2025 00:00:04 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/dynamic_programming/</guid><description/></item><item><title>[LeetCode] Graph 科學刷題</title><link>https://intervalrain.github.io/leetcode_list/graph/</link><pubDate>Sat, 01 Feb 2025 00:00:03 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/graph/</guid><description/></item><item><title>[LeetCode] Bit Manipulation 科學刷題</title><link>https://intervalrain.github.io/leetcode_list/bit_manipulation/</link><pubDate>Sat, 01 Feb 2025 00:00:02 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/bit_manipulation/</guid><description/></item><item><title>[LeetCode] Monotonic Stack 科學刷題</title><link>https://intervalrain.github.io/leetcode_list/monotonic_stack/</link><pubDate>Sat, 01 Feb 2025 00:00:01 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/monotonic_stack/</guid><description/></item><item><title>[LeetCode] Binary Search 科學刷題</title><link>https://intervalrain.github.io/leetcode_list/binary_search/</link><pubDate>Sat, 01 Feb 2025 00:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/binary_search/</guid><description/></item><item><title>[AI] 機器學習的流程</title><link>https://intervalrain.github.io/ai/5_5/</link><pubDate>Sun, 12 Jan 2025 17:54:31 +0800</pubDate><guid>https://intervalrain.github.io/ai/5_5/</guid><description>The flow of machine learning</description></item><item><title>[AI] 提高普適化能力</title><link>https://intervalrain.github.io/ai/5_4/</link><pubDate>Sun, 12 Jan 2025 17:54:28 +0800</pubDate><guid>https://intervalrain.github.io/ai/5_4/</guid><description>How to enhance the generalization ability of the model</description></item><item><title>[AI] 提升模型的表現</title><link>https://intervalrain.github.io/ai/5_3/</link><pubDate>Sun, 12 Jan 2025 17:54:27 +0800</pubDate><guid>https://intervalrain.github.io/ai/5_3/</guid><description>How to enhance the performance of the model</description></item><item><title>[AI] 評估模型</title><link>https://intervalrain.github.io/ai/5_2/</link><pubDate>Sun, 12 Jan 2025 17:54:25 +0800</pubDate><guid>https://intervalrain.github.io/ai/5_2/</guid><description>How to evaluate the model</description></item><item><title>[AI] 普適化</title><link>https://intervalrain.github.io/ai/5_1/</link><pubDate>Sun, 12 Jan 2025 17:52:09 +0800</pubDate><guid>https://intervalrain.github.io/ai/5_1/</guid><description>Introduction to generalization</description></item><item><title>[AI] 迴歸問題</title><link>https://intervalrain.github.io/ai/4_3/</link><pubDate>Sun, 12 Jan 2025 16:39:58 +0800</pubDate><guid>https://intervalrain.github.io/ai/4_3/</guid><description>Regression problem</description></item><item><title>[AI] 多元分類問題</title><link>https://intervalrain.github.io/ai/4_2/</link><pubDate>Mon, 06 Jan 2025 22:58:45 +0800</pubDate><guid>https://intervalrain.github.io/ai/4_2/</guid><description>Multi categorical classification problem</description></item><item><title>[AI] 二元分類問題</title><link>https://intervalrain.github.io/ai/4_1/</link><pubDate>Thu, 02 Jan 2025 12:50:29 +0800</pubDate><guid>https://intervalrain.github.io/ai/4_1/</guid><description>Binary categorical classification problem</description></item><item><title>[AI] 3-8. 客製化 Training</title><link>https://intervalrain.github.io/ai/3_8/</link><pubDate>Fri, 27 Dec 2024 15:49:27 +0800</pubDate><guid>https://intervalrain.github.io/ai/3_8/</guid><description>How to customize training in Keras</description></item><item><title>[AI] 3-7. Keras API</title><link>https://intervalrain.github.io/ai/3_7/</link><pubDate>Fri, 20 Dec 2024 15:49:27 +0800</pubDate><guid>https://intervalrain.github.io/ai/3_7/</guid><description>A introduction to Keras API</description></item><item><title>[AI] 3-6. 實作線性分類器</title><link>https://intervalrain.github.io/ai/3_6/</link><pubDate>Thu, 19 Dec 2024 16:55:12 +0800</pubDate><guid>https://intervalrain.github.io/ai/3_6/</guid><description>A implementation of linear classification using Tensorflow library</description></item><item><title>[AI] 3-5. 邏輯斯迴歸(logistic regression)</title><link>https://intervalrain.github.io/ai/3_5/</link><pubDate>Thu, 19 Dec 2024 15:55:12 +0800</pubDate><guid>https://intervalrain.github.io/ai/3_5/</guid><description>The introduction to logistic regression</description></item><item><title>[AI] 3-4. 線性迴歸</title><link>https://intervalrain.github.io/ai/3_4/</link><pubDate>Thu, 19 Dec 2024 15:01:12 +0800</pubDate><guid>https://intervalrain.github.io/ai/3_4/</guid><description>The introduction to linear regression</description></item><item><title>[AI] 3-3. 使用 TensorFlow 與 Keras 函式庫</title><link>https://intervalrain.github.io/ai/3_3/</link><pubDate>Wed, 18 Dec 2024 16:56:55 +0800</pubDate><guid>https://intervalrain.github.io/ai/3_3/</guid><description>Usages of TensorFlow and Keras</description></item><item><title>[AI] 3-2. Keras 介紹</title><link>https://intervalrain.github.io/ai/3_2/</link><pubDate>Wed, 18 Dec 2024 16:45:50 +0800</pubDate><guid>https://intervalrain.github.io/ai/3_2/</guid><description>Introduction to the Keras</description></item><item><title>[AI] 3-1. TensorFlow 介紹</title><link>https://intervalrain.github.io/ai/3_1/</link><pubDate>Wed, 18 Dec 2024 16:40:40 +0800</pubDate><guid>https://intervalrain.github.io/ai/3_1/</guid><description>Introduction to the TensorFlow</description></item><item><title>[AI] 2-3. 優化器 Optimizer</title><link>https://intervalrain.github.io/ai/2_3/</link><pubDate>Mon, 16 Dec 2024 15:48:11 +0800</pubDate><guid>https://intervalrain.github.io/ai/2_3/</guid><description>The concept of optimizer in machine learning</description></item><item><title>[AI] 2-2. 張量 Tensor</title><link>https://intervalrain.github.io/ai/2_2/</link><pubDate>Sun, 15 Dec 2024 14:26:38 +0800</pubDate><guid>https://intervalrain.github.io/ai/2_2/</guid><description>The concept of tensor</description></item><item><title>[AI] 2-1. 初試神經網路-手寫辨識 mnist</title><link>https://intervalrain.github.io/ai/2_1/</link><pubDate>Sun, 15 Dec 2024 13:05:53 +0800</pubDate><guid>https://intervalrain.github.io/ai/2_1/</guid><description>First trial for neural network using mnist</description></item><item><title>[AI] 1-3. 深度學習的發展</title><link>https://intervalrain.github.io/ai/1_3/</link><pubDate>Fri, 06 Dec 2024 16:26:30 +0800</pubDate><guid>https://intervalrain.github.io/ai/1_3/</guid><description>The development of deep learning</description></item><item><title>[AI] 1-2. 機器學習的基礎技術</title><link>https://intervalrain.github.io/ai/1_2/</link><pubDate>Tue, 03 Dec 2024 15:42:52 +0800</pubDate><guid>https://intervalrain.github.io/ai/1_2/</guid><description>The fundamentals of Machine Learning</description></item><item><title>[AI] 1-1. 何謂人工智慧?</title><link>https://intervalrain.github.io/ai/1_1/</link><pubDate>Tue, 03 Dec 2024 15:39:11 +0800</pubDate><guid>https://intervalrain.github.io/ai/1_1/</guid><description>What is artificial intelligence?</description></item><item><title>[AI] Catalog</title><link>https://intervalrain.github.io/ai/</link><pubDate>Tue, 03 Dec 2024 15:30:11 +0800</pubDate><guid>https://intervalrain.github.io/ai/</guid><description>My learning note to AI</description></item><item><title>[IT] 初始 react project (TailwindCSS &amp; TypeScript &amp; Context)</title><link>https://intervalrain.github.io/it/init_react_project/</link><pubDate>Thu, 28 Nov 2024 16:33:39 +0800</pubDate><guid>https://intervalrain.github.io/it/init_react_project/</guid><description>&lt;ol>
&lt;li>建立專案&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>npx create-react-app &lt;span style="color:#f92672">[&lt;/span>project-name&lt;span style="color:#f92672">]&lt;/span> --template typescript
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd &lt;span style="color:#f92672">[&lt;/span>project-name&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="2">
&lt;li>安裝 TailwindCSS 及其相依套件：&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>npm install -D tailwindcss postcss autoprefixer
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>npx tailwindcss init -p
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="3">
&lt;li>設定 tailwind.config.js：&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-javascript" data-lang="javascript">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">/** @type {import(&amp;#39;tailwindcss&amp;#39;).Config} */&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">module&lt;/span>.&lt;span style="color:#a6e22e">exports&lt;/span> &lt;span style="color:#f92672">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">content&lt;/span>&lt;span style="color:#f92672">:&lt;/span> [
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;./src/**/*.{js,jsx,ts,tsx}&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">theme&lt;/span>&lt;span style="color:#f92672">:&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">extend&lt;/span>&lt;span style="color:#f92672">:&lt;/span> {},
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> },
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">plugins&lt;/span>&lt;span style="color:#f92672">:&lt;/span> [],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="4">
&lt;li>在 src/index.css 中加入 Tailwind directives：&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-css" data-lang="css">&lt;span style="display:flex;">&lt;span>@&lt;span style="color:#66d9ef">tailwind&lt;/span> &lt;span style="color:#f92672">base&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>@&lt;span style="color:#66d9ef">tailwind&lt;/span> &lt;span style="color:#f92672">components&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>@&lt;span style="color:#66d9ef">tailwind&lt;/span> &lt;span style="color:#f92672">utilities&lt;/span>;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[Diary] 自由的第二天</title><link>https://intervalrain.github.io/diary/20241126/</link><pubDate>Tue, 26 Nov 2024 22:45:35 +0800</pubDate><guid>https://intervalrain.github.io/diary/20241126/</guid><description>The second day of freelancing life</description></item><item><title>[Diary] 成為 freelancer 的第一天</title><link>https://intervalrain.github.io/diary/20241125/</link><pubDate>Mon, 25 Nov 2024 16:22:30 +0800</pubDate><guid>https://intervalrain.github.io/diary/20241125/</guid><description>The first day of being the freelancer</description></item><item><title>About me</title><link>https://intervalrain.github.io/aboutme/</link><pubDate>Sun, 24 Nov 2024 17:54:48 +0800</pubDate><guid>https://intervalrain.github.io/aboutme/</guid><description>Who am I?</description></item><item><title>[IT] 拯救 react</title><link>https://intervalrain.github.io/it/save_react/</link><pubDate>Fri, 16 Aug 2024 01:44:44 +0800</pubDate><guid>https://intervalrain.github.io/it/save_react/</guid><description>&lt;ol>
&lt;li>安裝個離線版&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>npm i - g create-react-app-offline
&lt;/code>&lt;/pre>&lt;ol start="2">
&lt;li>改用 &lt;code>crao&lt;/code> 初始化&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>crao -n my-app
&lt;/code>&lt;/pre>&lt;ol start="3">
&lt;li>如果 node_modules 沒有安裝正常&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>rm -rf node_modules
&lt;/code>&lt;/pre>&lt;ol start="4">
&lt;li>重裝 node_modules&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>npm install
&lt;/code>&lt;/pre>&lt;ol start="5">
&lt;li>重啟 react&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>npm start
&lt;/code>&lt;/pre></description></item><item><title>基於 Ollama 和 LangChain 的 Naive RAG 實作(搭配 streamlit UI)</title><link>https://intervalrain.github.io/genai/naiverag/</link><pubDate>Tue, 30 Jul 2024 23:55:29 +0800</pubDate><guid>https://intervalrain.github.io/genai/naiverag/</guid><description>本文將介紹一個使用 Streamlit、Ollama 和 LangChain 構建的文件查詢系統。</description></item><item><title>[Swift] UI Challenge</title><link>https://intervalrain.github.io/swift/ui_challenge/</link><pubDate>Fri, 21 Jun 2024 01:19:02 +0800</pubDate><guid>https://intervalrain.github.io/swift/ui_challenge/</guid><description>UI Challenge for iOS View on IPhone</description></item><item><title>[IT] React + .Net</title><link>https://intervalrain.github.io/it/csharp-react/</link><pubDate>Tue, 11 Jun 2024 22:00:23 +0800</pubDate><guid>https://intervalrain.github.io/it/csharp-react/</guid><description>&lt;h1 id="react--net">React + .Net&lt;/h1>
&lt;h2 id="一環境設置-setup">一、環境設置 Setup&lt;/h2>
&lt;h3 id="1-行前準備-prerequisites">1. 行前準備 Prerequisites&lt;/h3>
&lt;ul>
&lt;li>安裝 Node.js 和 npm&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>node -v
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>npm -v
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>安裝 .NET SDK&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>dotnet --version
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>用 vs code 下載 &lt;code>ES7+ React/Redux/React-Native snippets&lt;/code>
因為 &lt;code>rafce&lt;/code> 很好用, 相當於, typescript 則是 &lt;code>tsrafce&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-js" data-lang="js">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">import&lt;/span> &lt;span style="color:#a6e22e">React&lt;/span> &lt;span style="color:#a6e22e">from&lt;/span> &lt;span style="color:#e6db74">&amp;#39;react&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">index&lt;/span> &lt;span style="color:#f92672">=&lt;/span> () =&amp;gt; {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> (
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#a6e22e">div&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span>&lt;span style="color:#a6e22e">index&lt;/span>&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">/div&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> )
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">export&lt;/span> &lt;span style="color:#66d9ef">default&lt;/span> &lt;span style="color:#a6e22e">index&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="2-創建-react">2. 創建 React&lt;/h3>
&lt;ul>
&lt;li>安裝 react&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>npm install create-react-app
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>創建新的 react app (typescript)
&lt;ul>
&lt;li>&lt;code>--template typescript&lt;/code> 可指定使用 typescript&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>npx create-react-app &lt;span style="color:#f92672">{&lt;/span>project&lt;span style="color:#f92672">}&lt;/span> --template typescript
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd &lt;span style="color:#f92672">{&lt;/span>project&lt;span style="color:#f92672">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>必要時可能要初始化一個新的 react 項目，確保版本是匹配的。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>yarnpkg add --exact react-dom react-scripts
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="3-基本結構">3. 基本結構&lt;/h3>
&lt;ol>
&lt;li>函數式元件(Functional Component):&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-tsx" data-lang="tsx">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">Card&lt;/span>: &lt;span style="color:#66d9ef">React.FC&lt;/span>&amp;lt;&lt;span style="color:#f92672">Props&lt;/span>&amp;gt; &lt;span style="color:#f92672">=&lt;/span> ({
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">companyName&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">ticker&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">price&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#a6e22e">Props&lt;/span>)&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#a6e22e">JSX&lt;/span>.&lt;span style="color:#a6e22e">Element&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> { ... }
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>Card&lt;/code> 是一個函數式元件，使用 TypeScript 和 React。&lt;/li>
&lt;li>&lt;code>React.FC&amp;lt;Props&amp;gt;&lt;/code> 指定這個元件是接受 &lt;code>Props&lt;/code> 作為參數的 React 函數式元件&lt;/li>
&lt;li>&lt;code>({ companyName, ticker, price })&lt;/code> 是從 &lt;code>Props&lt;/code> 解構的屬性，這些屬性將會被傳入元件&lt;/li>
&lt;/ul>
&lt;ol start="2">
&lt;li>JSX 標籤:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-tsx" data-lang="tsx">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">return&lt;/span> (
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">div&lt;/span> &lt;span style="color:#a6e22e">className&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;card&amp;#39;&lt;/span>&amp;gt;...&amp;lt;/&lt;span style="color:#f92672">div&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>這是元件返回的 JSX，它描述了元件應該如何渲染。&lt;/li>
&lt;/ul>
&lt;h3 id="4-state">4. State&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-tsx" data-lang="tsx">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">import&lt;/span> &lt;span style="color:#a6e22e">React&lt;/span>, { &lt;span style="color:#a6e22e">useState&lt;/span> } &lt;span style="color:#66d9ef">from&lt;/span> &lt;span style="color:#e6db74">&amp;#39;react&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">type&lt;/span> &lt;span style="color:#a6e22e">Props&lt;/span> &lt;span style="color:#f92672">=&lt;/span> {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">Button&lt;/span>: &lt;span style="color:#66d9ef">React.FC&lt;/span>&amp;lt;&lt;span style="color:#f92672">Props&lt;/span>&amp;gt; &lt;span style="color:#f92672">=&lt;/span> (&lt;span style="color:#a6e22e">props&lt;/span>: &lt;span style="color:#66d9ef">Props&lt;/span>)&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#a6e22e">JSX&lt;/span>.&lt;span style="color:#a6e22e">Element&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> [&lt;span style="color:#a6e22e">count&lt;/span>, &lt;span style="color:#a6e22e">setCount&lt;/span>] &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">useState&lt;/span>&amp;lt;&lt;span style="color:#f92672">number&lt;/span>&amp;gt;(&lt;span style="color:#ae81ff">0&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">onClick&lt;/span> &lt;span style="color:#f92672">=&lt;/span> (&lt;span style="color:#a6e22e">e&lt;/span>: &lt;span style="color:#66d9ef">any&lt;/span>) &lt;span style="color:#f92672">=&amp;gt;&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">setCount&lt;/span>(&lt;span style="color:#a6e22e">count&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">console&lt;/span>.&lt;span style="color:#a6e22e">log&lt;/span>(&lt;span style="color:#a6e22e">e&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> (
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">div&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">button&lt;/span> &lt;span style="color:#a6e22e">onClick&lt;/span>&lt;span style="color:#f92672">=&lt;/span>{(&lt;span style="color:#a6e22e">e&lt;/span>) &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#a6e22e">onClick&lt;/span>(&lt;span style="color:#a6e22e">e&lt;/span>)}&amp;gt;&lt;span style="color:#a6e22e">Click&lt;/span> &lt;span style="color:#a6e22e">me&lt;/span>&amp;lt;/&lt;span style="color:#f92672">button&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">p&lt;/span>&amp;gt;&lt;span style="color:#a6e22e">You&lt;/span> &lt;span style="color:#a6e22e">clicked&lt;/span> {&lt;span style="color:#a6e22e">count&lt;/span>} &lt;span style="color:#a6e22e">times&lt;/span>&amp;lt;/&lt;span style="color:#f92672">p&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;/&lt;span style="color:#f92672">div&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> )
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">export&lt;/span> &lt;span style="color:#66d9ef">default&lt;/span> &lt;span style="color:#a6e22e">Button&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol>
&lt;li>引入 React 和 useState Hook:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-tsx" data-lang="tsx">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">import&lt;/span> &lt;span style="color:#a6e22e">React&lt;/span>, { &lt;span style="color:#a6e22e">useState&lt;/span> } &lt;span style="color:#66d9ef">from&lt;/span> &lt;span style="color:#e6db74">&amp;#39;react&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>從 React 包中引入 &lt;code>useState&lt;/code> Hook，用於函數式元件中添加狀態。&lt;/li>
&lt;/ul>
&lt;ol start="2">
&lt;li>使用 &lt;code>useState&lt;/code> Hook 定義狀態&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-tsx" data-lang="tsx">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">const&lt;/span> [&lt;span style="color:#a6e22e">count&lt;/span>, &lt;span style="color:#a6e22e">setCount&lt;/span>] &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">useState&lt;/span>&amp;lt;&lt;span style="color:#f92672">number&lt;/span>&amp;gt;(&lt;span style="color:#ae81ff">0&lt;/span>);
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>定義一個名為 &lt;code>count&lt;/code> 的狀態變量，初始值為 0。&lt;/li>
&lt;li>&lt;code>setCount&lt;/code> 是用來更新 &lt;code>count&lt;/code> 的函數。&lt;/li>
&lt;li>&lt;code>useState&amp;lt;number&amp;gt;(0)&lt;/code> 指定 &lt;code>count&lt;/code> 的類型為 &lt;code>number&lt;/code>。&lt;/li>
&lt;/ul>
&lt;ol start="3">
&lt;li>定義 &lt;code>onClick&lt;/code> 事件處理函數:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-tsx" data-lang="tsx">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#a6e22e">onClick&lt;/span> &lt;span style="color:#f92672">=&lt;/span> (&lt;span style="color:#a6e22e">e&lt;/span>: &lt;span style="color:#66d9ef">any&lt;/span>) &lt;span style="color:#f92672">=&amp;gt;&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">setCount&lt;/span>(&lt;span style="color:#a6e22e">count&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">console&lt;/span>.&lt;span style="color:#a6e22e">log&lt;/span>(&lt;span style="color:#a6e22e">e&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>onClick&lt;/code> 是一個事件處理函數，接受一個事件參數 &lt;code>e&lt;/code>。&lt;/li>
&lt;li>每當按鈕被點擊時， &lt;code>count&lt;/code> 會加 1，並且會在控制台輸出事件 &lt;code>e&lt;/code>。&lt;/li>
&lt;li>&lt;code>any&lt;/code> 也可被寫成 &lt;code>MounthEvent&lt;/code> 或 &lt;code>SyntheticEvent&lt;/code>。&lt;/li>
&lt;/ul></description></item><item><title>[IT] ApiController Atrribute</title><link>https://intervalrain.github.io/it/apicontroller/</link><pubDate>Sun, 09 Jun 2024 20:27:03 +0800</pubDate><guid>https://intervalrain.github.io/it/apicontroller/</guid><description>&lt;h1 id="apicontroller-atrribute">ApiController Atrribute&lt;/h1>
&lt;blockquote>
&lt;p>當我在 API 專案中建立新的 controller 時，它會自帶一個 [ApiController] 屬性的控制器類別，而這個標籤的作用為何呢？&lt;/p>&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">[ApiController]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">TestController&lt;/span> : ControllerBase
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="1-自動-http-400-回應">1. 自動 HTTP 400 回應&lt;/h2>
&lt;ul>
&lt;li>它會自動產生一個行為過濾器(action filter)，當 &lt;code>ModelState.IsValid&lt;/code> 為 &lt;code>false&lt;/code> 時，自動回傳 400 Response。&lt;/li>
&lt;/ul>
&lt;h2 id="2-綁定來源參數推斷">2. 綁定來源參數推斷&lt;/h2>
&lt;ul>
&lt;li>可以更改模型綁定的約定，例如，&lt;code>[FromBody]&lt;/code> 是針對複雜類型參數推斷的。&lt;/li>
&lt;/ul>
&lt;h2 id="3-multiform-data-請求推理">3. Multi/form-data 請求推理&lt;/h2>
&lt;ul>
&lt;li>對於標示 &lt;code>[FromForm]&lt;/code> 的參數，推斷 Content-Type 為 &lt;code>multipart/form-data&lt;/code>。&lt;/li>
&lt;/ul>
&lt;h2 id="4-屬性路由要求">4. 屬性路由要求&lt;/h2>
&lt;ul>
&lt;li>強制要求所有操作都必須通過屬性路由。&lt;/li>
&lt;/ul>
&lt;style type="text/css">.notice{--root-color:#444;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#c33;--warning-content:#fee;--info-title:#fb7;--info-content:#fec;--note-title:#6be;--note-content:#e7f2fa;--tip-title:#5a5;--tip-content:#efe}@media (prefers-color-scheme:dark){.notice{--root-color:#ddd;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#800;--warning-content:#400;--info-title:#a50;--info-content:#420;--note-title:#069;--note-content:#023;--tip-title:#363;--tip-content:#121}}body.dark .notice{--root-color:#ddd;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#800;--warning-content:#400;--info-title:#a50;--info-content:#420;--note-title:#069;--note-content:#023;--tip-title:#363;--tip-content:#121}.notice{padding:18px;line-height:24px;margin-bottom:24px;border-radius:4px;color:var(--root-color);background:var(--root-background)}.notice p:last-child{margin-bottom:0}.notice-title{margin:-18px -18px 12px;padding:4px 18px;border-radius:4px 4px 0 0;font-weight:700;color:var(--title-color);background:var(--title-background)}.notice.warning .notice-title{background:var(--warning-title)}.notice.warning{background:var(--warning-content)}.notice.info .notice-title{background:var(--info-title)}.notice.info{background:var(--info-content)}.notice.note .notice-title{background:var(--note-title)}.notice.note{background:var(--note-content)}.notice.tip .notice-title{background:var(--tip-title)}.notice.tip{background:var(--tip-content)}.icon-notice{display:inline-flex;align-self:center;margin-right:8px}.icon-notice img,.icon-notice svg{height:1em;width:1em;fill:currentColor}.icon-notice img,.icon-notice.baseline svg{top:.125em;position:relative}&lt;/style>
&lt;div>&lt;svg width="0" height="0" display="none" xmlns="http://www.w3.org/2000/svg">&lt;symbol id="tip-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet">&lt;path d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"/>&lt;/symbol>&lt;symbol id="note-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet">&lt;path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"/>&lt;/symbol>&lt;symbol id="warning-notice" viewBox="0 0 576 512" preserveAspectRatio="xMidYMid meet">&lt;path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"/>&lt;/symbol>&lt;symbol id="info-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet">&lt;path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/>&lt;/symbol>&lt;/svg>&lt;/div>&lt;div class="notice info" >
&lt;p class="first notice-title">&lt;span class="icon-notice baseline">&lt;svg>&lt;use href="#info-notice">&lt;/use>&lt;/svg>&lt;/span>&lt;/p></description></item><item><title>[IT] HTML + CSS</title><link>https://intervalrain.github.io/it/html/</link><pubDate>Sun, 09 Jun 2024 02:10:53 +0800</pubDate><guid>https://intervalrain.github.io/it/html/</guid><description>&lt;ul>
&lt;li>可搭配程式碼服用：
&lt;ul>
&lt;li>&lt;a href="https://github.com/intervalrain/htmls/tree/main/tutorial">https://github.com/intervalrain/htmls/tree/main/tutorial&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>使用者文檔：
&lt;ul>
&lt;li>&lt;a href="https://www.w3.org/">W3C 官網&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://developer.mozilla.org/">MDN&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.w3schools.com/">W3School&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="一html">一、HTML&lt;/h2>
&lt;ol>
&lt;li>全名：超文本標記語言(HyperText Markup Language, HTML)&lt;/li>
&lt;li>現最常使用的是 HTML5，由 W3C &amp;amp; WHATWG 所制定。&lt;/li>
&lt;li>將檔案設置為 &lt;code>.html&lt;/code> 即可建立一個 html 檔案。&lt;/li>
&lt;/ol>
&lt;h2 id="二html-標籤">二、HTML 標籤&lt;/h2>
&lt;ol>
&lt;li>&lt;strong>標籤&lt;/strong>又稱&lt;strong>元素&lt;/strong>，是 HTML 的基本組成單位。&lt;/li>
&lt;li>標籤分為: &lt;strong>雙標籤&lt;/strong>和&lt;strong>單標籤&lt;/strong>(絕大多數都是雙標籤)。&lt;/li>
&lt;li>標籤不區分大小寫，但推薦小寫，因為小寫更規範&lt;/li>
&lt;li>雙標籤，&lt;code>&amp;lt;標籤名&amp;gt;標籤體&amp;lt;/標籤名&amp;gt;&lt;/code>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-html" data-lang="html">&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">marquee&lt;/span>&amp;gt;Hello World&amp;lt;/&lt;span style="color:#f92672">marquee&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="5">
&lt;li>單標籤，&lt;code>&amp;lt;標籤名/&amp;gt;&lt;/code>，&lt;code>/&lt;/code>可省略&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-html" data-lang="html">&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">input&lt;/span>/&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="6">
&lt;li>標籤之間的關係：並列關係、嵌套關係，可以使用 &lt;code>tab&lt;/code> 鍵進行縮進。&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-html" data-lang="html">&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">marquee&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Hello World
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">input&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;/&lt;span style="color:#f92672">marquee&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="三html-標籤屬性">三、HTML 標籤屬性&lt;/h2>
&lt;ol>
&lt;li>用於給標籤提供附加訊息。&lt;/li>
&lt;li>可以寫在: &lt;strong>起始標籤&lt;/strong>或&lt;strong>單標籤&lt;/strong>中，&lt;code>&amp;lt;標籤名 屬性名=&amp;quot;屬性值&amp;quot; 屬性名=&amp;quot;屬性值&amp;quot;&amp;gt;&lt;/code>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-html" data-lang="html">&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">marquee&lt;/span> &lt;span style="color:#a6e22e">loop&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;1&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">bgcolor&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;orange&amp;#34;&lt;/span>&amp;gt;Hello World&amp;lt;/&lt;span style="color:#f92672">marquee&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">input&lt;/span> &lt;span style="color:#a6e22e">type&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;password&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="3">
&lt;li>有些特殊的屬性，沒有屬性名，只有屬性值：&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-html" data-lang="html">&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">input&lt;/span> &lt;span style="color:#a6e22e">disabled&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="4">
&lt;li>&lt;/li>
&lt;/ol>
&lt;style type="text/css">.notice{--root-color:#444;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#c33;--warning-content:#fee;--info-title:#fb7;--info-content:#fec;--note-title:#6be;--note-content:#e7f2fa;--tip-title:#5a5;--tip-content:#efe}@media (prefers-color-scheme:dark){.notice{--root-color:#ddd;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#800;--warning-content:#400;--info-title:#a50;--info-content:#420;--note-title:#069;--note-content:#023;--tip-title:#363;--tip-content:#121}}body.dark .notice{--root-color:#ddd;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#800;--warning-content:#400;--info-title:#a50;--info-content:#420;--note-title:#069;--note-content:#023;--tip-title:#363;--tip-content:#121}.notice{padding:18px;line-height:24px;margin-bottom:24px;border-radius:4px;color:var(--root-color);background:var(--root-background)}.notice p:last-child{margin-bottom:0}.notice-title{margin:-18px -18px 12px;padding:4px 18px;border-radius:4px 4px 0 0;font-weight:700;color:var(--title-color);background:var(--title-background)}.notice.warning .notice-title{background:var(--warning-title)}.notice.warning{background:var(--warning-content)}.notice.info .notice-title{background:var(--info-title)}.notice.info{background:var(--info-content)}.notice.note .notice-title{background:var(--note-title)}.notice.note{background:var(--note-content)}.notice.tip .notice-title{background:var(--tip-title)}.notice.tip{background:var(--tip-content)}.icon-notice{display:inline-flex;align-self:center;margin-right:8px}.icon-notice img,.icon-notice svg{height:1em;width:1em;fill:currentColor}.icon-notice img,.icon-notice.baseline svg{top:.125em;position:relative}&lt;/style>
&lt;div>&lt;svg width="0" height="0" display="none" xmlns="http://www.w3.org/2000/svg">&lt;symbol id="tip-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet">&lt;path d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"/>&lt;/symbol>&lt;symbol id="note-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet">&lt;path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"/>&lt;/symbol>&lt;symbol id="warning-notice" viewBox="0 0 576 512" preserveAspectRatio="xMidYMid meet">&lt;path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"/>&lt;/symbol>&lt;symbol id="info-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet">&lt;path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/>&lt;/symbol>&lt;/svg>&lt;/div>&lt;div class="notice warning" >
&lt;p class="first notice-title">&lt;span class="icon-notice baseline">&lt;svg>&lt;use href="#warning-notice">&lt;/use>&lt;/svg>&lt;/span>&lt;/p></description></item><item><title>[IT] EntityFramework Commands</title><link>https://intervalrain.github.io/it/entityframework_command/</link><pubDate>Sun, 31 Mar 2024 14:37:44 +0800</pubDate><guid>https://intervalrain.github.io/it/entityframework_command/</guid><description>Some commands to trigger migration operations</description></item><item><title>[System Design] 系統設計概念與資源 System Design and Resources</title><link>https://intervalrain.github.io/systemdesign/system_design_menu/</link><pubDate>Tue, 26 Mar 2024 22:35:38 +0800</pubDate><guid>https://intervalrain.github.io/systemdesign/system_design_menu/</guid><description>學習系統設計概念的資源</description></item><item><title>[IT] 用 C# 建置 Clean Architecture 專案</title><link>https://intervalrain.github.io/it/ca_config/</link><pubDate>Sat, 09 Mar 2024 13:59:22 +0800</pubDate><guid>https://intervalrain.github.io/it/ca_config/</guid><description>&lt;h1 id="configure-c-solution-step-by-step">Configure C# Solution step by step&lt;/h1>
&lt;ul>
&lt;li>開啟 Terminal&lt;/li>
&lt;li>新增解決方案 &lt;code>dontet new sln -o MySln&lt;/code>&lt;/li>
&lt;li>移至方案目錄 &lt;code>cd MySln&lt;/code>&lt;/li>
&lt;li>根據解決方案 hierarchy 建構專案
&lt;ul>
&lt;li>&lt;code>dotnet new webapi -o MySln.Api&lt;/code>&lt;/li>
&lt;li>&lt;code>dotnet new classlib -o MySln.Application&lt;/code>&lt;/li>
&lt;li>&lt;code>dotnet new classlib -o MySln.Domain&lt;/code>&lt;/li>
&lt;li>&lt;code>dotnet new classlib -o MySln.Infrastructure&lt;/code>&lt;/li>
&lt;li>&lt;code>dotnet new classlib -o MySln.Contracts&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>將所有專案加進解決方案
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">for&lt;/span> proj in &lt;span style="color:#66d9ef">$(&lt;/span>ls -r **/*.csproj&lt;span style="color:#66d9ef">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dotnet sln add $proj
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>建立專案之間的 dependency
&lt;ul>
&lt;li>&lt;code>dotnet add MySln.Api reference MySln.Application MySln.Infrastructure MySln.Contracts&lt;/code>&lt;/li>
&lt;li>&lt;code>dotnet add MySln.Infrastructure reference MySln.Application&lt;/code>&lt;/li>
&lt;li>&lt;code>dotnet add MySln.Application reference MySln.Domain&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul></description></item><item><title>[IT] 使用 Clean Architecture + DDD 建置 Restful API</title><link>https://intervalrain.github.io/it/clean_arch_configuration/</link><pubDate>Mon, 26 Feb 2024 15:03:15 +0800</pubDate><guid>https://intervalrain.github.io/it/clean_arch_configuration/</guid><description>&lt;h1 id="程式碼">程式碼&lt;/h1>
&lt;p>&lt;a href="https://github.com/intervalrain/webapi_ca/">https://github.com/intervalrain/webapi_ca/&lt;/a>&lt;/p>
&lt;h1 id="正文">正文&lt;/h1>
&lt;h2 id="建置-solution">建置 Solution&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>首先先參考 Clean Architecture 最經典的同心圓，來確定我們需要將我們的解決方案做哪些分層：&lt;/p>
&lt;ul>
&lt;li>我將使用 Restful API 做為我們 I/O (Presentation Layer)&lt;/li>
&lt;li>並且我需要配備身份驗證的機制 (Presentation Layer)&lt;/li>
&lt;li>我使用 PostgresDB 作為我的 (Infrastructure Layer)&lt;/li>
&lt;li>我的核心商業邏輯 (Application / Domain Layer)
&lt;img src="https://herbertograca.files.wordpress.com/2017/04/cleanarchitecture-5c6d7ec787d447a81b708b73abba1680.jpg" width="480">&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>創建專案&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-vim" data-lang="vim">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">new&lt;/span> &lt;span style="color:#a6e22e">sln&lt;/span> -&lt;span style="color:#a6e22e">o&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>進入專案所在的資料夾&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-vim" data-lang="vim">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">cd&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>根據預先的分層建立專案資料夾，並且使用 dotnet 指令建立相對應的專案類型。
&lt;ul>
&lt;li>Api &amp;ndash;&amp;gt; WebAPI&lt;/li>
&lt;li>Infrastructure &amp;ndash;&amp;gt; classlib&lt;/li>
&lt;li>Contracts &amp;ndash;&amp;gt; classlib&lt;/li>
&lt;li>Application &amp;ndash;&amp;gt; classlib&lt;/li>
&lt;li>Domain &amp;ndash;&amp;gt; classlib&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-vim" data-lang="vim">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">new&lt;/span> &lt;span style="color:#a6e22e">webapi&lt;/span> -&lt;span style="color:#a6e22e">o&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Api&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">new&lt;/span> &lt;span style="color:#a6e22e">classlib&lt;/span> -&lt;span style="color:#a6e22e">o&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Contracts&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">new&lt;/span> &lt;span style="color:#a6e22e">classlib&lt;/span> -&lt;span style="color:#a6e22e">o&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Infrastructure&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">new&lt;/span> &lt;span style="color:#a6e22e">classlib&lt;/span> -&lt;span style="color:#a6e22e">o&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Application&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">new&lt;/span> &lt;span style="color:#a6e22e">classlib&lt;/span> -&lt;span style="color:#a6e22e">o&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Domain&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>接著我們需要把產生的專案資料夾，加入到我們的 Solution。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-vim" data-lang="vim">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">sln&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Api&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">sln&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Application&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">sln&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Contracts&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">sln&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Domain&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">sln&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Infrastructure&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>接下來按照 Clean Architecture 的依賴原則來設定 dependency，依我的專案來說依賴方向如下。
&lt;div class="mermaid">
graph TD;
Api-->Contracts;
Api-->Application;
Infrastructure-->Application
Application-->Domain
Api-.->Infrastructure
&lt;/div>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-vim" data-lang="vim">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Api&lt;/span> &lt;span style="color:#a6e22e">reference&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Contracts&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Application&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Infrastructure&lt;/span> &lt;span style="color:#a6e22e">reference&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Application&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Application&lt;/span> &lt;span style="color:#a6e22e">reference&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Domain&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Api&lt;/span> &lt;span style="color:#a6e22e">reference&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Infrastructure&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>至此，已經完成了基本的 hierarchy 建置，接下來要為 Restful Client 做準備。&lt;/li>
&lt;/ul>
&lt;h2 id="login-authentication">Login Authentication&lt;/h2>
&lt;ul>
&lt;li>作為驗證的需要，我們需要以下三種驗證檔案，包含兩個 Request 與一個 Response&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">record&lt;/span> &lt;span style="color:#a6e22e">RegisterRequest&lt;/span>(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">string&lt;/span> FirstName,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">string&lt;/span> LastName,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">string&lt;/span> Email,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">string&lt;/span> Password
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">record&lt;/span> &lt;span style="color:#a6e22e">LoginRequest&lt;/span>(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">string&lt;/span> Email,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">string&lt;/span> Password
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">record&lt;/span> &lt;span style="color:#a6e22e">AuthenticationResponse&lt;/span>(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Guid Id,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">string&lt;/span> FirstName,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">string&lt;/span> LastName,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">string&lt;/span> Email,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">string&lt;/span> token
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>);
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>到 Controller 去設置註冊與登入的兩個路由，並且將之後的服務介面預先注入到其中。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">[ApiController]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">[Route(&amp;#34;auth&amp;#34;)]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">AuthenticationController&lt;/span> : ControllerBase
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e"> [HttpPost(&amp;#34;register&amp;#34;)]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> IActionResult Register(RegisterRequest request)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> Ok(request);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e"> [HttpPost(&amp;#34;login&amp;#34;)]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> IActionResult Login(LoginRequest request)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> Ok(request);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>接著我們創建 Application 中的服務，注意到因為 Application 不依賴於 Contracts，故我們這邊需要創建自己的 DataModel&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">record&lt;/span> &lt;span style="color:#a6e22e">AuthenticationResult&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Guid Id,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">string&lt;/span> FirstName,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">string&lt;/span> LastName,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">string&lt;/span> Email,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">string&lt;/span> Token
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>);
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>接著我們定義出 Application 的 Service。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">interface&lt;/span> &lt;span style="color:#a6e22e">IAuthenticationService&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> AuthenticationResult Register(&lt;span style="color:#66d9ef">string&lt;/span> firstName, &lt;span style="color:#66d9ef">string&lt;/span> lastName, &lt;span style="color:#66d9ef">string&lt;/span> email, &lt;span style="color:#66d9ef">string&lt;/span> password);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> AuthenticationResult Login(&lt;span style="color:#66d9ef">string&lt;/span> email, &lt;span style="color:#66d9ef">string&lt;/span> password);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>定義好我們的 service interface 之後，就可以到 Presentation 中將我們的 service 注入到 presentation 之中。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">[ApiController]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">[Route(&amp;#34;auth&amp;#34;)]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">AuthenticationController&lt;/span> : ControllerBase
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">private&lt;/span> &lt;span style="color:#66d9ef">readonly&lt;/span> IAuthenticationService _authenticationService;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> AuthenticationController(IAuthenticationService authenticationService)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _authenticationService = authenticationService;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e"> [HttpPost(&amp;#34;register&amp;#34;)]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> IActionResult Register(RegisterRequest request)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> authResult = _authenticationService.Register(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> request.FirstName,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> request.LastName,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> request.Email,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> request.Password);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> response = &lt;span style="color:#66d9ef">new&lt;/span> AuthenticationResponse(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> authResult.Id,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> authResult.FirstName,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> authResult.LastName,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> authResult.Email,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> authResult.Token);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> Ok(response);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e"> [HttpPost(&amp;#34;login&amp;#34;)]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> IActionResult Login(LoginRequest request)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> authResult = _authenticationService.Login(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> request.Email,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> request.Password);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> response = &lt;span style="color:#66d9ef">new&lt;/span> AuthenticationResponse(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> authResult.Id,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> authResult.FirstName,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> authResult.LastName,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> authResult.Email,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> authResult.Token);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> Ok(response);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>我們已經定義好我們的 service 後，便可以到 presentation 的 Program(或是其它入口點，如 Startup.cs 或 MauiProgram.cs)，做 service 的依賴注入。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">using&lt;/span> BuberDinner.Application.Services.Authentication;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">var&lt;/span> builder = WebApplication.CreateBuilder(args);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> builder.Services.AddScoped&amp;lt;IAuthenticationService, AuthenticationService&amp;gt;();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> builder.Services.AddControllers();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> builder.Services.AddEndpointsApiExplorer();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> builder.Services.AddSwaggerGen();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">var&lt;/span> app = builder.Build();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> app.UseSwagger();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> app.UseSwaggerUI();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> app.UseHttpsRedirection();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> app.MapControllers();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> app.Run();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>最後，我們先實作一個暫時的 Service，來確認 Api 是可以作業的。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">AuthenticationService&lt;/span> : IAuthenticationService
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> AuthenticationResult Register(&lt;span style="color:#66d9ef">string&lt;/span> firstName, &lt;span style="color:#66d9ef">string&lt;/span> lastName, &lt;span style="color:#66d9ef">string&lt;/span> email, &lt;span style="color:#66d9ef">string&lt;/span> password)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> AuthenticationResult(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Guid.NewGuid(),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> firstName,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> lastName,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> email,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;token&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> );
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> AuthenticationResult Login(&lt;span style="color:#66d9ef">string&lt;/span> email, &lt;span style="color:#66d9ef">string&lt;/span> password)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> AuthenticationResult(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Guid.NewGuid(),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;firstName&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;lastName&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> email,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;token&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> );
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>執行 &lt;code>dotnet run --project .\Mysln.Api\&lt;/code>&lt;/li>
&lt;li>在 Swagger 中測試我們實作的 &lt;code>register&lt;/code> 與 &lt;code>login&lt;/code> API，如果正常工作，會回傳 StatusCode: 200。&lt;/li>
&lt;/ul>
&lt;h2 id="dependency-injection">Dependency Injection&lt;/h2>
&lt;ul>
&lt;li>我們想要每一層都可以自己管理自己的注入，此時我們需要引入 &lt;code>Microsoft.Extensions.DependencyInjection&lt;/code>。&lt;/li>
&lt;li>接下來實作 Application 的 DependencyInjection。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">DependencyInjection&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> IServiceCollection AddApllication(&lt;span style="color:#66d9ef">this&lt;/span> IServiceCollection services)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> services.AddScope&amp;lt;IAuthenticationService, AuthenticationService&amp;gt;();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> services;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>接下來實作 Infrastructure 的 DependencyInjection。(暫時還沒有注入 repository)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">DependencyInjection&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> IServiceCollection AddInfrastructure(&lt;span style="color:#66d9ef">this&lt;/span> IServiceCollection services)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 未來要注入 repositories&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> services;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>接下來我們可以改寫 &lt;code>Program.cs&lt;/code>。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">using&lt;/span> BuberDinner.Application;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">using&lt;/span> BuberDinner.Infrastructure;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">var&lt;/span> builder = WebApplication.CreateBuilder(args);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> builder.Services
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .AddApplication()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .AddInfrastructure();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> builder.Services.AddControllers();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> builder.Services.AddEndpointsApiExplorer();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> builder.Services.AddSwaggerGen();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">var&lt;/span> app = builder.Build();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> app.UseSwagger();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> app.UseSwaggerUI();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> app.UseHttpsRedirection();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> app.MapControllers();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> app.Run();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="實作-jwt-token-generator">實作 JWT Token Generator&lt;/h2>
&lt;ul>
&lt;li>首先先在 Application Layer 創建一個 interface 來做依賴反轉&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">interface&lt;/span> &lt;span style="color:#a6e22e">IJwtTokenGenerator&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">string&lt;/span> GenerateToken(Guid userId, &lt;span style="color:#66d9ef">string&lt;/span> firstName, &lt;span style="color:#66d9ef">string&lt;/span> lastName);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>接著我們到 Infrastructure Layer 來實作我們的 JwtTokenGenerator。&lt;/li>
&lt;li>首先我們需要 &lt;code>System.IdentityModel.Tokens.Jwt&lt;/code> 這個 Package。&lt;/li>
&lt;li>接著我們實作 &lt;code>JwtTokenGenerator&lt;/code>。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">JwtTokenGenerator&lt;/span> : IJwtTokenGenerator
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span> GenerateToken(Guid userId, &lt;span style="color:#66d9ef">string&lt;/span> firstName, &lt;span style="color:#66d9ef">string&lt;/span> lastName)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> signingCredentials = &lt;span style="color:#66d9ef">new&lt;/span> SigningCredentials(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">new&lt;/span> SymmetricSecurityKey(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Encoding.UTF8.GetBytes(&lt;span style="color:#e6db74">&amp;#34;super-secret-key&amp;#34;&lt;/span>)),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> SecurityAlgorithms.HmacSha256);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> claims = &lt;span style="color:#66d9ef">new&lt;/span>[]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">new&lt;/span> Claim(JwtRegisteredClaimNames.Sub, userId.ToString()),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">new&lt;/span> Claim(JwtRegisteredClaimNames.GivenName, firstName),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">new&lt;/span> Claim(JwtRegisteredClaimNames.FamilyName, lastName),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">new&lt;/span> Claim(JwtRegisteredClaimNames.Jti, Guid.NewGuid().ToString())
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> };
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> securityToken = &lt;span style="color:#66d9ef">new&lt;/span> JwtSecurityToken(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> issuer: &lt;span style="color:#e6db74">&amp;#34;Mysln&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> expires: DateTime.Now.AddDays(&lt;span style="color:#ae81ff">1&lt;/span>),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> claims: claims,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> signingCredentials: signingCredentials);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> JwtSecurityTokenHandler().WriteToken(securityToken);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>接著我們將之注入到服務中，即大功告成了。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">DependencyInjection&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> IServiceCollection AddInfrastructure(&lt;span style="color:#66d9ef">this&lt;/span> IServiceCollection services)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> services.AddSingleton&amp;lt;IJwtTokenGenerator, JwtTokenGenerator&amp;gt;();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> services;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="使用-options-pattern-注入-jwt-settings">使用 Options Pattern 注入 JWT Settings&lt;/h2>
&lt;ul>
&lt;li>接下來我們要使用 Options Pattern 將 JWT Settings 注入到 JwtTokenGenerator 中。&lt;/li>
&lt;li>首先我們先到 &lt;code>Mysln.Api&lt;/code> 的 &lt;code>appsettings.json&lt;/code> 中將 options 設置完成。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;Logging&amp;#34;&lt;/span>: {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;LogLevel&amp;#34;&lt;/span>: {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;Default&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;Information&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;Microsoft.AspNetCore&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;Warning&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> },
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;AllowedHosts&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;*&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;JwtSettings&amp;#34;&lt;/span>: {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;Secret&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;super-secret-key&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;ExpiryMinutes&amp;#34;&lt;/span>: &lt;span style="color:#ae81ff">60&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;Issuer&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;Mysln&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;Audience:&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;Mysln&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>由於我們要使用 Options Pattern，我們需要改寫我們的 &lt;code>Program.cs&lt;/code>，並且將 ConfigurationManager 注入到 Infrastructure 的 DependencyInjection。&lt;/li>
&lt;li>為此我們需要引入套件 &lt;code>Microsoft.Extensions.Configuration&lt;/code> 與 &lt;code>Microsoft.Extensions.Options.ConfigurationExtensions&lt;/code>。&lt;/li>
&lt;li>並且我們需要創建一個 Model。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">JwtSettings&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span> SectionName = &lt;span style="color:#e6db74">&amp;#34;JwtSettings&amp;#34;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span> Secret { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">init&lt;/span>; } = &lt;span style="color:#66d9ef">null&lt;/span>!;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> ExpiryMinutes { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">init&lt;/span>; }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span> Issuer { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">init&lt;/span>; } = &lt;span style="color:#66d9ef">null&lt;/span>!;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span> Audience { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">init&lt;/span>; } = &lt;span style="color:#66d9ef">null&lt;/span>!;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>Program.cs&lt;/code> 需改寫成：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>builder.Services
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .AddApplication()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .AddInfrastructure(builder.Configuration);
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>將 &lt;code>DependencyInjection&lt;/code> 改寫成：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">DependencyInjection&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> IServiceCollection AddInfrastructure(&lt;span style="color:#66d9ef">this&lt;/span> IServiceCollection services, ConfigurationManager configuration)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> services.Configure&amp;lt;JwtSettings&amp;gt;(configuration.GetSection(JwtSettings.SectionName));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> services.AddSingleton&amp;lt;IJwtTokenGenerator, JwtTokenGenerator&amp;gt;();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> services.AddSingleton&amp;lt;IDateTimeProvider, DateTimeProvider&amp;gt;();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> services;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>接下來，我們可以把 JwtTokenGenerator 改寫成：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">JwtTokenGenerator&lt;/span> : IJwtTokenGenerator
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">private&lt;/span> &lt;span style="color:#66d9ef">readonly&lt;/span> JwtSettings _jwtSettings;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">private&lt;/span> &lt;span style="color:#66d9ef">readonly&lt;/span> IDateTimeProvider _dateTimeProvider;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> JwtTokenGenerator(IDateTimeProvider dateTimeProvider, IOptions&amp;lt;JwtSettings&amp;gt; jwtOptions)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _dateTimeProvider = dateTimeProvider;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _jwtSettings = jwtOptions.Value;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span> GenerateToken(Guid userId, &lt;span style="color:#66d9ef">string&lt;/span> firstName, &lt;span style="color:#66d9ef">string&lt;/span> lastName)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> signingCredentials = &lt;span style="color:#66d9ef">new&lt;/span> SigningCredentials(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">new&lt;/span> SymmetricSecurityKey(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Encoding.UTF8.GetBytes(_jwtSettings.Secret)),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> SecurityAlgorithms.HmacSha256);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> claims = &lt;span style="color:#66d9ef">new&lt;/span>[]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">new&lt;/span> Claim(JwtRegisteredClaimNames.Sub, userId.ToString()),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">new&lt;/span> Claim(JwtRegisteredClaimNames.GivenName, firstName),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">new&lt;/span> Claim(JwtRegisteredClaimNames.FamilyName, lastName),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">new&lt;/span> Claim(JwtRegisteredClaimNames.Jti, Guid.NewGuid().ToString())
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> };
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> securityToken = &lt;span style="color:#66d9ef">new&lt;/span> JwtSecurityToken(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> issuer: _jwtSettings.Issuer,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> audience: _jwtSettings.Audience,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> expires: _dateTimeProvider.UtcNow.AddMinutes(_jwtSettings.ExpiryMinutes),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> claims: claims,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> signingCredentials: signingCredentials);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> JwtSecurityTokenHandler().WriteToken(securityToken);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>以上就大功告成了。&lt;/li>
&lt;/ul>
&lt;h2 id="使用-dotnet-user-secrets-指令">使用 &lt;code>dotnet user-secrets&lt;/code> 指令&lt;/h2>
&lt;ul>
&lt;li>如果不想要將 Options 中的 secret 儲存在程式(appsettings.json)裡面，可以利用 &lt;code>dotnet user-secrets&lt;/code> 將 secret 儲存於環境變數裡面。&lt;/li>
&lt;li>透過執行以下的指令來初始化專案的 &lt;code>UserSecretsId&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-vim" data-lang="vim">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">user&lt;/span>-&lt;span style="color:#a6e22e">secrets&lt;/span> &lt;span style="color:#a6e22e">init&lt;/span> --&lt;span style="color:#a6e22e">project&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Api&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>接著將 &lt;code>UserSecretsId&lt;/code> 綁定到我們專案的 &lt;code>JwtSettings:Secret&lt;/code>。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-vim" data-lang="vim">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">user&lt;/span>-&lt;span style="color:#a6e22e">secrets&lt;/span> &lt;span style="color:#66d9ef">set&lt;/span> --&lt;span style="color:#a6e22e">project&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Api&lt;/span> &lt;span style="color:#e6db74">&amp;#34;JwtSettings:Secret&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>日後可以經由以下指令查詢。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-vim" data-lang="vim">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">dotnet&lt;/span> &lt;span style="color:#a6e22e">user&lt;/span>-&lt;span style="color:#a6e22e">secrets&lt;/span> &lt;span style="color:#a6e22e">list&lt;/span> --&lt;span style="color:#a6e22e">project&lt;/span> &lt;span style="color:#a6e22e">Mysln&lt;/span>.&lt;span style="color:#a6e22e">Api&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="domain-model">Domain Model&lt;/h2>
&lt;ul>
&lt;li>先建立一個簡單的 Domain Model(Entity)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">User&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> Guid Id { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">set&lt;/span>; } = Guid.NewGuid();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span> FirstName { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">set&lt;/span>; } = &lt;span style="color:#66d9ef">null&lt;/span>!;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span> LastName { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">set&lt;/span>; } = &lt;span style="color:#66d9ef">null&lt;/span>!;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span> Email { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">set&lt;/span>; } = &lt;span style="color:#66d9ef">null&lt;/span>!;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span> Password { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">set&lt;/span>; } = &lt;span style="color:#66d9ef">null&lt;/span>!;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="repository-pattern">Repository Pattern&lt;/h2>
&lt;ul>
&lt;li>在 Application Layer 建立 IRepository&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">interface&lt;/span> &lt;span style="color:#a6e22e">IUserRepository&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> User? GetUserByEmail(&lt;span style="color:#66d9ef">string&lt;/span> email);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> Add(User user);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>將 IRepository 注入 Application 的 Service&lt;/li>
&lt;li>並用查改存推改寫 Service&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">AuthenticationService&lt;/span> : IAuthenticationService
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">private&lt;/span> &lt;span style="color:#66d9ef">readonly&lt;/span> IJwtTokenGenerator _jwtTokenGenerator;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">private&lt;/span> &lt;span style="color:#66d9ef">readonly&lt;/span> IUserRepository _userRepository;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> AuthenticationService(IJwtTokenGenerator jwtTokenGenerator, IUserRepository userRepository)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _jwtTokenGenerator = jwtTokenGenerator;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _userRepository = userRepository;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> AuthenticationResult Register(&lt;span style="color:#66d9ef">string&lt;/span> firstName, &lt;span style="color:#66d9ef">string&lt;/span> lastName, &lt;span style="color:#66d9ef">string&lt;/span> email, &lt;span style="color:#66d9ef">string&lt;/span> password)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 查&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (_userRepository.GetUserByEmail(email) &lt;span style="color:#66d9ef">is&lt;/span> not &lt;span style="color:#66d9ef">null&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">throw&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> Exception(&lt;span style="color:#e6db74">&amp;#34;User with given email already exists.&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 改&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> user = &lt;span style="color:#66d9ef">new&lt;/span> User
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> FirstName = firstName,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> LastName = lastName,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Email = email,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Password = password
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> };
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 存&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _userRepository.Add(user);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 推&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> token = _jwtTokenGenerator.GenerateToken(user.Id, firstName, lastName);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> AuthenticationResult(user.Id, firstName, lastName, email, token);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> AuthenticationResult Login(&lt;span style="color:#66d9ef">string&lt;/span> email, &lt;span style="color:#66d9ef">string&lt;/span> password)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 查&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (_userRepository.GetUserByEmail(email) &lt;span style="color:#66d9ef">is&lt;/span> not User user)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">throw&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> Exception(&lt;span style="color:#e6db74">&amp;#34;User with given email does not exist.&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (user.Password != password)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">throw&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> Exception(&lt;span style="color:#e6db74">&amp;#34;Invalid password.&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 改&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> token = _jwtTokenGenerator.GenerateToken(user.Id, user.FirstName, user.LastName);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> AuthenticationResult(user.Id, user.FirstName, user.LastName, email, token);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>接著我們在 Infrastructure Layer 實作我們的 repository，我們暫時先不接資料庫，所以先做一個 InMemory 版本的 repository 來做測試。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">UserRepository&lt;/span> : IUserRepository
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">private&lt;/span> &lt;span style="color:#66d9ef">readonly&lt;/span> List&amp;lt;User&amp;gt; _users = &lt;span style="color:#66d9ef">new&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> Add(User user)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _users.Add(user);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> User? GetUserByEmail(&lt;span style="color:#66d9ef">string&lt;/span> email)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> _users.SingleOrDefault(u =&amp;gt; u.Email.Equals(email));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>實作完需要透過 DependencyInjection 注入到我們的 Service Container 內。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">DependencyInjection&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> IServiceCollection AddInfrastructure(&lt;span style="color:#66d9ef">this&lt;/span> IServiceCollection services, ConfigurationManager configuration)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> services.Configure&amp;lt;JwtSettings&amp;gt;(configuration.GetSection(JwtSettings.SectionName));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> services.AddSingleton&amp;lt;IJwtTokenGenerator, JwtTokenGenerator&amp;gt;();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> services.AddSingleton&amp;lt;IDateTimeProvider, DateTimeProvider&amp;gt;();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> services.AddSingleton&amp;lt;IUserRepository, UserRepository&amp;gt;();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> services;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>至此，我們已經完成了一個簡單的身份認證的 API。&lt;/li>
&lt;/ul></description></item><item><title>[ML] 選擇 loss function/ optimizer/ metrics</title><link>https://intervalrain.github.io/ml/optimizer/</link><pubDate>Wed, 14 Feb 2024 15:39:25 +0800</pubDate><guid>https://intervalrain.github.io/ml/optimizer/</guid><description>Optimizer</description></item><item><title>[IT] .NET Maui</title><link>https://intervalrain.github.io/it/maui/</link><pubDate>Sun, 28 Jan 2024 13:30:34 +0800</pubDate><guid>https://intervalrain.github.io/it/maui/</guid><description>&lt;h1 id="net-maui">.NET Maui&lt;/h1>
&lt;ul>
&lt;li>.NET Maui 是一個跨平台的桌面與手機應用開發框架，它支援 iOS、Android、macOS、Windows。&lt;/li>
&lt;li>不同於 Xamarin，.NET Maui 只需要一個專案便可以導向不同的平台。
&lt;img src="https://intervalrain.github.io/IT/img/maui.jpg" width="300">&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="架構">架構&lt;/h2>
&lt;img src="https://intervalrain.github.io/IT/img/maui_hierarchy.jpg" width="300">
&lt;ul>
&lt;li>一個 .NET Maui 專案底下，預設會有幾個資料夾與檔案，其關係如下圖：
&lt;ul>
&lt;li>&lt;code>/Platforms&lt;/code> 底下的各個資料夾為不同平台的入口，不同的平台各有一個 &lt;code>Program.cs&lt;/code>。&lt;/li>
&lt;li>各個 &lt;code>Program.cs&lt;/code> 內又會透過注入該 namespace 底下的 &lt;code>AppDelegate&lt;/code> ，將入口指向 &lt;code>MauiProgram&lt;/code> 的 &lt;code>CreateMauiApp()&lt;/code>，就此將不同平台路由到 &lt;code>MauiProgram.cs&lt;/code> 這個統一的入口。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Csharp" data-lang="Csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Program&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> Main(&lt;span style="color:#66d9ef">string&lt;/span>[] args)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> UIApplication.Main(args, &lt;span style="color:#66d9ef">null&lt;/span>, &lt;span style="color:#66d9ef">typeof&lt;/span>(AppDelegate));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">[Register(&amp;#34;AppDelegate&amp;#34;)]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">AppDelegate&lt;/span> : MauiUIApplicationDelegate
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">protected&lt;/span> &lt;span style="color:#66d9ef">override&lt;/span> MauiApp CreateMauiApp() =&amp;gt; MauiProgram.CreateMauiApp();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>關係如下圖：
&lt;div class="mermaid">
graph TD;
iOS-->MauiProgram.cs;
Android-->MauiProgram.cs;
Windows-->MauiProgram.cs;
macOS-->MauiProgram.cs;
MauiProgram.cs-->App;
App-->AppShell;
AppShell-.->Page1;
AppShell-.->Page2;
AppShell-.->Page3;
AppShell-.->Page4;
&lt;/div>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Csharp" data-lang="Csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">MauiProgram&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> MauiApp CreateMauiApp()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> builder = MauiApp.CreateBuilder();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> builder
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .UseMauiApp&amp;lt;App&amp;gt;()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .ConfigureFonts(fonts =&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> fonts.AddFont(&lt;span style="color:#e6db74">&amp;#34;OpenSans-Regular.ttf&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;OpenSansRegular&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> fonts.AddFont(&lt;span style="color:#e6db74">&amp;#34;OpenSans-Semibold.ttf&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;OpenSansSemibold&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> });
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> builder.Build();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">partial&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">App&lt;/span> : Application
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> App()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> InitializeComponent();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> MainPage = &lt;span style="color:#66d9ef">new&lt;/span> AppShell();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>從上面兩段程式 &lt;code>MauiProgram.cs&lt;/code> 與 &lt;code>App.xaml.cs&lt;/code> 可以看出，這個統一的進入點會開啟 App，並將 &lt;code>AppShell&lt;/code> 作為 MainPage 開放。&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="router">Router&lt;/h2>
&lt;ul>
&lt;li>在此可以發現 &lt;code>AppShell&lt;/code> 作為一個 Controller 的功能，用來引導頁面的路由。&lt;/li>
&lt;li>我們可以透過 &lt;code>RegisterRoute&lt;/code> 來注冊要顯示的頁面。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Csharp" data-lang="Csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">partial&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">AppShell&lt;/span> : Shell
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> AppShell()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> InitializeComponent();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Routing.RegisterRoute(nameof(Page1), &lt;span style="color:#66d9ef">typeof&lt;/span>(Page1));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Routing.RegisterRoute(nameof(Page2), &lt;span style="color:#66d9ef">typeof&lt;/span>(Page2));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Routing.RegisterRoute(nameof(Page3), &lt;span style="color:#66d9ef">typeof&lt;/span>(Page3));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h2 id="xaml">xaml&lt;/h2>
&lt;ul>
&lt;li>上述的頁面可以透過新增 &lt;code>xaml&lt;/code> 檔來建立：&lt;/li>
&lt;li>以下為一個 &lt;code>xaml&lt;/code> 檔的 sample
&lt;ul>
&lt;li>&lt;code>x:class=&amp;quot;MoneyTrack.AppShell&amp;quot;&lt;/code> 表示該檔案的路徑為 &lt;code>MoneyTrack.AppShell&lt;/code>&lt;/li>
&lt;li>&lt;code>mlns&lt;/code> 關鍵字很像是 &lt;code>using&lt;/code>：
&lt;ul>
&lt;li>&lt;code>xmlns:views=&amp;quot;clr-namespace:MoneyTrack.Views&amp;quot;&lt;/code>: 代表將 &lt;code>MoneyTrack.Views&lt;/code> 這個路徑命名成 &lt;code>views&lt;/code>。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ShellContent 內代表是首頁要導引至的頁面，如下例會導向 &lt;code>view:MoneyTackPage&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-html" data-lang="html">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34; ?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">Shell&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">x:Class&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;MoneyTrack.AppShell&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">xmlns&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;http://schemas.microsoft.com/dotnet/2021/maui&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">xmlns:x&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;http://schemas.microsoft.com/winfx/2009/xaml&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">xmlns:local&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;clr-namespace:MoneyTrack&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">xmlns:views&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;clr-namespace:MoneyTrack.Views&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">Shell&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">.&lt;/span>&lt;span style="color:#a6e22e">FlyoutBehavior&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Disabled&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">Title&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;MoneyTrack&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">ShellContent&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">Title&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Home&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">ContentTemplate&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{DataTemplate views:MoneyTackPage}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">Route&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;MoneyTackPage&amp;#34;&lt;/span> /&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;/&lt;span style="color:#f92672">Shell&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-html" data-lang="html">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;utf-8&amp;#34; ?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;&lt;span style="color:#f92672">ContentPage&lt;/span> &lt;span style="color:#a6e22e">xmlns&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;http://schemas.microsoft.com/dotnet/2021/maui&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">xmlns:x&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;http://schemas.microsoft.com/winfx/2009/xaml&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">x:Class&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;MoneyTrack.Views.ContactsPage&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">Title&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Contacts&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">VerticalStackLayout&lt;/span> &lt;span style="color:#a6e22e">Spacing&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;5&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">Label&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">Text&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Welcome to .NET MAUI!&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">VerticalOptions&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Center&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">HorizontalOptions&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Center&amp;#34;&lt;/span> /&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">Button&lt;/span> &lt;span style="color:#a6e22e">x:Name&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;btn1&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Clicked&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;btn1_Clicked&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Text&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;click1&amp;#34;&lt;/span>&amp;gt;&amp;lt;/&lt;span style="color:#f92672">Button&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">Button&lt;/span> &lt;span style="color:#a6e22e">x:Name&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;btn2&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Clicked&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;btn2_Clicked&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">Text&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;click2&amp;#34;&lt;/span>&amp;gt;&amp;lt;/&lt;span style="color:#f92672">Button&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;/&lt;span style="color:#f92672">VerticalStackLayout&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;lt;/&lt;span style="color:#f92672">ContentPage&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="shell">Shell&lt;/h2>
&lt;ul>
&lt;li>接著我們可以透過 &lt;code>Shell&lt;/code> 來控制面版上要顯示的頁面：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Csharp" data-lang="Csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> btnPage1_Clicked()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Shell.Current.GoToAsync(nameof(Page1));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="gotoasync">GoToAsync&lt;/h2>
&lt;ul>
&lt;li>Shell 本身是一個 View，也是一個 Layout&lt;/li>
&lt;li>&lt;code>GoToAsync&lt;/code> 可以用來切換頁面&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Csharp" data-lang="Csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">void&lt;/span> btnPage1_Clicked(&lt;span style="color:#66d9ef">object&lt;/span> sender, EvertArgs e)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Shell.Current.GoToAsync(&lt;span style="color:#e6db74">$&amp;#34;{nameof(Page1)}&amp;#34;&lt;/span>); &lt;span style="color:#75715e">// 前往 Page1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">void&lt;/span> btnCancel_Clicked(&lt;span style="color:#66d9ef">object&lt;/span> sender, EvertArgs e)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Shell.Current.GoToAsync(&lt;span style="color:#e6db74">$&amp;#34;//{nameof(MainPage)}&amp;#34;&lt;/span>); &lt;span style="color:#75715e">// 回到 MainPage&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">void&lt;/span> btnCancel_Clicked(&lt;span style="color:#66d9ef">object&lt;/span> sender, EvertArgs e)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Shell.Current.GoToAsync(&lt;span style="color:#e6db74">$&amp;#34;..&amp;#34;&lt;/span>); &lt;span style="color:#75715e">// 回到上一頁&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="queryproperty">QueryProperty&lt;/h2>
&lt;ul>
&lt;li>透過 &lt;code>QueryPropertyAttribute&lt;/code> 可以達到如 http method 裡的 get 的方法。&lt;/li>
&lt;li>以下範例等同於實現 &lt;code>page1?Id=1&lt;/code>，在路由到 page1 的同時，將 property: Id 賦值。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Csharp" data-lang="Csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a6e22e">[QueryProperty(nameof(PageId), &amp;#34;Id&amp;#34;)]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">partial&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Page1&lt;/span> : ContentPage
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> EditContactPage()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> InitializeComponent();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span> ContactId
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">set&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> lblName.Text = Id;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[Hugo] 使用 Hugo-notice</title><link>https://intervalrain.github.io/hugo/notice/</link><pubDate>Fri, 19 Jan 2024 01:26:30 +0800</pubDate><guid>https://intervalrain.github.io/hugo/notice/</guid><description>Desc Text.</description></item><item><title>[IT] CORS 跨原始來源要求</title><link>https://intervalrain.github.io/it/cors/</link><pubDate>Fri, 19 Jan 2024 00:41:51 +0800</pubDate><guid>https://intervalrain.github.io/it/cors/</guid><description>&lt;h2 id="tldr">TL;DR&lt;/h2>
&lt;blockquote>
&lt;p>CORS (Cross-Origin Resource Sharing)&lt;br>
是一個支援安全跨源請求和資料傳輸的機制，用於在瀏覽器和伺服器之間進行跨源請求。&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>這是一個 W3C 標準，可讓伺服器放寬相同原始來源原則。&lt;/li>
&lt;li>不是安全性功能，CORS 會放寬安全性。 允許 CORS 並不會增強 API 的安全性。&lt;a href="https://learn.microsoft.com/zh-tw/aspnet/core/security/cors?view=aspnetcore-8.0#how-cors">CORS 的運作方式&lt;/a>&lt;/li>
&lt;li>允許伺服器明確允許某些跨原始來源要求，同時拒絕其他要求。&lt;/li>
&lt;li>比舊版技術 (例如：&lt;a href="https://learn.microsoft.com/zh-tw/dotnet/framework/wcf/samples/jsonp">JSONP&lt;/a>) 更安全且更有彈性。&lt;/li>
&lt;/ul>
&lt;h2 id="何謂相同原始來源">何謂相同原始來源&lt;/h2>
&lt;ul>
&lt;li>如果兩個 URL 具有相同的配置、主機和連接埠，則其原始來源相同 (&lt;a href="https://tools.ietf.org/html/rfc6454">RFC 6454&lt;/a>)。
&lt;ul>
&lt;li>這兩個 URL 具有相同的原始來源：
&lt;ul>
&lt;li>&lt;code>https://example.com/foo.html&lt;/code>&lt;/li>
&lt;li>&lt;code>https://example.com/bar.html&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>這些 URL 的原始來源與前兩個 URL 不同：
&lt;ul>
&lt;li>&lt;code>https://example.net：不同的&lt;/code>網域&lt;/li>
&lt;li>&lt;code>https://www.example.com/foo.html&lt;/code>：不同的子網域&lt;/li>
&lt;li>&lt;code>http://example.com/foo.html&lt;/code>：不同的配置&lt;/li>
&lt;li>&lt;code>https://example.com:9000/foo.html&lt;/code>：不同的連接埠&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="如何啟動-cors">如何啟動 CORS&lt;/h2>
&lt;p>有三種方式可以啟用 CORS：&lt;/p>
&lt;ul>
&lt;li>在中介軟體中，使用&lt;strong>具名原則&lt;/strong>或&lt;strong>預設原則&lt;/strong>。&lt;/li>
&lt;li>使用&lt;strong>端點路由&lt;/strong>。&lt;/li>
&lt;li>使用 &lt;strong>[EnableCors]&lt;/strong> 屬性。
搭配具名原則使用 [EnableCors] 屬性能夠以最精細的程度來控制對於支援 CORS 之端點的限制。&lt;/li>
&lt;/ul>
&lt;style type="text/css">.notice{--root-color:#444;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#c33;--warning-content:#fee;--info-title:#fb7;--info-content:#fec;--note-title:#6be;--note-content:#e7f2fa;--tip-title:#5a5;--tip-content:#efe}@media (prefers-color-scheme:dark){.notice{--root-color:#ddd;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#800;--warning-content:#400;--info-title:#a50;--info-content:#420;--note-title:#069;--note-content:#023;--tip-title:#363;--tip-content:#121}}body.dark .notice{--root-color:#ddd;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#800;--warning-content:#400;--info-title:#a50;--info-content:#420;--note-title:#069;--note-content:#023;--tip-title:#363;--tip-content:#121}.notice{padding:18px;line-height:24px;margin-bottom:24px;border-radius:4px;color:var(--root-color);background:var(--root-background)}.notice p:last-child{margin-bottom:0}.notice-title{margin:-18px -18px 12px;padding:4px 18px;border-radius:4px 4px 0 0;font-weight:700;color:var(--title-color);background:var(--title-background)}.notice.warning .notice-title{background:var(--warning-title)}.notice.warning{background:var(--warning-content)}.notice.info .notice-title{background:var(--info-title)}.notice.info{background:var(--info-content)}.notice.note .notice-title{background:var(--note-title)}.notice.note{background:var(--note-content)}.notice.tip .notice-title{background:var(--tip-title)}.notice.tip{background:var(--tip-content)}.icon-notice{display:inline-flex;align-self:center;margin-right:8px}.icon-notice img,.icon-notice svg{height:1em;width:1em;fill:currentColor}.icon-notice img,.icon-notice.baseline svg{top:.125em;position:relative}&lt;/style>
&lt;div>&lt;svg width="0" height="0" display="none" xmlns="http://www.w3.org/2000/svg">&lt;symbol id="tip-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet">&lt;path d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"/>&lt;/symbol>&lt;symbol id="note-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet">&lt;path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"/>&lt;/symbol>&lt;symbol id="warning-notice" viewBox="0 0 576 512" preserveAspectRatio="xMidYMid meet">&lt;path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"/>&lt;/symbol>&lt;symbol id="info-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet">&lt;path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"/>&lt;/symbol>&lt;/svg>&lt;/div>&lt;div class="notice warning" >
&lt;p class="first notice-title">&lt;span class="icon-notice baseline">&lt;svg>&lt;use href="#warning-notice">&lt;/use>&lt;/svg>&lt;/span>&lt;/p></description></item><item><title>[ML] General guide on ML</title><link>https://intervalrain.github.io/ml/general_guide/</link><pubDate>Sun, 14 Jan 2024 14:31:56 +0800</pubDate><guid>https://intervalrain.github.io/ml/general_guide/</guid><description>general guide on machine learning</description></item><item><title>[Statistics] a群體與b群體各別標準差求整體標準差</title><link>https://intervalrain.github.io/statistics/sigma/</link><pubDate>Tue, 12 Dec 2023 22:16:04 +0800</pubDate><guid>https://intervalrain.github.io/statistics/sigma/</guid><description>&lt;h1 id="given-sigma_a-and-sigma_b-ask-for-sigma">Given \(\sigma_a\) and \(\sigma_b\), Ask for \(\sigma\)&lt;/h1>
&lt;h2 id="1-簡化-sigma">1. 簡化 \(\sigma\)&lt;/h2>
&lt;ul>
&lt;li>將 \(\sigma\) 乘開
&lt;ul>
&lt;li>\(\sigma = \sqrt{\frac{\sum{(x_i-\bar x)^2}}{n}}\)&lt;/li>
&lt;li>\(\sigma = \sqrt{\frac{\sum{x_i^2-2\bar x\sum{x_i}+n\bar x^2}}{n}}\)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>平均等於總和除以個數 \(\frac{\sum x_i}{n}=\bar x\)，故
&lt;ul>
&lt;li>\(\sigma = \sqrt{\frac{\sum x_i^2}{n}-\frac{2\bar x\sum x_i}{n}+\frac{n\bar x^2}{n}}\)&lt;/li>
&lt;li>\(\sigma = \sqrt{\frac{\sum x_i^2}{n}-2\bar x^2+\bar x^2}\)&lt;/li>
&lt;li>得 \(\boxed{\sigma = \sqrt{\frac{\sum x_i^2}{n}-\bar x^2}}-(1)\)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="2-求個別平方和">2. 求個別平方和&lt;/h2>
&lt;ul>
&lt;li>由\((1)\)式可推得各別的標準差為
&lt;ul>
&lt;li>\(\boxed{\sigma_a = \sqrt{\frac{\sum x_{ai}^2}{n_a}-\bar x_a^2}}-(2)\)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>且
&lt;ul>
&lt;li>\(\boxed{n = n_a+n_b}-(3)\)&lt;/li>
&lt;li>\(\boxed{\sum x_i^2=\sum x_{ai}^2+\sum x_{bi}^2}-(4)\)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>欲求 \(\sum x_{ai}^2\)，我們將\((2)\)式展開
&lt;ul>
&lt;li>\(\sigma_a^2 = \frac{\sum x_{ai}^2}{n_a}-\bar x_a^2\)&lt;/li>
&lt;li>\(\sigma_a^2+\bar x_a^2= \frac{\sum x_{ai}^2}{n_a}\)&lt;/li>
&lt;li>得\(\boxed{\sum x_{ai}^2=n_a(\sigma_a^2+\bar x_a^2)}-(5)\)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="3-求總體標準差">3. 求總體標準差&lt;/h2>
&lt;ul>
&lt;li>由\((1)\)式展開
&lt;ul>
&lt;li>得 \(\boxed{\sigma = \sqrt{\frac{(\sum x_{ai}^2+\sum x_{bi}^2)}{n}-\bar x^2}}-(6)\)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>將\((5)\)代入\((6)\)
&lt;ul>
&lt;li>\(\boxed{\sigma=\sqrt{\frac{n_a(\sigma_a^2+\bar x_a^2)+n_b(\sigma_b^2+\bar x_n^2)}{n}-\bar x^2}}-(7)\)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>其中 \(\boxed{\bar x=\frac{n_a\bar x_a + n_b\bar x_b}{n}}-(8)\)&lt;/li>
&lt;li>故我們可以從上式輾轉得通式：
&lt;ul>
&lt;li>\(\boxed{\sigma=\sqrt{\frac{\sum(n_i(\sigma_i^2+\bar x_i^2))}{n}-\bar x^2}}-(9)\)&lt;/li>
&lt;li>或寫成&lt;/li>
&lt;li>\(\boxed{\sigma=\sqrt{\frac{\sum(n_i(\sigma_i^2+\bar x_i^2))-\sum n_i\bar x_i}{n}}}-(9)\)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="summary">summary&lt;/h2>
&lt;ul>
&lt;li>個數
&lt;ul>
&lt;li>\(\boxed{n=n_a+n_b=\sum n_i}\)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>平均數
&lt;ul>
&lt;li>\(\boxed{\bar x=\frac{n_a\bar x_a+n_b\bar x_b}{n_a+n_b}=\frac{\sum{n_i\bar x_i}}{\sum{n_i}}}\)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>標準差
&lt;ul>
&lt;li>\(\boxed{\sigma=\sqrt{\frac{n_{ai}(\sigma_{ai}^2+\bar x_{ai}^2)+n_{bi}(\sigma_{bi}^2+\bar x_{bi}^2)-(n_a\bar x_a+n_b\bar x_b)}{n_a+n_b}}=\sqrt{\frac{\sum(n_i(\sigma_i^2+\bar x_i^2))-\sum n_i\bar x_i}{\sum n_i}}}\)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="4-sql">4. sql&lt;/h2>
&lt;ul>
&lt;li>現有一 table 存有&lt;/li>
&lt;li>&lt;code>avg_value&lt;/code>&lt;/li>
&lt;li>&lt;code>std_value&lt;/code>&lt;/li>
&lt;li>&lt;code>site_count&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">with&lt;/span> stats &lt;span style="color:#66d9ef">as&lt;/span> (
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">select&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">sum&lt;/span>(site_count&lt;span style="color:#f92672">*&lt;/span>avg_value)&lt;span style="color:#f92672">/&lt;/span>&lt;span style="color:#66d9ef">sum&lt;/span>(site_count) &lt;span style="color:#66d9ef">as&lt;/span> avg_value,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sqrt((&lt;span style="color:#66d9ef">sum&lt;/span>(site_count&lt;span style="color:#f92672">*&lt;/span>(square(std_value)&lt;span style="color:#f92672">+&lt;/span>square(avg_value)))&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#66d9ef">sum&lt;/span>(site_count&lt;span style="color:#f92672">*&lt;/span>avg_value))&lt;span style="color:#f92672">/&lt;/span>&lt;span style="color:#66d9ef">sum&lt;/span>(site_count)) &lt;span style="color:#66d9ef">as&lt;/span> std_value,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">sum&lt;/span>(site_count) &lt;span style="color:#66d9ef">as&lt;/span> site_count
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">from&lt;/span> &lt;span style="color:#66d9ef">data&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">where&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">group&lt;/span> &lt;span style="color:#66d9ef">by&lt;/span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">select&lt;/span> &lt;span style="color:#f92672">*&lt;/span> &lt;span style="color:#66d9ef">from&lt;/span> stats
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[algo] timeline algorithm</title><link>https://intervalrain.github.io/algo/timeline/</link><pubDate>Fri, 10 Nov 2023 03:10:09 +0800</pubDate><guid>https://intervalrain.github.io/algo/timeline/</guid><description>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Cpp" data-lang="Cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#include&lt;/span> &lt;span style="color:#75715e">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span style="color:#75715e">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#include&lt;/span> &lt;span style="color:#75715e">&amp;lt;string&amp;gt;&lt;/span>&lt;span style="color:#75715e">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#include&lt;/span> &lt;span style="color:#75715e">&amp;lt;vector&amp;gt;&lt;/span>&lt;span style="color:#75715e">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">using&lt;/span> &lt;span style="color:#66d9ef">namespace&lt;/span> std;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string shortestCommonSupersequence(string a, string b) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> m &lt;span style="color:#f92672">=&lt;/span> a.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> b.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;gt;&lt;/span> dp(m&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>, vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span>(n&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>, &lt;span style="color:#ae81ff">0&lt;/span>));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;=&lt;/span> m; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> j &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; j &lt;span style="color:#f92672">&amp;lt;=&lt;/span> n; j&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (i &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">||&lt;/span> j &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) &lt;span style="color:#66d9ef">continue&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (a[i&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">==&lt;/span> b[j&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>]) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dp[i][j] &lt;span style="color:#f92672">=&lt;/span> dp[i&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>][j&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> } &lt;span style="color:#66d9ef">else&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dp[i][j] &lt;span style="color:#f92672">=&lt;/span> max(dp[i&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>][j], dp[i][j&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> m;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> j &lt;span style="color:#f92672">=&lt;/span> n;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (i &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> j &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (a[i&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">==&lt;/span> b[j&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>]) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">+=&lt;/span> a[i&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">--&lt;/span>i;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">--&lt;/span>j;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> } &lt;span style="color:#66d9ef">else&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (dp[i&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>][j] &lt;span style="color:#f92672">&amp;lt;&lt;/span> dp[i][j&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>]) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">+=&lt;/span> b[&lt;span style="color:#f92672">--&lt;/span>j];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> } &lt;span style="color:#66d9ef">else&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">+=&lt;/span> a[&lt;span style="color:#f92672">--&lt;/span>i];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (i &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) res &lt;span style="color:#f92672">+=&lt;/span> a[&lt;span style="color:#f92672">--&lt;/span>i];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (j &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) res &lt;span style="color:#f92672">+=&lt;/span> b[&lt;span style="color:#f92672">--&lt;/span>j];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> reverse(res.begin(), res.end());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string &lt;span style="color:#a6e22e">shortestCommonSupersequencePlus&lt;/span>(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>string&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> strs) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string res &lt;span style="color:#f92672">=&lt;/span> strs[&lt;span style="color:#ae81ff">0&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> strs.size(); i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> shortestCommonSupersequence(res, strs[i]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string &lt;span style="color:#a6e22e">trans&lt;/span>(string&lt;span style="color:#f92672">&amp;amp;&lt;/span> a, string&lt;span style="color:#f92672">&amp;amp;&lt;/span> pattern) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> j &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> m &lt;span style="color:#f92672">=&lt;/span> a.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> pattern.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (i &lt;span style="color:#f92672">&amp;lt;&lt;/span> m &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> j &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (a[i] &lt;span style="color:#f92672">!=&lt;/span> pattern[j]) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res.push_back(&lt;span style="color:#e6db74">&amp;#39; &amp;#39;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> j&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> } &lt;span style="color:#66d9ef">else&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res.push_back(a[i]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> i&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> j&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">main&lt;/span>() {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>string&lt;span style="color:#f92672">&amp;gt;&lt;/span> strs &lt;span style="color:#f92672">=&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;ABCDEH&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;ACDEFBH&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e6db74">&amp;#34;ADEHG&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> };
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Solution&lt;span style="color:#f92672">*&lt;/span> sol &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> Solution();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string res &lt;span style="color:#f92672">=&lt;/span> sol&lt;span style="color:#f92672">-&amp;gt;&lt;/span>shortestCommonSupersequencePlus(strs);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cout &lt;span style="color:#f92672">&amp;lt;&amp;lt;&lt;/span> res &lt;span style="color:#f92672">&amp;lt;&amp;lt;&lt;/span> endl;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cout &lt;span style="color:#f92672">&amp;lt;&amp;lt;&lt;/span> sol&lt;span style="color:#f92672">-&amp;gt;&lt;/span>trans(strs[&lt;span style="color:#ae81ff">0&lt;/span>], res) &lt;span style="color:#f92672">&amp;lt;&amp;lt;&lt;/span> endl;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cout &lt;span style="color:#f92672">&amp;lt;&amp;lt;&lt;/span> sol&lt;span style="color:#f92672">-&amp;gt;&lt;/span>trans(strs[&lt;span style="color:#ae81ff">1&lt;/span>], res) &lt;span style="color:#f92672">&amp;lt;&amp;lt;&lt;/span> endl;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cout &lt;span style="color:#f92672">&amp;lt;&amp;lt;&lt;/span> sol&lt;span style="color:#f92672">-&amp;gt;&lt;/span>trans(strs[&lt;span style="color:#ae81ff">2&lt;/span>], res) &lt;span style="color:#f92672">&amp;lt;&amp;lt;&lt;/span> endl;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>結果&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Cpp" data-lang="Cpp">&lt;span style="display:flex;">&lt;span>input:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ABCDEH
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ACDEFBH
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ADEHG
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">=========&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>output:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ABCDEFBHG
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ABCDE H
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>A CDEFBH
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>A DE HG
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[IT] DDD, Hexagonal, Onion, Clean, CQRS 大整合</title><link>https://intervalrain.github.io/hgraca/explicit-architecture-01-ddd-hexagonal-onion-clean-cqrs-how-i-put-it-all-together/</link><pubDate>Mon, 06 Nov 2023 23:38:13 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/explicit-architecture-01-ddd-hexagonal-onion-clean-cqrs-how-i-put-it-all-together/</guid><description>&lt;p>本文是介紹我如何將 DDD, Hexagonal, Onion, Clean, CQRS Architecture 等架構概念整合在一起，我將它命名為 &lt;strong>Explicit Architecture&lt;/strong>。上述的概念基本上都是通過了市場的試驗，並在許多高要求的平台上被應用。&lt;/p>
&lt;h1 id="系統的基本組件">系統的基本組件&lt;/h1>
&lt;p>首先回顧 &lt;strong>&lt;a href="../ebi-architecture">EBI&lt;/a>&lt;/strong> 與 &lt;strong>&lt;a href="../ports-adapters-architecture">Ports &amp;amp; Adapter&lt;/a>&lt;/strong> 架構。這兩種架構都明確區分了哪些程式碼是應用程式的內部，哪些是外部，以及哪些是連接內部和外部的程式碼。&lt;/p>
&lt;p>Ports &amp;amp; Adapters 明確地定義出了系統的三個部分：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>使用者介面&lt;/strong> (User Interface, UI)&lt;/li>
&lt;li>&lt;strong>商業邏輯&lt;/strong>(business logic)、&lt;strong>應用程式核心&lt;/strong>(application core)&lt;/li>
&lt;li>&lt;strong>基礎設施&lt;/strong>(Infrastructure)，如 DB、搜尋引擎或第三方API等工具。
&lt;img alt="ea1" loading="lazy" src="https://herbertograca.files.wordpress.com/2018/11/000-explicit-architecture-svg.png?w=1024&amp;h=700">&lt;/li>
&lt;/ul>
&lt;p>我們真正應該關心的是應用程式的核心，這是讓我們的程式碼能夠完成其應有功能的程式碼。它可能會使用多種 UI（網頁、手機、CLI、API 等等），但實際執行工作的程式碼是相同的，並位於應用程式的核心，觸發它的 UI 實際上並不重要。&lt;/p>
&lt;p>一個典型的應用程式流程從 UI 的程式碼開始，經過應用程式核心到基礎設施程式碼，再回到應用程式核心，最後將回應傳遞給 UI。&lt;/p>
&lt;p>&lt;img alt="ea2" loading="lazy" src="https://herbertograca.files.wordpress.com/2018/11/010-explicit-architecture-svg.png?w=1024&amp;h=700">&lt;/p>
&lt;h1 id="工具-tools">工具 Tools&lt;/h1>
&lt;p>工具指的是那些遠離我們系統核心程式碼，但為我們應用程式所用的工具，例如，DB、搜尋引擎、網頁伺服器或 CLI 控制台（儘管後兩者也是交付機制）。
&lt;img alt="ea3" loading="lazy" src="https://herbertograca.files.wordpress.com/2018/11/020-explicit-architecture-svg.png?w=1024&amp;h=700">&lt;/p>
&lt;p>雖然將 CLI 與 DB 分類在一起可能有些奇怪，儘管它們有不同的目的，但實際上它們都是應用程式使用的工具。關鍵的區別在於，CLI 和網頁服務器用於告訴我們的應用程式做些什麼，而 DB 則由我們的應用程式告訴它做些什麼。這是一個非常重要的區別，因為它對我們如何建構連接這些工具與應用程式核心的程式碼有著強烈的影響。&lt;/p>
&lt;h1 id="將工具和傳遞機制連接到應用程式核心">將工具和傳遞機制連接到應用程式核心&lt;/h1>
&lt;p>連接工具與應用程式核心的程式碼單元被稱為適配器（Ports &amp;amp; Adapters Architecture），適配器實現了將業務邏輯與特定工具進行通訊。&lt;/p>
&lt;p>告知我們應用程式應該做什麼事的適配器稱為 &lt;strong>Primary 或 Driving Adapters&lt;/strong>；&lt;br>
被我們應用程式告知應該做什麼事的適配器稱為 &lt;strong>Secondary or Driven Adapters&lt;/strong>。&lt;/p>
&lt;h2 id="埠-ports">埠 Ports&lt;/h2>
&lt;p>然而，這些適配器並非隨機創建的，它們是為了適應應用程式核心的一個非常特定的入口點，也就是埠。埠不過是一種規範，說明工具如何使用應用程式核心，或者說明它如何被應用程式核心使用。在大多數語言中，以其最簡單的形式，這種規範，或埠，即是一個介面(interface)，但實際上可能由多個介面和 DTO 組成。&lt;/p></description></item><item><title>[IT] 服務導向的架構 Service Oriented Architecture (SOA)</title><link>https://intervalrain.github.io/hgraca/service-oriented-architecture-soa/</link><pubDate>Thu, 02 Nov 2023 22:32:25 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/service-oriented-architecture-soa/</guid><description>&lt;p>The SOA Style has been around since the late 1980s and has its origins in ideas introduced by CORBA, DCOM, DCE and others. Much has been said about SOA, and there are a few different implementation patterns but, in essence, SOA focuses on only a few concepts and doesn’t give any prescription on how to implement them:
SOA風格自 1980 年代晚期便一直存在，其起源於 CORBA、DCOM、DCE 等等。關於 SOA 已經有很多討論，且有許多不同的實作，但本質上，SOA 只關注少數幾個概念，而且指引我們如何去實作：&lt;/p>
&lt;ul>
&lt;li>使用者導向的應用程式。&lt;/li>
&lt;li>可重複使用的商業服務。&lt;/li>
&lt;li>獨立的技術堆。&lt;/li>
&lt;li>自治性(獨立演進、可擴展性與可部署性)&lt;/li>
&lt;/ul>
&lt;p>SOA 是一最獨立於任何技術或產品的架構原則，就像多態與封裝一樣。&lt;/p></description></item><item><title>[IT] 從 CQS 到 CQRS</title><link>https://intervalrain.github.io/hgraca/from-cqs-to-cqrs/</link><pubDate>Wed, 01 Nov 2023 23:29:40 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/from-cqs-to-cqrs/</guid><description>&lt;p>當我們有一個以數據為中心的應用程式，即只實現基本的 CRUD 操作，並將業務流程（即要更改的數據和更改的順序）留給用戶時，好處是用戶可以在不需要更改應用程式的情況下更改業務流程。另一方面，這意味著所有用戶都需要知道所有可以使用該應用程式執行業務流程的所有細節，這在沒有明確的規範且有大量人員參與其中時，將會是一個大問題。&lt;/p>
&lt;p>在一個以數據為中心的應用程式中，該應用程式對業務流程一無所知，因此該 domain 無法擁有任何「動詞」，也就是說，應用程式本身無法做出除了改變原始數據以外的任何事情。它變成了數據模型(data model)的高度抽象。這些流程只存在於應用程式用戶的腦海中，或者甚至存在於釘在電腦螢幕上的便利貼中。&lt;/p>
&lt;p>一個非凡且實用的應用程式旨在減輕使用者的「流程」負擔，透過捕捉他們的意圖，使其成為一個能夠處理行為的應用程式，而不僅僅是儲存數據。&lt;/p>
&lt;p>CQRS is the result of an evolution of several technical concepts that work together to help provide the application with an accurate reflection of the domain, while overcoming common technical limitations.
CQRS 是許多技術概念演變的結果，這些概念使應用程式能準確地反映領域(domain)，並同時克服常見的技術限制。&lt;/p>
&lt;h1 id="命令查詢分離-command-query-separation">命令查詢分離 Command Query Separation&lt;/h1>
&lt;p>正如 Martin Fowler 所述，「命令查詢分離」這個術語是由 Bertrand Meyer 在他的《物件導向軟體建構(Object Oriented Software Construction)》（1988年）中首次提出的 - 這本書被認為是物件導向早期最具影響力的書籍之一。&lt;/p>
&lt;p>梅爾認為，作為一個原則，我們不應該有&lt;strong>既改變數據又返回數據&lt;/strong>的方法。因此，我們有兩種類型的方法：&lt;/p>
&lt;ol>
&lt;li>Queries(查詢)：返回數據但不更改數據，因此沒有副作用；&lt;/li>
&lt;li>Commands(指令)：更改數據，但不返回數據。&lt;/li>
&lt;/ol>
&lt;p>換句話說，&lt;em>提問不應改變答案，而行動也不應回饋答案&lt;/em>，這同時也有助於尊重單一責任原則。&lt;/p>
&lt;p>然而，有些模式是這條規則的例外，傳統的佇列和堆疊會彈出在佇列或堆疊中的元素，既改變了佇列或堆疊，也返回了從中移除的元素。&lt;/p>
&lt;h1 id="命令模式-command-pattern">命令模式 Command Pattern&lt;/h1>
&lt;p>命令模式的主要概念是將我們從資料中心的應用程式轉移到以流程為中心的應用程式，具有領域知識和應用程式流程知識。&lt;/p>
&lt;p>在實際操作中，這意味著我們不再讓使用者執行 &lt;code>CreateUser&lt;/code>, &lt;code>ActivateUser&lt;/code> 和 &lt;code>SendUserCreatedEmail&lt;/code> 這三個動作，而是讓使用者直接執行一個 &lt;code>RegisterUser&lt;/code> 的指令，這個指令將會執行前述的三個動作，作為一個封裝的業務流程。&lt;/p></description></item><item><title>[IT] 事件驅動架構 Event-Driven Architecture</title><link>https://intervalrain.github.io/hgraca/event-driven-architecture/</link><pubDate>Tue, 31 Oct 2023 23:25:09 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/event-driven-architecture/</guid><description>&lt;p>利用事件來設計應用程式似乎是 80年代後期開始的一種做法，我們可以在使用事件在前端或後端任何地方使用事件，當按下一個按鈕，涉及某些數據變更，或是執行某些後端動作時。&lt;/p>
&lt;h1 id="whatwhenwhy">What/When/Why&lt;/h1>
&lt;p>就像類別(classes)一樣，組件(components)之間應該保持低耦合，但在內部應保持高內聚。當組件需要協作時，比如說組件A需要觸發組件B中的某些邏輯，自然的做法就是讓組件A調用組件B中一個物件的方法。然而，如果A知道B的存在，那麼它們就是耦合的，A依賴於B，這使得系統更難改變和維護，事件可以用來&lt;strong>防止耦合&lt;/strong>。&lt;/p>
&lt;p>如果我們有一個團隊只專注於組件B的工作，它可以改變組件B對組件A邏輯的反應，甚至不需要與負責組件A的團隊溝通。組件可以獨立進化：&lt;strong>我們的應用程式變得更有機(organic)&lt;/strong>。&lt;/p>
&lt;p>即使在同一個組件中，有時我們會需要執行程式碼作為一個行動的結果，但它並不需要立即執行，也就是說，當事件的結果互不影響的情境下，我們可以採用 &lt;strong>異步(async)&lt;/strong> 的策略執行程式。&lt;/p>
&lt;p>然而，這樣做也存在危險，如果我們不加選擇地使用事件，可能會使一個概念上高度內聚的邏輯被解耦。換句話說，本應在一起的程式碼被強行分開，變得很難追蹤、理解(類似&lt;code>goto&lt;/code>語句)，最後使得它變成：speghetti code！&lt;/p>
&lt;p>為了防止我們的程式碼變成一堆混亂的 speghetti code，我們應該清楚的限制事件的使用規則。根據我的經驗，有三種情況下應該使用事件：&lt;/p>
&lt;ol>
&lt;li>解耦元件。&lt;/li>
&lt;li>執行異步任務。&lt;/li>
&lt;li>追蹤狀態變更 (audit log)&lt;/li>
&lt;/ol>
&lt;h2 id="1-解耦元件">1. 解耦元件&lt;/h2>
&lt;p>當元件A執行需要觸發元件B邏輯的動作時，我們可以選擇不直接呼叫它，而是將一個事件發送到事件調度器(dispatcher)中。元件B將會在調度器中監聽該特定事件，並在事件發生時作出反應。&lt;/p>
&lt;p>這意味著A和B都將依賴於調度器和事件，但他們將對彼此一無所知，也就是說他們是解耦的。&lt;/p>
&lt;p>理想情況下，調度器和事件都不應存在於任何組件中：&lt;/p>
&lt;ul>
&lt;li>調度器應該是一個與我們的應用程式完全獨立的庫，因此應該使用依賴性管理系統安裝在一個通用的位置。在PHP世界中，我們會使用 &lt;strong>Composer&lt;/strong> 將之安裝在 &lt;em>vendor&lt;/em> 的資料夾。(C# 可以參考我 &lt;a href="../../it/eventbus/">EventBus 的文章&lt;/a>)&lt;/li>
&lt;li>這個事件雖然是我們應用程式的一部分，但應該存在於兩個組件之外，以保持它們對彼此一無所知。該事件在組件之間共享，並且是應用程式核心的一部分。事件是 DDD 所稱的 &lt;strong>共享核心(Shared Kernel)&lt;/strong> 的一部分。這樣，兩個組件將依賴於共享核心，但將對彼此保持不知情。然而，在單體應用程式中，為了方便，可以將其放置在觸發事件的組件中。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>&lt;strong>Shared Kernel&lt;/strong>&lt;br>
&lt;strong>共享核心&lt;/strong>&lt;br>
&lt;em>[…] Designate with an explicit boundary some subset of the domain model that the teams agree to share. Keep this kernel small. […] This explicitly shared stuff has special status, and shouldn’t be changed without consultation with the other team.&lt;/em> - &lt;em>&lt;strong>Eric Evans 2014, Domain-Driven Design Reference&lt;/strong>&lt;/em>&lt;br>
&lt;em>[…] 指定一個團隊同意共享的領域模型的子集，並明確劃定其範疇。保持這個核心部分的規模小。[…] 這些明確共享的內容具有特殊的地位，不應在未與其他團隊諮詢的情況下進行更改。&lt;/em> - &lt;em>&lt;strong>艾瑞克·埃文斯 2014，領域驅動設計參考資料&lt;/strong>&lt;/em>&lt;/p></description></item><item><title>[IT] 乾淨架構 Clean Architecture</title><link>https://intervalrain.github.io/hgraca/clean-architecture/</link><pubDate>Sun, 29 Oct 2023 21:11:58 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/clean-architecture/</guid><description>&lt;p>Robert C. Martin (aka Uncle Bob) 在 2012 年在他的&lt;a href="https://blog.cleancoder.com/uncle-bob/2011/11/22/Clean-Architecture.html">部落格&lt;/a>上發表了他對於&lt;strong>乾淨架構&lt;/strong>的想法，並在幾個會議上進行了關於乾淨架構的演講。&lt;/p>
&lt;p>乾淨架構套用了許多為人熟知的概念、規則和模式，並解釋如何將它們組合在一起，以提出一種標準化的應用程式建構方式。&lt;/p>
&lt;h1 id="站在-ebi-ports--adapters-與洋蔥架構的肩膀上">站在 EBI, Ports &amp;amp; Adapters 與洋蔥架構的肩膀上&lt;/h1>
&lt;p>乾淨架構背後的核心目標與 Ports &amp;amp; Adapters(六邊形)和洋蔥架構的目標是相同的：&lt;/p>
&lt;ul>
&lt;li>工具的獨立性。&lt;/li>
&lt;li>交付機制的獨立性。&lt;/li>
&lt;li>獨立測試的可行性。&lt;/li>
&lt;/ul>
&lt;p>在發布有關乾淨架構的文章中，這是用來解釋整體概念的一張圖：
&lt;img alt="clean_arch" loading="lazy" src="https://herbertograca.files.wordpress.com/2017/04/cleanarchitecture-5c6d7ec787d447a81b708b73abba1680.jpg">&lt;/p>
&lt;p>正如 Uncle Bob 在他的文章中所說，上面這張圖嘗試將最新的架構思想整合成一個可行的概念。&lt;/p>
&lt;p>讓我們將乾淨架構的圖表與用來解釋六角架構和洋蔥架構的圖表進行比較，看看它們在哪些地方相符：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;img src="https://herbertograca.files.wordpress.com/2017/04/hexagonal_original.gif" width="360">&lt;/td>
&lt;td>&lt;img src="https://herbertograca.files.wordpress.com/2017/04/4ioq9.png" width="360">&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="工具和交付機制的外部化">工具和交付機制的外部化&lt;/h2>
&lt;p>六角形架構專注於將工具和交付機制從應用程式中外部化，使用介面(ports))和適配器(adapters)。這也是洋蔥架構的核心價值之一，如圖所見，UI、基礎設施和測試都在圖表的最外層。乾淨的架構具有完全相同的特性，將 UI、Web、DB 等都放在最外層。最後，所有應用程式核心程式碼都是與框架、庫獨立的。&lt;/p>
&lt;h2 id="依賴方向">依賴方向&lt;/h2>
&lt;p>在六角架構中，我們並沒有任何明確的指示告訴我們依賴性的方向。然而，我們可以輕易地推斷出來：應用程式有一個埠(或介面)，必須由一個適配器來實現或使用。因此，適配器依賴於介面，它依賴於位於中心的應用程式。外部的東西依賴於內部的東西，依賴性的方向是朝向中心。在洋蔥架構圖中，我們也沒有任何明確的指示告訴我們依賴性的方向，然而，在他的第二篇文章中，Jeffrey Palermo 非常清楚地說明所有的依賴性都是朝向中心。乾淨架構則是非常明確地指出依賴性方向是朝向中心。他們都在架構層面引入了依賴反轉原則。內圈中的任何東西都不能知道外圈中的任何東西。此外，當我們跨越邊界傳遞數據時，它總是以對內圈來說最方便的形式存在。&lt;/p>
&lt;h2 id="分層">分層&lt;/h2>
&lt;p>六角形架構圖只顯示了兩層：應用程式的內部和外部。然而，洋蔥架構則將 DDD 中 application layer 融入其中：application service 持有用例邏輯(use case logic)；domain service 封裝不屬於實體或價值對象的領域邏輯。與洋蔥架構相比，乾淨架構保留了 application layer(use case)和 entities layer，但似乎忽略了 domain service layer。然而，閱讀 Uncle Bob 的文章後，我們意識到他認為一個 entity 不僅是 DDD 意義上的 entity，而且是任何 domain object：「一個實體可以是一個帶有方法的物件，或者可以是一組數據結構和函數。」實際上，他合併了這兩個最內層的層級以簡化圖表。&lt;/p></description></item><item><title>[IT] 洋蔥架構 Onion Architecture</title><link>https://intervalrain.github.io/hgraca/onion-architecture/</link><pubDate>Sun, 29 Oct 2023 20:34:57 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/onion-architecture/</guid><description>&lt;h1 id="洋蔥架構">洋蔥架構&lt;/h1>
&lt;p>洋蔥架構是由 Jeffrey Palermo 在 2008 年提出的。在我看來，它是基於 Ports &amp;amp; Adapters 架構的構念，將領域(domain)放在應用程式的中心，將交付機制(UI)和系統使用的基礎設施(infrastructure, ex.ORM，搜索引擎，第三方API等)。差別是，它對內部進行了分層。&lt;/p>
&lt;p>我們從分層架構學習到最基本的分層通常有：&lt;/p>
&lt;ul>
&lt;li>Presentation 呈現層&lt;/li>
&lt;li>Application 應用層&lt;/li>
&lt;li>Domain 領域層&lt;/li>
&lt;li>Persistence 持久層&lt;/li>
&lt;/ul>
&lt;p>而 Ports &amp;amp; Adapters 架構隱含了兩個同心層：&lt;/p>
&lt;ol>
&lt;li>外部：傳遞機制(delivery mechanisms)與基礎設施(infrastructure)&lt;/li>
&lt;li>內部：業務邏輯&lt;/li>
&lt;/ol>
&lt;p>Ports &amp;amp; Adapters 和 Onion Architecture 同時擁有一個概念，那就是通過編寫適配器(adapter)，將應用程式的核心與基礎設施隔離，以防止基礎設施滲透到應用程式核心中(意思是應用程式核心直接對基礎設施產生依賴)。這使得抽換應用程式使用的工具和交付機制變得更容易，提供了一些對技術、工具和供應商鎖定的保護。&lt;/p>
&lt;p>這也賦予應用程式一種愉快的能力，即無需真實的基礎設施或交付機制就能運行，因為它們可以被模擬物件所替換，這易於進行程式碼的測試。&lt;/p>
&lt;p>然而，洋蔥架構也告訴我們，在企業應用中，我們將不只有內部與外部這樣簡單的分層，在內部，也就是業務邏輯中，我們會增加一些我們從領域驅動設計(DDD)認識的一些層：
&lt;img alt="onion" loading="lazy" src="https://herbertograca.files.wordpress.com/2017/03/2008-onion-architecture5.png">&lt;/p>
&lt;p>此外，它明確地闡述了 Ports &amp;amp; Adapters 架構中關於依賴方向的隱含概念：&lt;/p>
&lt;ul>
&lt;li>外層依賴於內層，&lt;/li>
&lt;li>內層對外層一無所知。&lt;/li>
&lt;/ul>
&lt;p>這意味著耦合的方向是朝向中心，為我們提供了一個獨立的物件模型(domain model)，其核心不依賴任何東西。我們有足夠的靈活性可以改變外層，而不影響內層，更重要的層面。它在架構層面上運用了依賴反轉原則。&lt;/p>
&lt;ul>
&lt;li>洋蔥架構的主要原則：
&lt;ul>
&lt;li>應用程式是建立在一個獨立的物件模型周圍。&lt;/li>
&lt;li>內層定義介面，外層實現介面。&lt;/li>
&lt;li>耦合的方向是朝向中心。&lt;/li>
&lt;li>所有應用程式的核心代碼都可以獨立於基礎設施進行編譯和運行&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>此外，任何外層都可以直接呼叫任何內層，這不會破壞耦合方向，並避免創建僅包含無業務邏輯的 proxy methods，甚至是 proxy classes，僅為了符合某種分層方案。這也符合 Martin Fowler 所表達的。&lt;/p>
&lt;blockquote>
&lt;p>[…] the layers above can use any layer beneath them, not just the layer immediately beneath. - &lt;em>&lt;strong>Jeffrey Palermo 2008, The Onion Architecture: part 3&lt;/strong>&lt;/em>&lt;br>
[&amp;hellip;] 上層的層次可以使用任何位於其下的層次，而不僅僅是直接下方的那一層。 - &lt;em>&lt;strong>傑弗里‧巴勒莫 2008，洋蔥架構：第三部分&lt;/strong>&lt;/em>&lt;/p></description></item><item><title>[ML] sample1 - 手寫數字辨識</title><link>https://intervalrain.github.io/ml/ex1/</link><pubDate>Sat, 28 Oct 2023 14:11:35 +0800</pubDate><guid>https://intervalrain.github.io/ml/ex1/</guid><description>&lt;h1 id="mnist">MNIST&lt;/h1>
&lt;p>NIST(National Insitute of Standards and Technology) 是美國國家標準與技術研究院，MNIST 是由 NIST 所提供的一組經典的機器學習測資，可以想成是深度學習中的「Hello World!」，它由 60000張 訓練圖片與 10000 張測試圖片所組成，為手寫數字的灰階圖片，大小為 28 * 28 像素，分類 0 到 9 共 10 個數字。&lt;/p>
&lt;ul>
&lt;li>可透過 keras 模組直接取得資料&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span style="color:#f92672">from&lt;/span> tensorflow.keras.datasets &lt;span style="color:#f92672">import&lt;/span> mnist
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>輸入 &lt;code>mnist.load_data()&lt;/code> 可取得 mnist 資料集，回傳值為 2*2 的 tuple of ndarray。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">&amp;gt;&amp;gt;&amp;gt;&lt;/span> (train_images, train_labels), (test_images, test_labels) &lt;span style="color:#f92672">=&lt;/span> mnist&lt;span style="color:#f92672">.&lt;/span>load_data()
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>tuple 裡面裝載的是 NumPy 的 ndarray 物件，我們可以利用
&lt;ul>
&lt;li>&lt;code>o.shape&lt;/code> 來取得 ndarray 的屬性&lt;/li>
&lt;li>&lt;code>len(o)&lt;/code> 來取得陣列的個數&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">&amp;gt;&amp;gt;&amp;gt;&lt;/span> train_images&lt;span style="color:#f92672">.&lt;/span>shape
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>(&lt;span style="color:#ae81ff">60000&lt;/span>, &lt;span style="color:#ae81ff">28&lt;/span>, &lt;span style="color:#ae81ff">28&lt;/span>) &lt;span style="color:#75715e"># 3 軸陣列，其大小為 60000 * 28 * 28&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">&amp;gt;&amp;gt;&amp;gt;&lt;/span> test_images&lt;span style="color:#f92672">.&lt;/span>shape
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>(&lt;span style="color:#ae81ff">10000&lt;/span>, &lt;span style="color:#ae81ff">28&lt;/span>, &lt;span style="color:#ae81ff">28&lt;/span>) &lt;span style="color:#75715e"># 3 軸陣列，其大小為 10000 * 28 * 28&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">&amp;gt;&amp;gt;&amp;gt;&lt;/span> len(train_labels), len(test_labels)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>(&lt;span style="color:#ae81ff">60000&lt;/span>, &lt;span style="color:#ae81ff">10000&lt;/span>) &lt;span style="color:#75715e"># 訓練集與測試集各有 60000 與 10000 筆 labels&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">&amp;gt;&amp;gt;&amp;gt;&lt;/span> train_labels
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>array([&lt;span style="color:#ae81ff">5&lt;/span>, &lt;span style="color:#ae81ff">0&lt;/span>, &lt;span style="color:#ae81ff">4&lt;/span>, &lt;span style="color:#f92672">...&lt;/span>, &lt;span style="color:#ae81ff">5&lt;/span>, &lt;span style="color:#ae81ff">6&lt;/span>, &lt;span style="color:#ae81ff">8&lt;/span>], dtype&lt;span style="color:#f92672">=&lt;/span>uint8) &lt;span style="color:#75715e"># train_labels 裝 60000 筆資料對應的解答(0-9 的數字)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>我們可以利用 &lt;code>matlabplot&lt;/code> 把圖片印出來看看&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>matshow(train_images[&lt;span style="color:#ae81ff">0&lt;/span>], cmap &lt;span style="color:#f92672">=&lt;/span> plt&lt;span style="color:#f92672">.&lt;/span>get_cmap(&lt;span style="color:#e6db74">&amp;#39;gray&amp;#39;&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>show()
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;img src="https://intervalrain.github.io/ML/images/mnist_0.png" width="360">
&lt;h1 id="用-dense-層建構神經網路">用 Dense 層建構神經網路&lt;/h1>
&lt;p>首先我們需要建立神經網路架構，層(layer)是組成神經網路的基本元件，一個層就是一個資料處理的模組。具體而言，每一層都會從資料中萃取出特定的轉換或表示法，經過數層的資料萃取(data distillation)後，將資料「過瀘」成最後特定的轉換或表達(representation)。&lt;/p></description></item><item><title>[IT] 埠與適配器架構 Ports &amp; Adapters Architecture aka 六邊形架構 Hexagonal Architecture</title><link>https://intervalrain.github.io/hgraca/ports-adapters-architecture/</link><pubDate>Fri, 27 Oct 2023 23:46:32 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/ports-adapters-architecture/</guid><description>&lt;p>埠與適配器架構（又稱為六角架構）是由 Alistair Cockburn 所構想，並在 2005 年於他的部落格中寫下。這是他用一句話定義其目標的方式：&lt;/p>
&lt;blockquote>
&lt;p>&lt;em>Allow an application to equally be driven by users, programs, automated test or batch scripts, and to be developed and tested in isolation from its eventual run-time devices and databases.&lt;/em> - &lt;em>&lt;strong>Alistair Cockburn 2005, Ports and Adapters&lt;/strong>&lt;/em>&lt;br>
&lt;em>允許一個應用程式能夠同等地由用戶、程式、自動化測試或批次腳本驅動，並且能夠在與其最終運行時間設備和數據庫隔離的情況下進行開發和測試。&lt;/em> - &lt;em>&lt;strong>艾利斯特·科本 2005，端口與適配器&lt;/strong>&lt;/em>&lt;/p>&lt;/blockquote>
&lt;p>我看過一些討論「Ports &amp;amp; Adapters 架構」的文章，其中大量提到了分層(layers)。然而，在原始的 Alistair Cockburn 的文章中，我並未讀到任何關於分層的內容。&lt;/p>
&lt;p>Ports &amp;amp; Adapters 架構的思想是將我們的應用程式視為系統的中心產物，所有的輸入和輸出都通過一個端口進入/離開應用程式，該端口將應用程式與外部工具、技術和交付機制隔離。應用程式應該對誰/什麼正在發送輸入或接收其輸出一無所知。這旨在提供一些保護，以防止技術和業務需求的演變，促使產品在開發完成後不久就因為技術/供應商的封鎖而變得過時。&lt;/p>
&lt;p>在這篇文章中，我們將深入探討以下主題：&lt;/p>
&lt;h1 id="傳統方法的問題">傳統方法的問題&lt;/h1>
&lt;p>傳統的方法在前後兩端都可能帶來問題。&lt;/p>
&lt;p>在前端方面，我們最終會有業務邏輯滲透到 UI 中（例如，當我們在控制器或視圖中放置用例邏輯，使其在其他 UI 中無法重用）或甚至是 UI 滲透到業務邏輯中（例如，由於我們在模板中需要一些邏輯，因此我們在我們的實體中創建方法）。&lt;/p>
&lt;p>在後端方面，我們可能會有外部庫和技術滲透到業務邏輯中，因為我們可能會透過類型提示、子類別化，甚至在我們的業務邏輯內實例化庫類別來直接引用它們。&lt;/p></description></item><item><title>[IT] 領域驅動設計 Domain-Driven Design</title><link>https://intervalrain.github.io/hgraca/domain-driven-design/</link><pubDate>Thu, 26 Oct 2023 23:11:53 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/domain-driven-design/</guid><description>&lt;p>「領域驅動設計」這個詞是在 Eric Evans 在他的著作《領域驅動設計：解決軟體核心的複雜性(Domain-Driven Design: Tackling complexity in the Heart of Software, 2003)》中所提出的，書中正式地提出了許多軟體開發的概念。&lt;/p>
&lt;p>我無法用一篇文章就概括 DDD，與 DDD 相關的重要概念實在太多了。以下列出我認為一些重要的 DDD 概成，包含：&lt;/p>
&lt;ul>
&lt;li>Ubiquitous Language&lt;/li>
&lt;li>Layers&lt;/li>
&lt;li>Bounded Contexts&lt;/li>
&lt;li>Anti-Corruption Layer&lt;/li>
&lt;li>Shared Kernel&lt;/li>
&lt;li>Generic Subdomain&lt;/li>
&lt;/ul>
&lt;h1 id="通用語言-ubiquitous-language">通用語言 Ubiquitous Language&lt;/h1>
&lt;p>在軟體開發中，一個常見的問題是怎麼理解程式碼，它是什麼，它能做什麼，它如何做，它為什麼這樣做…如果程式碼使用的術語與領域專家使用的術語不同，理解程式碼便變得更加複雜。例如，如果領域專家談論的是 &lt;em>elder users&lt;/em>，而程式碼中提到的是 &lt;em>supervisors&lt;/em>，那麼名詞可能就會造成在討論應用程式時造成混淆。然而，大部分的模糊性可以透過適當地命名類別和方法來解決，讓類別的命名明確地表達出物件是什麼，讓方法的命名明確地表達出方法在領域上下文中做了什麼事。&lt;/p>
&lt;p>使用通用語言的主要概念是將應用程式與商業邏輯對齊，這是通過在程式碼中採用業務與技術之間的共同語言所實現的。該語言的來源是公司的業務部門，它們擁有需要實施的概念，但術語則與公司的技術部門&lt;strong>協商&lt;/strong>(這意味著業務部門並不總是選擇最佳命名)&lt;strong>以創建一種業務與程式開發人員共通且不會發生歧義的共同語言&lt;/strong>。包含程式碼、類別、方法、屬性和模組的命名都最重與通用語言對齊。&lt;/p>
&lt;h1 id="層-layers">層 Layers&lt;/h1>
&lt;p>我在之前的文章中已經談過分層的概念，但我認為此刻重提由DDD所識別的各層是很重要的&lt;/p>
&lt;h2 id="user-interface-使用者介面">User Interface 使用者介面&lt;/h2>
&lt;p>負責繪製用戶與應用程式互動的螢幕，並將用戶的輸入轉換為應用程式命令。值得注意的是，「用戶」可以是人類，但也可以是連接到我們API的其他應用程式，這完全對應於EBI架構中的邊界對象。&lt;/p>
&lt;h2 id="application-layer-應用層">Application Layer 應用層&lt;/h2>
&lt;p>協調領域對象以執行用戶所需的任務：用例。它不包含業務邏輯。這與EBI架構中的互動者相關，只是互動者是與UI或實體無關的任何對象，而在這種情況下，應用層只包含與用例相關的對象。這一層是應用服務所屬的地方，因為它們是用例協調發生的容器，使用存儲庫、領域服務、實體、價值對象或任何其他領域對象。&lt;/p>
&lt;h2 id="domain-layer-領域層">Domain Layer 領域層&lt;/h2>
&lt;p>這是包含所有業務邏輯的層，包括領域服務、實體、事件以及任何其他包含業務邏輯的對象類型。顯然，它與EBI的實體對象類型有關。這是系統的核心。領域服務將包含不完全適合於實體的領域邏輯，通常在完成某些領域動作時協調多個實體。&lt;/p>
&lt;h2 id="infrastructure-基礎建設">Infrastructure 基礎建設&lt;/h2>
&lt;p>支援上層的技術能力，即持久性或訊息傳遞。
&lt;img alt="ddd" loading="lazy" src="https://herbertograca.files.wordpress.com/2017/04/ddd_layers.png?w=345&amp;h=330">&lt;/p>
&lt;h1 id="有界上下文">有界上下文&lt;/h1>
&lt;p>在企業應用中，模型可能會大幅增長，同時進行程式碼開發的團隊規模也可能會擴大。這帶來了兩個問題：&lt;/p>
&lt;ol>
&lt;li>開發人員必須處理的程式碼庫越大，認知負荷就越大，理解程式碼的難度也就越高，因此可能會引入更多的錯誤和判斷失誤，&lt;/li>
&lt;li>越多的開發人員在同一個程式碼庫上工作，就愈難協調對應用程式的共同技術與領域視野。&lt;/li>
&lt;/ol>
&lt;p>換句話說，手頭的問題變得過於龐大。&lt;/p>
&lt;p>對於大問題的常見解決方案是將其分解成較小的部分，這正是「有界上下文」發揮作用的地方。&lt;/p>
&lt;blockquote>
&lt;p>Two subsystems commonly serve very different user communities - &lt;em>&lt;strong>Eric Evans 2014, Domain-Driven Design Reference&lt;/strong>&lt;/em>&lt;br>
兩個子系統通常服務於截然不同的用戶群體 - &lt;em>&lt;strong>Eric Evans 2014，領域驅動設計參考&lt;/strong>&lt;/em>&lt;/p></description></item><item><title>[IT] 套件與命名空間 packaging &amp; namespacing</title><link>https://intervalrain.github.io/hgraca/packaging-code/</link><pubDate>Mon, 23 Oct 2023 23:14:14 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/packaging-code/</guid><description>&lt;p>系統的架構是該系統的高層視圖、大局觀，以粗略的筆觸描繪的系統設計。架構決策是系統中的結構性決策，影響整個程式庫的決策，也是定義其他所有元素將在其上建立的決策。&lt;/p>
&lt;p>架構決定系統的許多元素，包含：&lt;/p>
&lt;ul>
&lt;li>組件 Components&lt;/li>
&lt;li>組件之間的關係 Relationships between components&lt;/li>
&lt;li>指導組件與組件間關係如何設計與如何演化 Principles guiding the design and evolution of components and relationships&lt;/li>
&lt;/ul>
&lt;p>換句話說，這些是隨著系統演進更難改變的設計決策，它們是支撐功能開發的基礎。&lt;/p>
&lt;h1 id="義大利麵架構-spaghetti-architecture">義大利麵架構 Spaghetti Architecture&lt;/h1>
&lt;p>有些專案，結構隨機，既不反映架構，也不反映領域。如果我問「我應該把這個 value object 放在哪裡？」結果得到「把它放在 src 資料夾的某個地方」這樣的回答；如果我問「執行這個邏輯的 service 在哪裡？」卻得到「用你的 IDE 進行搜索」這樣的回答。這意味著專案沒有經過組織，這樣鬆散的結構就稱為義大利麵架構(Spaghetti Architecture)。&lt;/p>
&lt;p>這是一個大問題，因為這意味著沒有套件模組化，高階的程式碼關係和流程並沒有可以遵循的邏輯結構，導致模組之間高度耦合且低內聚，實際上可能代表根本沒有模組，應該屬於模組的程式碼散佈在整個程式碼庫中。&lt;/p>
&lt;h1 id="可維護的程式碼庫">可維護的程式碼庫&lt;/h1>
&lt;p>擁有一個可維護的程式庫意味著我們可以變更最少的程式碼來實現最大的概念變更。換句話說，當我們需要對一個程式碼單元進行變更時，我們應該盡可能少地對其他程式碼單元進行變更。&lt;/p>
&lt;p>這樣帶來的優點有：&lt;/p>
&lt;ul>
&lt;li>程式碼的修改變得簡單，因為它們對較少的程式碼產生影響。&lt;/li>
&lt;li>程式碼的修改會更快，因為需要修改的程式碼較少。&lt;/li>
&lt;li>因為修改的程式碼變少，出現錯誤的可能性也更低。&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>封裝(encapsulation)&lt;/strong>、**低耦合(low coupling)&lt;strong>和&lt;/strong>高內聚(high cohesion)**是使程式碼隔離的核心原則，使得我們能夠擁有可維護的程式碼基礎。&lt;/p>
&lt;h2 id="封裝-encapsulation">封裝 Encapsulation&lt;/h2>
&lt;p>這是隱藏類別的內部訊息與實作的過程。&lt;/p>
&lt;p>也就是說，它對外隱藏了實作的方式，使得一個類別的內部結構可以自由變更，而不會影響使用這個特定類別的其他類別。&lt;/p>
&lt;h2 id="低耦合-low-coupling">低耦合 Low coupling&lt;/h2>
&lt;p>耦合是指一個程式碼單元與另一個程式碼單元的關係。如果對一個模組的更改將導致對另一個模組的更改，則該模組被認為與另一個模組高度耦合。而如果一個模組獨立於任何其他模組，則該模組被認為是低耦合的。這可以通過擁有一個穩定的介面來實現，有效地隱藏了對其他模組的實現。&lt;/p>
&lt;h3 id="低耦合的好處">低耦合的好處&lt;/h3>
&lt;ul>
&lt;li>可維護性(maintainability) - 變更僅限於單一模組&lt;/li>
&lt;li>可測試性(testability) - 可以將單元測試涉及的模塊限制到最小&lt;/li>
&lt;li>可讀性(readability) - 需要分析的類別被保持在最小範圍內&lt;/li>
&lt;/ul>
&lt;h2 id="高內聚-high-cohesion">高內聚 High Cohesion&lt;/h2>
&lt;p>內聚性是指一個模塊的功能之間的緊密相關程度的衡量。低內聚是指模組間具有許多不相關的職責；高內聚是指模組間有類似的概念。&lt;/p>
&lt;h3 id="高內聚的好處">高內聚的好處&lt;/h3>
&lt;ul>
&lt;li>可讀性(readability) - 相關的功能都包含在單一模塊中&lt;/li>
&lt;li>可維護性(maintainability) - bug 通常會被限制在單一模組中&lt;/li>
&lt;li>重用性(reusability) - 專注於類別的功能，不被無用的功能污染&lt;/li>
&lt;/ul>
&lt;h1 id="結構上的影響">結構上的影響&lt;/h1>
&lt;p>前述的原則通常與類別相關，然而，它們對於類別群組也同樣適用。類別群組在一般情況下被稱為套件(package)，但如果它們具有純粹的功能性目標(例如 ORM)，我們可以更具體地稱呼它們為模組(module)；如果它們具有領域目標(例如 AccountManagement)，我們可以稱呼它們為組件(components)。這與 Bass, Clements 和 Kazman 在他們的書《實踐軟體架構(Software Architecture in Practice)》中解釋的定義是一致的。&lt;/p></description></item><item><title>[IT] EBI 架構</title><link>https://intervalrain.github.io/hgraca/ebi-architecture/</link><pubDate>Sun, 22 Oct 2023 23:54:36 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/ebi-architecture/</guid><description>&lt;p>EBI 架構全名是 Entity-Boundary-Interactor Architecture，第一次由 Robert C. Martin 在他乾淨架構(Clean Architecture)中的演講中提到。&lt;/p>
&lt;p>然而，EBI 架構正式的發布是來自 Ivar Jacobson 在 1992 年所出版的 &lt;em>&lt;strong>《物件導向的軟體工程：用例驅動方法(Object-Oriented Software Engineering: A use case driven approach)》&lt;/strong>&lt;/em>。當時，Jacobson 實際上稱之為 Entity-Interface-Control，爾後才進行更名，為了避免將 Interface 與程式語言中的 Interface 或 User Interface 混淆；也避免將 Control 與 MVC 中的 Controller 混淆。&lt;/p>
&lt;p>&lt;img alt="EBI" loading="lazy" src="https://herbertograca.files.wordpress.com/2017/04/fig_7_12_entity_interface_control.jpg">&lt;/p>
&lt;h1 id="entity-實體">Entity 實體&lt;/h1>
&lt;p>Entity objects 持有所有系統使用的數據且持有所有與數據耦合的行為。每個 Entity object 代表一個與問題領域相關的概念，同時具備身份(identity)與永久性(persistence)。Jacobson 告訴我們，Entity object 應該要包含那些會因 entity 自身變化而變化的邏輯，也就是說，如果它持有的數據結構改變，則對該數據的操作也將需要變化，因此它們應該位於 entity中。&lt;/p>
&lt;p>值得注意的是，Jacobson在1992年就已經發出了一個警告：&lt;/p>
&lt;blockquote>
&lt;p>&lt;em>Beginners may sometime only use entity object as data carriers and place all dynamic behaviour in control objects […]. This should, however be avoided. […] Instead, quite a lot of behaviour should be placed in the entity objects.&lt;/em> - &lt;em>&lt;strong>Ivar Jacobson 1992, pp. 134&lt;/strong>&lt;/em>&lt;br>
&lt;em>初學者有時可能只將實體物件用作數據載體，並將所有動態行為放在控制物件中[&amp;hellip;]。然而，這樣的做法應該避免[&amp;hellip;]。相反，應該將相當多的行為放在實體物件中。&lt;/em> - &lt;em>&lt;strong>伊瓦爾‧雅各布森 1992, pp. 134&lt;/strong>&lt;/em>&lt;/p></description></item><item><title>[IT] Model1 &amp; Model2</title><link>https://intervalrain.github.io/hgraca/model-1-model-2/</link><pubDate>Thu, 19 Oct 2023 22:47:32 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/model-1-model-2/</guid><description>&lt;p>Java Server Pages (JSP) 是一種技術，這種腳本語言與 PHP、ASP，甚至 Python 相當，用於創建由 JVM 解釋的伺服器端頁面，並可以使用 Java 物件。&lt;/p>
&lt;p>首次由 Sun Microsystems 於 1998 年發布的 JSP 規範，定義了兩種結構化應用程式的方式，使得呈現邏輯能與業務邏輯，甚至是在 HTTP 請求/回應範疇中的使用案例，進行解耦。&lt;/p>
&lt;p>有些人認為這些&amp;quot;Model1&amp;quot;和&amp;quot;Model2&amp;quot;是首次嘗試將原本為桌面軟體開發環境而設計的 MVC 模式，適配到網路 HTTP 請求/回應範疇的嘗試。&lt;/p>
&lt;h1 id="model1">Model1&lt;/h1>
&lt;p>JSP 規範 v0.92 的首次提議，是將 JSP 作為唯一的呈現工具，其中包含所有的呈現和用例邏輯。
&lt;img alt="model1" loading="lazy" src="https://herbertograca.files.wordpress.com/2018/08/beans.jpg">
這種方法對當時的大多數使用情況可能已經足夠好，因為當時的網路大部分是由簡單的動態頁面組成，而不是我們今天所熟知的複雜的網路企業應用程式。&lt;/p>
&lt;h1 id="model2">Model2&lt;/h1>
&lt;p>關於如何使用 JSP 的第二個建議，當時是針對被視為複雜的網路應用程式而設計的。然而，請記住，如今的網路應用程式的規模和複雜度已經更高了。
&lt;img alt="model2" loading="lazy" src="https://herbertograca.files.wordpress.com/2018/08/scenario2.jpg">
在“Model2”中，一個 HTTP 請求會到達一個 servlet，該 servlet 會解釋 HTTP 請求，使用 Java 物件和 EJBs（repositories）執行一些用例邏輯，收集結果數據，並將該數據傳遞給一個 JSP，該 JSP 再渲染頁面，並發送回客戶端。在“Model2”中，JSPs 僅作為模板引擎使用。&lt;/p>
&lt;p>在1999年，Govind Seshadri 發表了一篇文章，其中他將&amp;quot;Model2&amp;quot;對應到 MVC：&lt;/p>
&lt;ul>
&lt;li>servelet 是 Controller，它控制應如何處理用戶的請求。&lt;/li>
&lt;li>JSP 是 View，它決定了顯示給使用者的內容。&lt;/li>
&lt;li>在 MVC 和&amp;quot;Model2&amp;quot;中，Model 指的都是一整個領域模型(domain model)。&lt;/li>
&lt;/ul>
&lt;h1 id="我的看法">我的看法&lt;/h1>
&lt;p>這兩種方法至今只能說是堪用，但對今日的網路企業應用程式而言，我們需要更好的東西，因為這兩種模式都不遵守單一職責原則(Single Respoinsibility Pinciple, RSP)。&lt;/p></description></item><item><title>[IT] Action-Domain-Responder(ADR) 架構</title><link>https://intervalrain.github.io/hgraca/action-domain-responder/</link><pubDate>Thu, 19 Oct 2023 22:43:08 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/action-domain-responder/</guid><description>&lt;p>這篇文章將討論 MVC 的另一種變體：由 Paul M. Jones 創建的 Action-Domain-Responder。&lt;/p>
&lt;h1 id="2014--action-domain-responderadr">2014 – Action-Domain-Responder(ADR)&lt;/h1>
&lt;p>ADR 模式是由 Paul M. Jones 於 2014 年創建的，其想法就像 RMR 一樣，是為了將 MVC 調整到網路 REST APIs的 情境中。ADR 的原始解釋非常簡單明瞭，我實在無法更好地改述它，所以我將在這裡複製/貼上部分內容，並只添加一些更多的評論。&lt;/p>
&lt;p>&lt;img alt="ADR" loading="lazy" src="https://herbertograca.files.wordpress.com/2018/09/adr-22.png">&lt;/p>
&lt;h2 id="action-行動">Action 行動&lt;/h2>
&lt;p>Is the logic to connect the Domain and Responder. It invokes the Domain with inputs collected from the HTTP request, then invokes the Responder with the data it needs to build an HTTP response.
這是連接 domain 和 responder 的邏輯，它會用從 HTTP 收集來的請求來觸發 domain，接著使用需要構建 HTTP 響應的數據來調用 responder。&lt;/p></description></item><item><title>[IT] Resource-Method-Representation(RMR) 架構</title><link>https://intervalrain.github.io/hgraca/resource-method-representation/</link><pubDate>Thu, 19 Oct 2023 22:17:59 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/resource-method-representation/</guid><description>&lt;p>MVC 於 1979 年在桌面應用程式與 CLI 使用者介面的背景下出現，這意味著如果資料庫因使用者以外的某些因素發生變化，則使用者介面將自動更改。同樣的模式後來在具有 GUI 的桌面應用程式上也完全可用。&lt;/p>
&lt;p>然而，其在網路應用程式中的使用一直都是一種調適，因為大多數的網路應用程式並不會因為伺服器端的變更而改變使用者介面，使用者介面總是會呼叫伺服器端要求更新畫面。&lt;/p>
&lt;p>我之前已經談過 MVC 模式的變體，這篇文章將討論另一種變體：&lt;strong>Resource-Method-Representation&lt;/strong>。&lt;/p>
&lt;p>我覺得有必要談論這個議題，是因為我曾對它產生誤解，認為它與 ADR 模式一樣，而我很快就會寫到這一點。&lt;/p>
&lt;h1 id="2008--resource-method-representationrmr">2008 – Resource-Method-Representation(RMR)&lt;/h1>
&lt;p>RMR 模式是由 Paul James 在 2008 年創建的，它將 MVC 模式適配到 REST APIs 的情境中。&lt;/p>
&lt;h2 id="resource-資源">Resource 資源&lt;/h2>
&lt;p>The idea is that the Entities are modelled as REST resources (the first R in the pattern name), with its only public methods mapping to an HTTP method:
這個概念是將實體模型化為 REST resources 資源（RMR中的第一個R），與其唯一的公開方法映射到一個 HTTP 方法：&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-php" data-lang="php">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">&amp;lt;?&lt;/span>&lt;span style="color:#a6e22e">php&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// taken from http://www.peej.co.uk/articles/rmr-architecture.html
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Resource&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">private&lt;/span> &lt;span style="color:#a6e22e">resourceData&lt;/span> &lt;span style="color:#f92672">=&lt;/span> [];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">method&lt;/span> &lt;span style="color:#a6e22e">constructor&lt;/span>(&lt;span style="color:#a6e22e">request&lt;/span>, &lt;span style="color:#a6e22e">dataSource&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// load data from data source
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">method&lt;/span> &lt;span style="color:#a6e22e">get&lt;/span>(&lt;span style="color:#a6e22e">request&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> &lt;span style="color:#a6e22e">Response&lt;/span>(&lt;span style="color:#ae81ff">200&lt;/span>, &lt;span style="color:#a6e22e">getRepresentation&lt;/span>(&lt;span style="color:#a6e22e">request&lt;/span>&lt;span style="color:#f92672">.&lt;/span>&lt;span style="color:#a6e22e">url&lt;/span>, &lt;span style="color:#a6e22e">resourceData&lt;/span>));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">method&lt;/span> &lt;span style="color:#a6e22e">put&lt;/span>(&lt;span style="color:#a6e22e">request&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> &lt;span style="color:#a6e22e">Response&lt;/span>(&lt;span style="color:#ae81ff">405&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">method&lt;/span> &lt;span style="color:#a6e22e">post&lt;/span>(&lt;span style="color:#a6e22e">request&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> &lt;span style="color:#a6e22e">Response&lt;/span>(&lt;span style="color:#ae81ff">405&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#a6e22e">method&lt;/span> &lt;span style="color:#a6e22e">delete&lt;/span>(&lt;span style="color:#a6e22e">request&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">new&lt;/span> &lt;span style="color:#a6e22e">Response&lt;/span>(&lt;span style="color:#ae81ff">405&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="method-方法">Method 方法&lt;/h2>
&lt;p>當向 API 發出請求時，該請求會被路由到這些業務物件之一，即資源，並且在此資源上被調用的方法對應於請求的 HTTP 方法。然後，這個業務物件上的方法負責返回一個完整的 &lt;em>http&lt;/em> 響應，包括其狀態碼和 headers 信息。&lt;/p></description></item><item><title>[IT] MVC 及其變形</title><link>https://intervalrain.github.io/hgraca/mvc-and-its-variants/</link><pubDate>Thu, 19 Oct 2023 10:54:19 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/mvc-and-its-variants/</guid><description>&lt;p>創立一個可維護的應用程式一直是程式設計的一項長期挑戰。&lt;/p>
&lt;p>不久前，我在一家公司工作，其核心業務應用是一個 SaaS 平台，被幾千個客戶公司使用，這項應用程式已經運營了三年，其中的程式碼混雜了 HTML, CSS, 業務邏輯及 SQL，當然，在應用程式推出後的兩年，公司決定開始重構。儘管我們知道這樣的做法是不好的，且我們也知道如何避免，但是這樣的情況還是時常發生。&lt;/p>
&lt;p>然後，回溯到 1970 年代，混合職責是很常見的做法，且人們仍在努力尋找如何改進。隨著應用程式的複雜性提升，對 UI 的更動必然會導致業務邏輯的更改，從而增加了修改的複雜度、執行的時間與 bug 出現的可能性。(因為會有更多的程式碼被更改)。&lt;/p>
&lt;h1 id="1979---model-view-controller">1979 - Model-View-Controller&lt;/h1>
&lt;p>&lt;img alt="mvc" loading="lazy" src="https://herbertograca.files.wordpress.com/2017/04/mvc.jpg">
為了解決上述問題，Trygve Reenskaug 於 1979 年提出了 MVC 架構，以此來將關注點分離，將 UI 與業務邏輯分離。該模式被應用於 1973年出現的桌面 GUI。&lt;/p>
&lt;p>MVC 架構將程式分為三個部分：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Model&lt;/strong>: 模型，代表了商業邏輯。&lt;/li>
&lt;li>&lt;strong>View&lt;/strong>: 視圖，代表了 UI 中的組件，如 button, text box 等。&lt;/li>
&lt;li>&lt;strong>Controller&lt;/strong>: 控制器，負責協調視圖和模型之間的配合，這意味著它：
&lt;ul>
&lt;li>決定要顯示哪些視圖，以及使用什麼數據。&lt;/li>
&lt;li>將使用者行為轉化為業務邏輯。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>&lt;em>A model could be a single object (rather uninteresting), or it could be some structure of objects.&lt;/em> - &lt;em>&lt;strong>Trygve Reenskaug 1979, MVC&lt;/strong>&lt;/em>&lt;br>
&lt;em>一個模型可以是單一物件(相對無趣)，或可以是一些物件的結構。&lt;/em> - &lt;em>&lt;strong>特里格維‧倫斯考 1979, MVC&lt;/strong>&lt;/em>&lt;/p></description></item><item><title>[IT] 分層架構 Layered Architecture</title><link>https://intervalrain.github.io/hgraca/layered-architecture/</link><pubDate>Tue, 17 Oct 2023 21:44:07 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/layered-architecture/</guid><description>&lt;p>分層是一種常見於系統中做法，用於分隔或組織程式碼，根據程式碼在系統中的角色或職責。&lt;/p>
&lt;blockquote>
&lt;p>&lt;em>In an object-oriented program, UI, database, and other support code often gets written directly into the business objects. Additional business logic is embedded in the behaviour of UI widgets and database scripts. This happens because it is the easiest way to make things work, in the short run.&lt;/em>&lt;br>
&lt;em>When the domain-related code is diffused through such a large amount of other code, it becomes extremely difficult to see and to reason about. Superficial changes to the UI can actually change business logic. To change a business rule may require meticulous tracing of UI code, database code, or other program elements. Implementing coherent, model-driven objects becomes impractical. Automated testing is awkward. With all the technologies and logic involved in each activity, a program must be kept very simple or it becomes impossible to understand.&lt;/em> - &lt;em>&lt;strong>Eric Evans 2014, Domain-Driven-Design&lt;/strong>&lt;/em>&lt;br>
&lt;em>在物件導向的程式中，使用者介面、資料庫和其他輔助程式碼常常直接被寫入商業物件中，額外的商業邏輯被嵌入在使用者介面和資料庫腳本，因為這是最簡單且最快速使事情可以運作的方式，導致這種情況時常發生。&lt;/em>&lt;br>
&lt;em>當與領域相關的程式碼在更大量的程式碼中擴散，程式碼便開始變得困難且難以理解，UI 的變更可能導致業務邏輯的改變，同樣地，業務邏輯的更動需要密切地追縱 UI、資料庫與組其它組件的程式碼。實作內聚且以模型驅動的物件變得不可行、自動化測試變得笨拙，由於每個動作都涉及到所有的技術和邏輯，程式必須保持簡單，否則就會難以理解。&lt;/em> - &lt;em>&lt;strong>艾瑞克‧埃文斯 2014, 領域驅動設計&lt;/strong>&lt;/em>&lt;/p></description></item><item><title>[IT] 單體架構 Monolithic Architecture</title><link>https://intervalrain.github.io/hgraca/monolithic-architecture/</link><pubDate>Sun, 15 Oct 2023 12:06:51 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/monolithic-architecture/</guid><description>&lt;p>建立一個單體系統一直以來都是預設的架構風格，最初軟體開發剛萌芽時，每個應用程式只有一個檔案，然後才出現了包含多個檔案的應用程式，並且直到1990年代我們才開始看到由其他應用程式組成的應用程式（儘管第一次的實驗是在1980年代進行的）。&lt;/p>
&lt;p>單體結構自身也在演進，當應用程式開始使用多個檔案進行建構時，因為這些應用程式相對簡單，所以對每個檔案的職責與檔案之間的關係並沒有太多的思考。但隨著應用程式變得越來越大且越來越複雜，我們便開始需要思考要創建哪些檔案以及如何關聯它。&lt;/p>
&lt;h1 id="模組化軟體開發-modular-software-development">模組化軟體開發 Modular Software Development&lt;/h1>
&lt;p>模組化程式設計是在 1960 年代晚期和 1970年代 所提出的解決方案。它是從類別演變到對粒度更大程式碼單元進行明確定義(explicit definition)，程式語言以不同程度的明確性(explicitness)實現了模組化。&lt;/p>
&lt;p>例如，JAVA 具有 &lt;code>default&lt;/code> 和 &lt;code>public&lt;/code> 的類別級別可見性，其中 &lt;code>default&lt;/code> 級別意味著一個類別只在其套件（模組）中可見，而 &lt;code>public&lt;/code> 則意味著該類別在其套件（模組）內外都可見，這讓我們可以定義哪些類別可以當作套件被客戶端使用。&lt;/p>
&lt;h1 id="組件化軟體開發-componentized-software-development">組件化軟體開發 Componentized Software Development&lt;/h1>
&lt;p>另一種模組化的風格是組件。如我在之前的文章中所解釋的，組件是以領域概念為基礎創建的模塊。理想情況下，它們是可以用來創建複合應用的獨立「應用程式」。這種風格的一個常見例子是 pipes 和 filters 架構，這在 Unix 系統中被廣泛使用，並允許我們做像 &lt;code>ps -ef | grep php&lt;/code> 這樣的操作。另一個例子是使用微服務作為複合應用的組件，如 Netflix。&lt;/p>
&lt;p>這種程式碼組織方式也已經存在很長時間了，可以追溯到1960年代末，就像模組化軟體開發一樣。&lt;/p>
&lt;h1 id="現代的單體架構">現代的單體架構&lt;/h1>
&lt;p>現今，擁有單體架構風格簡單來說就是所有的應用程式碼都被&lt;strong>部署(deployed)&lt;/strong> 並在單一&lt;strong>節點(node)&lt;/strong> 上作為單一進程運行。我們假設它正在使用模組和組件，儘管事實上往往並非如此。&lt;/p>
&lt;p>理解這裡的關鍵詞「部署」和「節點」至關重要。關於第一個詞，部署，這意味著無論程式碼在物理上儲存在一個或多個儲存庫的任何地方，重要的是它在運行時是如何組織的。關於第二個關鍵詞，節點，這意味著即使我們將應用程式部署到多個服務器，就像在水平擴展的情況下，它仍然是一個單體。&lt;/p>
&lt;p>在單一節點伺服器中，單體中的所有模組都被組裝到同一記憶體 image 中，並在單一節點上作為單一進程運行。通訊是通過同一 heap 和 stack 進行標準程式調用。正是這種單一記憶體 image 使得應用程序變得單體化。如果你在不同的進程中運行模組，那麼你正在進行 IPC。因為模組落入不同的進程邊界，你將開始面臨分散式計算的挑戰，這就進入了微服務領域。&lt;/p>
&lt;p>這種風格，儘管聲名狼藉，但即使對於大型應用程式也能運作得相當好。只有當我們需要以下情況時，它才不再足夠好：&lt;/p>
&lt;ul>
&lt;li>不同領域組件的&lt;strong>獨立可擴展性(Independent scalability)&lt;/strong>。&lt;/li>
&lt;li>需要用&lt;strong>不同的程式語言&lt;/strong>撰寫不同的組件或模組；&lt;/li>
&lt;li>&lt;strong>獨立部署能力(Independent deployability)&lt;/strong>，或許是因為我們的釋出速率超過了單一程式碼庫的部署管道所能處理的範圍，導致一個版本的部署變慢，因為它需要等待其他版本的部署，甚至導致部署佇列的增長速度超過了它的消耗速度。&lt;/li>
&lt;/ul>
&lt;p>在那個時候，我們需要將我們的單體系統分離成不同的應用程式，並採用SOA架構風格（關於這點將在後續的文章中詳述）。&lt;/p>
&lt;h1 id="反模式大泥球義大利麵條式架構-anti-pattern-big-ball-of-mud--spaghetti-architecture">反模式：大泥球/義大利麵條式架構 Anti-pattern: Big Ball of Mud / Spaghetti Architecture&lt;/h1>
&lt;p>&lt;img alt="spaghetta" loading="lazy" src="https://herbertograca.files.wordpress.com/2017/03/spaghetti.png">
所謂的「泥球」，又稱為「義大利麵條式架構」，就是這種風格的反模式，其中套件的結構和關係並不明確，結構的內聚力和封裝性幾乎不存在，依賴性沒有遵循任何規則，並且很難理解子系統，以進行變更和重構。該系統是不透明的，黏稠的，脆弱的，且僵硬的：一個大泥球！&lt;/p></description></item><item><title>[IT] 架構風格 vs. 架構模式 vs. 設計模式 Architectural Styles vs. Architectural Patterns vs. Design Patterns</title><link>https://intervalrain.github.io/hgraca/architectural-styles-vs-architectural-patterns-vs-design-patterns/</link><pubDate>Sat, 14 Oct 2023 14:29:21 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/architectural-styles-vs-architectural-patterns-vs-design-patterns/</guid><description>&lt;p>在上一篇文章中，我介紹了程式語言的演進，以及它告訴我們的事情：軟體發展的驅勢是走向更多的&lt;strong>模組化(modularity)&lt;strong>與&lt;/strong>封裝(encapsulation)&lt;/strong>。&lt;/p>
&lt;p>在接下來的文章，我會開始介紹架構風格與架構模式的演進。首先，我們要先知道什麼是架構風格，什麼是架構模式。&lt;/p>
&lt;p>在軟體開發中的眾多術語中，定義往往不夠明確，卻不同人都有自己不同的解釋。MSDN 認為架構風格(architectural styles)與架構模式(architectural patterns)是同一碼子事，但我個人更傾向於 George Fairbanks 與 Michael Keeling 在 stack overflow 中與維基百科中的解釋。其關鍵的差異在於&lt;strong>範疇(scope)&lt;/strong>。&lt;/p>
&lt;p>同時，我們也需要強調這個觀念：架構風格、架構模式和設計模式並非互斥，它們相輔相成，每一種都能帶給我們一些啟示。然而，如同常情，我們只應在需要時才使用它們。&lt;/p>
&lt;h1 id="architectural-styles-架構風格">Architectural Styles 架構風格&lt;/h1>
&lt;p>架構風格非常大方向的告訴我們該如何組織我們的程式碼，它有著高層次的粒度。它定義了層的概念，尤其應用程式的高階模組。它告訴我們模組與層之間是怎麼交互作用的、它們的關係等等。架構風格的例子：&lt;/p>
&lt;ul>
&lt;li>Component-based&lt;/li>
&lt;li>Monolithic application&lt;/li>
&lt;li>Layered&lt;/li>
&lt;li>Pipes and filters&lt;/li>
&lt;li>Event-driven&lt;/li>
&lt;li>Publish-subscribe&lt;/li>
&lt;li>Plug-ins&lt;/li>
&lt;li>Client-server&lt;/li>
&lt;li>Service-oriented&lt;/li>
&lt;/ul>
&lt;p>一種建架構格可以透過各種方式實現，包括特定的技術環境、特定的政策、框架或實踐方法。&lt;/p>
&lt;h1 id="architectural-patterns-架構模式">Architectural Patterns 架構模式&lt;/h1>
&lt;p>模式是一種對反覆出現的問題的反覆解決方案。在架構模式的情況下，他們解決與架構風格相關的問題。例如，「我們該有哪些類別，它們該如何互動，以實現具有特定層次的系統」，又或者「我們的服務導向架構將擁有哪些高級模組，以及他們將如何溝通」，或者「我們的客戶端-伺服器架構將擁有多少層」。&lt;/p>
&lt;p>架構模式對程式碼庫有著廣泛的影響，通常會橫向（即如何在一層內結構化程式碼）或縱向（即如何從外層處理請求到內層並返回）影響整個應用程式。架構模式的例子：&lt;/p>
&lt;ul>
&lt;li>Three-tier 三層架構&lt;/li>
&lt;li>Microkernel 微核心&lt;/li>
&lt;li>Model-View-Controller 模型-視圖-控制器&lt;/li>
&lt;li>Model-View-ViewModel 模型-視圖-視圖模型&lt;/li>
&lt;/ul>
&lt;h1 id="design-patterns-設計模式">Design Patterns 設計模式&lt;/h1>
&lt;p>設計模式與架構模式在範疇上有所不同，它們更為局部化，對程式碼庫的影響較小，它們只影響程式碼的特定部分，例如：&lt;/p>
&lt;ul>
&lt;li>如何在我們只知道在運行時需要實例化什麼類型的情況下實例化一個對象（可能是一個工廠類別？）&lt;/li>
&lt;li>如何讓一個物件根據其狀態（可能是一個狀態機，或者是策略模式？）表現出不同的行為？&lt;/li>
&lt;/ul>
&lt;h1 id="conclusion-結論">Conclusion 結論&lt;/h1>
&lt;p>如我在這篇文章的開頭所提到的，一切都關於&lt;strong>範疇(scope)&lt;/strong>：&lt;/p>
&lt;ul>
&lt;li>架構風格是在最高抽象層次上的應用設計。&lt;/li>
&lt;li>架構模式是實現架構風格的一種方式。&lt;/li>
&lt;li>設計模式是解決局部問題的一種方式。&lt;/li>
&lt;/ul>
&lt;p>此外，一種模式可能既可以作為架構模式，也可以作為設計模式使用，這再次取決於我們在特定項目中使用它的範疇。&lt;/p></description></item><item><title>[IT] 程式語言的演進 Programming Language Evolution</title><link>https://intervalrain.github.io/hgraca/programming-language-evolution/</link><pubDate>Sat, 14 Oct 2023 02:09:18 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/programming-language-evolution/</guid><description>&lt;p>程式設計語言本身並非架構的產物，但如果我不寫關於它，我會覺得《軟體架構編年史》似乎缺少了些什麼。&lt;/p>
&lt;p>那麼，讓我們快速回顧一下程式語言的歷史，它的演變，並檢查我們可以從中學到什麼。我在文章中加入了一些日期，僅作為參考，它們應被視為大致的估計，重要的是演變的順序和他們試圖解決的問題。&lt;/p>
&lt;h1 id="1950s---non-structured-programming">1950s - Non-structured Programming&lt;/h1>
&lt;p>Assembly ~1951&lt;/p>
&lt;p>軟體開發曾是一項非常晦澀的活動，只在世界上少數地方進行。當時流行的語言是組合語言，它使用了非常低階的操作，如 &lt;code>add&lt;/code>, &lt;code>sub&lt;/code>, &lt;code>goto&lt;/code>，並直接操作記憶體地址。建立一個簡單的應用程式既緩慢又困難。要創建一個簡單的 &lt;code>if&lt;/code> 語句，我們需要幾行程式碼，對於一個迴圈，則需要超過幾行的程式碼&amp;hellip;稍後才出現了將程式碼分組和重用的可能性，所以當時的編碼風格非常線性，程式碼的重用僅限於在檔案內或檔案間複製和貼上程式碼。&lt;/p>
&lt;h1 id="1960s--structured-programming">1960s – Structured Programming&lt;/h1>
&lt;p>Algol ~1958, Fortran&lt;/p>
&lt;p>結構化程式設計出現了，引入了 code blocks 概念，控制結構 &lt;code>if&lt;/code>, &lt;code>then&lt;/code>, &lt;code>else&lt;/code>, &lt;code>case&lt;/code>, &lt;code>for&lt;/code>, &lt;code>while&lt;/code>, &lt;code>do&lt;/code>, &amp;hellip;，和子程序的構造。然後，我們可以創建更有趣的程式流程，更重要的是，我們可以將程式碼指令分組並重用它，儘管有一些限制，例如子程序總是對同一全域變數進行操作。但就在這個時候，&lt;strong>重用性 (reusability)&lt;/strong> 的概念開始被使用。&lt;/p>
&lt;h1 id="1970s--procedural--functional-programming">1970s – Procedural &amp;amp; Functional Programming&lt;/h1>
&lt;p>Pascal ~1970, C ~1972&lt;/p>
&lt;p>程序和函數式程式設計在1970年代開始活躍起來。到了這個時候，我們終於有了：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>程序(Procedures)&lt;/strong>：一組不返回數據的指令&lt;/li>
&lt;li>&lt;strong>函式(Functions)&lt;/strong>：一組會回傳資料的指令集&lt;/li>
&lt;li>&lt;strong>資料結構(Data structures)&lt;/strong>：記錄，類似於關聯式陣列&lt;/li>
&lt;li>&lt;strong>模組(Modules)&lt;/strong>：可以被導入到其他程式碼檔案的程式碼檔案。&lt;/li>
&lt;/ul>
&lt;p>在1970年代，「Spaghetti code」這個詞也被創造出來，這是在Edsger W. Dijkstra於1968年寫給「計算機機構通訊」(CACM)的信中提出的，該信的標題為「Go To Statement Considered Harmful」。&lt;/p>
&lt;p>在1970年代晚期，事件導向程式設計(Event Oriented Programming)的初步概念首次浮現，而Trygve Reenskaug則撰寫了他關於MVC（使用事件）的論文。&lt;/p>
&lt;p>有了這些改進，因此我們有更好的&lt;strong>重用性(reusability)&lt;/strong>，因為子程序（程序和函式），我們可以使用不同的數據執行相同的邏輯。我們也可以通過將相關數據分組到複雜的數據結構中來模擬&lt;strong>領域概念(domain concepts)&lt;/strong>。最後，我們在**解耦(decoupling)和模組化(modularity)**方面邁出了第一步，我們可以創建在其他程式碼文件和事件中可重用的程式碼，以將客戶端程式碼與正在執行的邏輯解耦。&lt;/p>
&lt;h1 id="1980s--object-oriented-programming">1980s – Object Oriented Programming&lt;/h1>
&lt;p>Simula ~1965, Smalltalk-71 ~1971, C++ ~1980, Erlang ~1986, Perl ~1987,
Python ~1991, Ruby ~1993, Delphi, Java, Javascript, PHP ~1995&lt;/p></description></item><item><title>[IT] 軟體架構前提 The Software Architecture Premises</title><link>https://intervalrain.github.io/hgraca/software-architecture-premises/</link><pubDate>Sat, 14 Oct 2023 01:14:17 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/software-architecture-premises/</guid><description>&lt;p>在這篇文章中，我將建立有關軟體架構的最初概念，這將有助於更好地理解接下來的文章。&lt;/p>
&lt;h1 id="沒有萬靈丹">沒有萬靈丹&lt;/h1>
&lt;p>無論你如何理解我在《軟體架構編年史》中所談論的內容，最重要的是要明白，並不存在萬能的解決方案。儘可能多學習不同的方法，理解每種方法的優點和缺點，以及它們解決的具體技術問題。&lt;/p>
&lt;p>然後，在接受新的挑戰時，首先要理解業務和終端用戶的需求。只有在清楚理解這些需求之後，您才能理智地思考應該使用哪種架構風格和模式來更好地解決手頭的問題。&lt;/p>
&lt;p>最後，做出你自己的選擇，也許實施其中一種已知的解決方案，或者創建你自己的設計來適應你特定的問題。&lt;/p>
&lt;blockquote>
&lt;p>&lt;em>Some architectural styles are often portrayed as ‘silver bullet’ solutions for all forms of software. However, a good designer should select a style that matches the needs of the particular problem being solved.&lt;/em> - &lt;strong>Roy Fielding, 2000&lt;/strong>&lt;br>
&lt;em>有些架構風格常被描繪為所有軟體問題的「萬靈丹」解決方案。然而，一個優秀的設計師應該選擇一種與特定問題需求相匹配的風格。&lt;/em> - &lt;strong>羅伊·菲爾丁，2000&lt;/strong>&lt;/p>&lt;/blockquote>
&lt;h1 id="terminology-術語">Terminology 術語&lt;/h1>
&lt;p>在軟體開發的世界裡，使用的術語充滿了模糊性，因此，在繼續之前，澄清我所使用的一些術語的意義是非常重要的。&lt;/p>
&lt;h2 id="functional-功能性的">Functional 功能性的&lt;/h2>
&lt;p>這是任何一段程式碼、方法、類別、類別群組，它在應用程式中擔任純粹的技術角色。它與領域無關，僅代表應用程式中的技術能力。例如：&lt;/p>
&lt;ul>
&lt;li>Layers&lt;/li>
&lt;li>Factories&lt;/li>
&lt;li>Repositories&lt;/li>
&lt;li>Value Objects&lt;/li>
&lt;li>Views&lt;/li>
&lt;li>ViewModels&lt;/li>
&lt;/ul>
&lt;h2 id="conceptual-概念性的">Conceptual 概念性的&lt;/h2>
&lt;p>這是任何一段代碼、方法、類別、一組類別，都反映了應用程式中的領域概念。它與領域直接相關，代表了應用程式中的業務能力。例如：&lt;/p>
&lt;ul>
&lt;li>User&lt;/li>
&lt;li>Product&lt;/li>
&lt;li>Stock Management&lt;/li>
&lt;li>Product Variants&lt;/li>
&lt;li>Checkout&lt;/li>
&lt;li>Upsells&lt;/li>
&lt;/ul>
&lt;p>這種分離並不意味著一個程式碼單元不能以兩種方式（功能性和概念性）被引用。例如，一個 &lt;code>Money&lt;/code> 類別可以代表一個 domain concept，也可以是一個 value object。&lt;/p></description></item><item><title>[IT] 軟體架構編年史 The Software Architecture Chronicles</title><link>https://intervalrain.github.io/hgraca/the-software-architecture-chronicles/</link><pubDate>Fri, 13 Oct 2023 23:41:57 +0800</pubDate><guid>https://intervalrain.github.io/hgraca/the-software-architecture-chronicles/</guid><description>&lt;blockquote>
&lt;p>前言：這系列文章為翻譯自作者 &lt;a href="https://herbertograca.com/2017/07/03/the-software-architecture-chronicles/">hgraca&lt;/a>。&lt;/p>&lt;/blockquote>
&lt;p>這篇文章是關於軟體架構系列文章的第一篇。在這些文章中，我將分享我所學習到的軟體架構知識，我如何看待它，以及我如何運用這些知識。&lt;/p>
&lt;p>我這一系列的文章稱為「軟體架構編年史」，並非因為我自認為是一位偉大的作家，而是因為我覺得這個名字有點俗氣，又帶點趣味。&lt;/p>
&lt;p>在這篇首篇文章中，我將會談論我為何要撰寫這一系列的文章，以及接下來將會有什麼內容。&lt;/p>
&lt;h1 id="認識歷史的重要性">認識歷史的重要性&lt;/h1>
&lt;blockquote>
&lt;p>&lt;em>Those who fail to learn History are doomed to repeat it.&lt;/em> - &lt;strong>George Santayana&lt;/strong>, &lt;em>&lt;strong>The Life of Reason&lt;/strong>&lt;/em>, &lt;strong>1905&lt;/strong>&lt;br>
&lt;em>未能學習歷史的人注定要重蹈覆轍。&lt;/em> - &lt;strong>喬治‧桑塔亞納&lt;/strong>《&lt;em>&lt;strong>理性的生活&lt;/strong>&lt;/em>》，&lt;strong>1905&lt;/strong>&lt;/p>&lt;/blockquote>
&lt;p>我認為從歷史中學習是非常重要的，它能教導我們事情。在個人層面上，我們終究需要（也希望）能從錯誤中學習。從國家的角度來看，歷史幫助塑造我們的文化、創造群體的概念，因此有了「台灣人」的觀念，一種國家認同。同時，歷史也幫助我們從祖先的錯誤中學習，比如信仰那些有著怪異思想的人，如二戰…&lt;/p>
&lt;p>對程式開發者而言，歷史有助於我們仰靠前人的經驗上，少走許多錯的道路，並讓我們「站在巨人的肩膀上」達到更高的境界！&lt;/p>
&lt;p>在我成為更好的開發者路上，我閱讀了很多文章，觀看了許多演講，我盡我所能的站在巨人的肩膀上。&lt;/p>
&lt;p>有一件事情使我感到困惑，那就是許多意見是基於意見之上的意見…這就像是以訛傳訛，我們最終得到是對於一篇論文、文章或書籍真正內容的扭曲理解。&lt;/p>
&lt;p>因此，我開始在網路上搜尋原始的論文、文章和書籍，這些都是我認為對我的工作最重要的概念，並自己對它們進行思考。&lt;/p>
&lt;p>這些文章是這種推理的結果，因為我試圖理解這些概念是如何產生的，以某種程度上的時間順序來看。&lt;/p>
&lt;p>撰寫這些文章迫使我大量閱讀和思考所有議題，並幫助我理解當代在軟體開發中使用的技術。我希望這些文章能對更多開發者有所幫助。&lt;/p>
&lt;p>然而，如果你讀到一些你不理解或是不認同的內容，請告訴我，我非常願意討論這些議題，並從討論中學習，也願意修正我錯誤的觀點。&lt;/p>
&lt;h1 id="文章列表">文章列表&lt;/h1>
&lt;p>&lt;a href="../software-architecture-premises">1. 軟體架構前提 (Software Architecture Premises)&lt;/a>&lt;/p>
&lt;p>&lt;a href="../programming-language-evolution">2. 程式語言的演進 (Programming Languages Evolution)&lt;/a>&lt;/p>
&lt;p>&lt;a href="">3. 架構風格 / 架構模式 / 設計模式 (Architectural Styles vs. Architectural Patterns vs. Design Patterns)&lt;/a>&lt;/p>
&lt;p>&lt;a href="../monolithic-architecture">4. 單體架構 (Monolithic Architecture)&lt;/a>&lt;/p>
&lt;p>&lt;a href="../layered-architecture">5. 分層架構 (Layered Architecture)&lt;/a>&lt;/p></description></item><item><title>[ML] Start Tensorflow Environment with Conda</title><link>https://intervalrain.github.io/ml/environment/</link><pubDate>Wed, 11 Oct 2023 20:48:34 +0800</pubDate><guid>https://intervalrain.github.io/ml/environment/</guid><description>&lt;h1 id="環境建置">環境建置&lt;/h1>
&lt;ol>
&lt;li>安裝 Anaconda&lt;/li>
&lt;li>創建虛擬環境&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>conda create -n tensorflow
&lt;/code>&lt;/pre>&lt;ol start="3">
&lt;li>進入虛擬環境 (macOS/Linux)&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>source activate tensorflow
&lt;/code>&lt;/pre>&lt;ol start="4">
&lt;li>在環境內安裝 tensorflow&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>pip install tensorflow
&lt;/code>&lt;/pre>&lt;ol start="5">
&lt;li>在環境內安裝 jupyter notebook&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>pip install jupyter notebook
&lt;/code>&lt;/pre>&lt;ol start="6">
&lt;li>在環境內安裝 pandas&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>pip install pandas
&lt;/code>&lt;/pre>&lt;ol start="7">
&lt;li>開啟 jupyter notebook&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>jupyter notebook
&lt;/code>&lt;/pre>&lt;h1 id="for-terminal-user">For terminal user&lt;/h1>
&lt;ol>
&lt;li>開始 Anaconda.Navigator
&lt;img alt="conda" loading="lazy" src="https://intervalrain.github.io/ML/images/conda.png">&lt;/li>
&lt;li>在 Environments 中安裝指定模組 ex.&lt;code>tensorflow&lt;/code>, &lt;code>keras&lt;/code>&lt;/li>
&lt;li>在 terminal 中輸入 conda activate {環境名稱}&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>conda activate tensorflow
&lt;/code>&lt;/pre>&lt;ol start="4">
&lt;li>開啟 python&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>python
&lt;/code>&lt;/pre>&lt;p>若成功便會顯示 python 安裝資訊&lt;/p>
&lt;pre tabindex="0">&lt;code>Python 3.11.5 (main, Sep 11 2023, 08:17:37) [Clang 14.0.6 ] on darwin
Type &amp;#34;help&amp;#34;, &amp;#34;copyright&amp;#34;, &amp;#34;credits&amp;#34; or &amp;#34;license&amp;#34; for more information.
&lt;/code>&lt;/pre>&lt;p>大功告成，接著嘗試訓練第一筆資料&lt;/p></description></item><item><title>[Leetcode] Arrangement</title><link>https://intervalrain.github.io/leetcode/summary/</link><pubDate>Fri, 06 Oct 2023 16:30:47 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/summary/</guid><description>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">題號&lt;/th>
&lt;th style="text-align: left">題目&lt;/th>
&lt;th style="text-align: left">類別&lt;/th>
&lt;th style="text-align: left">題解&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">1&lt;/td>
&lt;td style="text-align: left">&lt;a href="../../leetcode/1">Two Sum&lt;/a>&lt;/td>
&lt;td style="text-align: left">Hash Table&lt;/td>
&lt;td style="text-align: left">Hash Table&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">2&lt;/td>
&lt;td style="text-align: left">&lt;a href="../../leetcode/2">Add Two numbers&lt;/a>&lt;/td>
&lt;td style="text-align: left">Linked List&lt;/td>
&lt;td style="text-align: left">Recursion&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">201&lt;/td>
&lt;td style="text-align: left">Bitwise AND of Numbers Range&lt;/td>
&lt;td style="text-align: left">Bitwise Operation&lt;/td>
&lt;td style="text-align: left">Lowbit = x&amp;amp;(~x+1)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">204&lt;/td>
&lt;td style="text-align: left">Count Primes&lt;/td>
&lt;td style="text-align: left">Math Thetory&lt;/td>
&lt;td style="text-align: left">The Sieve of Eratosthenes&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">408&lt;/td>
&lt;td style="text-align: left">Valid Word Abbreviation&lt;/td>
&lt;td style="text-align: left">Two Pointers&lt;/td>
&lt;td style="text-align: left">字串轉數字&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>[IT] Clean Architecture - 第4章 - 結構化程式設計</title><link>https://intervalrain.github.io/clean_arch/ch4/</link><pubDate>Tue, 03 Oct 2023 22:28:44 +0800</pubDate><guid>https://intervalrain.github.io/clean_arch/ch4/</guid><description>structured programming</description></item><item><title>[IT] Clean Architecture</title><link>https://intervalrain.github.io/clean_arch/clean_arch/</link><pubDate>Fri, 29 Sep 2023 02:03:47 +0800</pubDate><guid>https://intervalrain.github.io/clean_arch/clean_arch/</guid><description>&lt;h1 id="乾淨架構">乾淨架構&lt;/h1>
&lt;h2 id="設計design與架構architecture為何重要">設計(design)與架構(architecture)為何重要？&lt;/h2>
&lt;ul>
&lt;li>軟體架構的目標是將&lt;strong>開發&lt;/strong>與&lt;strong>維護&lt;/strong>軟體系統所需的人力最小化。
&lt;ul>
&lt;li>不好的設計會使維護的成本愈來愈高。
&lt;img alt="1-1" loading="lazy" src="https://intervalrain.github.io/clean_arch/images/img1_3.png">&lt;/li>
&lt;li>每次版本的發布時的生產力。
&lt;img alt="1-2" loading="lazy" src="https://intervalrain.github.io/clean_arch/images/img1_4.png">&lt;/li>
&lt;li>良好的開發模式(TDD)大幅減少開發時間。
&lt;img alt="1-3" loading="lazy" src="https://intervalrain.github.io/clean_arch/images/img1_6.png">&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="行為behavior與架構architecture">行為(behavior)與架構(architecture)&lt;/h3>
&lt;ul>
&lt;li>行為：緊迫但並非特別重要&lt;/li>
&lt;li>架構：重要不緊迫&lt;br>
∵ 緊急且重要 &amp;gt; 不緊急但重要 &amp;gt; 緊急但不重要 &amp;gt; 不緊急且不重要&lt;br>
∴ 大多情況下，架構(設計)比行為(開發)更重要。&lt;/li>
&lt;/ul>
&lt;h2 id="程式設計範式paradigms">程式設計範式(paradigms)&lt;/h2>
&lt;ul>
&lt;li>結構化程式設計(structed programming)
&lt;ul>
&lt;li>不要使用 &lt;code>goto&lt;/code>，使用結構化的設計模式。(順序、選擇、迭代)&lt;/li>
&lt;li>總結：對直接控制權施加限制。&lt;/li>
&lt;li>關注點：&lt;strong>功能&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>物件導向程式設計(object-oriented programming)
&lt;ul>
&lt;li>使用多型來避免函數指針的濫用。&lt;/li>
&lt;li>總結：對間接控制權施加限制。&lt;/li>
&lt;li>關注點：&lt;strong>組件分離&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>函式程式設計(functional programming)
&lt;ul>
&lt;li>λ演算的概念是不可變性，符號的值不會改變，意味著沒有賦值。&lt;/li>
&lt;li>總結：對賦值施加限制。&lt;/li>
&lt;li>關注點：&lt;strong>數據管理&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="物件導向設計">物件導向設計：&lt;/h3>
&lt;ul>
&lt;li>依賴反轉：
&lt;img alt="DIP" loading="lazy" src="https://intervalrain.github.io/clean_arch/images/DIP.png">&lt;/li>
&lt;li>商業邏輯不依賴於 UI 與 DB，UI 與 DB 可以做為商業邏輯的插件。
&lt;img alt="DIP2" loading="lazy" src="https://intervalrain.github.io/clean_arch/images/DIP2.png">&lt;/li>
&lt;/ul>
&lt;h3 id="小結">小結：&lt;/h3>
&lt;ul>
&lt;li>三種範式都在約束你寫 code 的某些行為。這些約束就是在制定規則。&lt;/li>
&lt;/ul>
&lt;h2 id="solid-設計原則">SOLID 設計原則&lt;/h2>
&lt;h3 id="srp-單一職責原則the-single-responsibility-principle">SRP: 單一職責原則(The Single Responsibility Principle)&lt;/h3>
&lt;ul>
&lt;li>一個模組只有一個原因(用戶/利益相關者)需要改變。
&lt;img alt="SRP" loading="lazy" src="https://intervalrain.github.io/clean_arch/images/SRP.png">&lt;/li>
&lt;/ul>
&lt;h3 id="ocp-開放封閉原則the-open-closed-principle">OCP: 開放封閉原則(The Open-Closed Principle)&lt;/h3>
&lt;ul>
&lt;li>軟體工程應對擴展開放，但對修改封閉。
&lt;img alt="OCP" loading="lazy" src="https://intervalrain.github.io/clean_arch/images/OCP.png">&lt;/li>
&lt;/ul>
&lt;h3 id="lsp-里氏替體原則the-liskov-substitution-principle">LSP: 里氏替體原則(The Liskov Substitution Principle)&lt;/h3>
&lt;ul>
&lt;li>避免簡單的可替代性違規導致大量的額外機制。
&lt;img alt="LSP" loading="lazy" src="https://intervalrain.github.io/clean_arch/images/LSP.png">&lt;/li>
&lt;/ul>
&lt;h3 id="isp-介面隔離原則the-interface-segregation-principle">ISP: 介面隔離原則(The Interface Segregation Principle)&lt;/h3>
&lt;ul>
&lt;li>關注點分離。將一個多功能的物件拆成繼承三個不同功能介面的物件。
&lt;img alt="SRP" loading="lazy" src="https://intervalrain.github.io/clean_arch/images/ISP.png">&lt;/li>
&lt;/ul>
&lt;h3 id="dip-依賴反轉原則the-dependency-inversion-principle">DIP: 依賴反轉原則(The Dependency Inversion Principle)&lt;/h3>
&lt;p>&lt;img alt="DIP3" loading="lazy" src="https://intervalrain.github.io/clean_arch/images/DIP3.png">&lt;/p></description></item><item><title>[IT] 事件總線 EventBus</title><link>https://intervalrain.github.io/it/eventbus/</link><pubDate>Mon, 25 Sep 2023 23:50:02 +0800</pubDate><guid>https://intervalrain.github.io/it/eventbus/</guid><description>&lt;h1 id="eventbus">EventBus&lt;/h1>
&lt;p>&lt;img alt="eventBus" loading="lazy" src="https://th.bing.com/th/id/R.87d7f0f7e01b188aa312c91b2be45fe8?rik=TjWnWJ%2fkTukAaA&amp;pid=ImgRaw&amp;r=0">&lt;/p>
&lt;ul>
&lt;li>EventBus 用於維護一個事件源與事件處理的映射字典&lt;/li>
&lt;li>通過 Singleton，確保 EventBus 的唯一入口&lt;/li>
&lt;li>利用反射完成事件源與件事處理的初始化綁定&lt;/li>
&lt;li>提供統一的事件注冊(register)、取消注冊(unsubscribe)和觸發(trigger)。&lt;/li>
&lt;/ul>
&lt;h2 id="interfaces">Interfaces&lt;/h2>
&lt;h3 id="ieventdata">IEventData&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">interface&lt;/span> &lt;span style="color:#a6e22e">IEventData&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> DateTime EventTime { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">set&lt;/span>; }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">object&lt;/span> EventSource {&lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">set&lt;/span>; }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ieventhandler">IEventHandler&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">interface&lt;/span> &lt;span style="color:#a6e22e">IEventHandler&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ieventhandler1">IEventHandler`1&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">interface&lt;/span> &lt;span style="color:#a6e22e">IEventHandler&lt;/span>&amp;lt;TEventData&amp;gt; : IEventHandler &lt;span style="color:#66d9ef">where&lt;/span> TEventData : IEventData
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> HandlerEvent(TEventData eventData);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="base-class">base class&lt;/h2>
&lt;h3 id="eventdata">EventData&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">EventData&lt;/span> : IEventData
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> DateTime EventTIme { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">set&lt;/span>; }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">object&lt;/span> EventSource { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">set&lt;/span>; }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> EventData()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> EventTime = DateTime.Now;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="domain">Domain&lt;/h2>
&lt;h3 id="fishtype">FishType&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">enum&lt;/span> FishType
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> None,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">鯽魚&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">鯉魚&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">黑魚&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">青魚&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">草魚&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#960050;background-color:#1e0010">鱸魚&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="fishingeventdata--eventdata">FishingEventData : EventData&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">FishingEventData&lt;/span> : EventData
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> FishType FishType { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">set&lt;/span>; }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> FishingMan FishingMan { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">set&lt;/span>; }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="fishingeventhandler--ieventhandler">FishingEventHandler : IEventHandler&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">FishingEventHandler&lt;/span> : IEventHandler&amp;lt;FishingEventData&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> HandleEvent(FishingEventData eventData)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> type = eventData.FishType;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> fishMan = eventData.FishingMan;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> Name = fishMan.Name;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (type == FishType.None)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> fishMan.Message = &lt;span style="color:#66d9ef">string&lt;/span>.Format(&lt;span style="color:#e6db74">&amp;#34;{0}: 沒有釣到魚, 累計釣了{1}條魚&amp;#34;&lt;/span>, Name, fishMan.FishCount);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">else&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> fishMan.FishCount++;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> fishMan.Message = &lt;span style="color:#66d9ef">string&lt;/span>.Format(&lt;span style="color:#e6db74">&amp;#34;{0}: 釣到一條[{2}], 累計釣了{1}條魚&amp;#34;&lt;/span>, Name, fishMan.FishCount, type);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="fishingman">FishingMan&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">FishingMan&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span> Name { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">set&lt;/span>; }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> FishCount { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">set&lt;/span>; }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> FishingRod FishingRod { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">set&lt;/span>; }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span> Message { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">set&lt;/span>; }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> FishingMan(&lt;span style="color:#66d9ef">string&lt;/span> name)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Name = name;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> FishCount = &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> Fishing()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> FishingRod.ThrowHook(&lt;span style="color:#66d9ef">this&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="fishingrod">FishingRod&lt;/h3>
&lt;ul>
&lt;li>用反射註冊事件&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">FishingRod&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span> Message { &lt;span style="color:#66d9ef">get&lt;/span>; &lt;span style="color:#66d9ef">private&lt;/span> &lt;span style="color:#66d9ef">set&lt;/span>; }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> FishingRod()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> ThrowHook(FishingMan man)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#66d9ef">new&lt;/span> Random().Next() % &lt;span style="color:#ae81ff">2&lt;/span> == &lt;span style="color:#ae81ff">0&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> type = (FishType)(&lt;span style="color:#66d9ef">new&lt;/span> Random().Next(&lt;span style="color:#ae81ff">0&lt;/span>, &lt;span style="color:#ae81ff">5&lt;/span>) + &lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Message = (&lt;span style="color:#e6db74">&amp;#34;魚兒上鉤了!&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (FishingEvent != &lt;span style="color:#66d9ef">null&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> eventData = &lt;span style="color:#66d9ef">new&lt;/span> FishingEventData
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> FishingMan = man,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> FishType = type
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> };
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> EventBus.Default.Trigger&amp;lt;FishingEventData&amp;gt;(eventData);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">else&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> type = FishType.None;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Message = (&lt;span style="color:#e6db74">&amp;#34;可惜了!&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (FishingEvent != &lt;span style="color:#66d9ef">null&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> eventData = &lt;span style="color:#66d9ef">new&lt;/span> FishingEventData
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> FishingMan = man,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> FishType = type
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> };
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> EventBus.Default.Trigger&amp;lt;FishingEventData&amp;gt;(eventData);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="eventbus-實作">EventBus 實作&lt;/h2>
&lt;ul>
&lt;li>用一個靜態單例來統一管理事件&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">EventBus&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> EventBus Default =&amp;gt; &lt;span style="color:#66d9ef">new&lt;/span> EventBus();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">private&lt;/span> &lt;span style="color:#66d9ef">readonly&lt;/span> ConcurrentDictionary&amp;lt;Type, List&amp;lt;Type&amp;gt;&amp;gt; _eventAndHandlerMapping;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">private&lt;/span> EventBus()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _eventAndHandlerMapping = &lt;span style="color:#66d9ef">new&lt;/span> ConcurrentDictionary&amp;lt;Type, List&amp;lt;Type&amp;gt;&amp;gt;();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> MapEventToHandler();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">private&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> MapEventToHandler()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Assembly assembly = Assembly.GetEntryAssembly();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">foreach&lt;/span> (&lt;span style="color:#66d9ef">var&lt;/span> type &lt;span style="color:#66d9ef">in&lt;/span> assembly.GetTypes())
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#66d9ef">typeof&lt;/span>(IEventHandler).IsAssignableFrom(type))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Type handlerInterface = type.GetInterface(&lt;span style="color:#e6db74">&amp;#34;IEventHandler`1&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (handlerInterface == &lt;span style="color:#66d9ef">null&lt;/span>) &lt;span style="color:#66d9ef">continue&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Type eventDataType = handlerInterface.GetGenericArguments()[&lt;span style="color:#ae81ff">0&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (_eventAndHandlerMapping.ContainsKey(eventDataType))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> List&amp;lt;Type&amp;gt; handlerTypes = _eventAndHandlerMapping[eventDataType];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> handlerTypes.Add(type);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _eventAndHandlerMapping[eventDataType] = handlerTypes;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">else&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">var&lt;/span> handlerTypes = &lt;span style="color:#66d9ef">new&lt;/span> List&amp;lt;Type&amp;gt; { type };
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _eventAndHandlerMapping[eventDataType] = handlerTypes;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> Register&amp;lt;TEventData&amp;gt;(Type eventHandler)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> List&amp;lt;Type&amp;gt; handlerTypes = _eventAndHandlerMapping[&lt;span style="color:#66d9ef">typeof&lt;/span>(TEventData)];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (!handlerTypes.Contains(eventHandler))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> handlerTypes.Add(eventHandler);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _eventAndHandlerMapping[&lt;span style="color:#66d9ef">typeof&lt;/span>(TEventData)] = handlerTypes;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> Unsubscribe&amp;lt;TEventData&amp;gt;(Type eventHandler)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> List&amp;lt;Type&amp;gt; handlerTypes = _eventAndHandlerMapping[&lt;span style="color:#66d9ef">typeof&lt;/span>(TEventData)];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (!handlerTypes.Contains(eventHandler))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> handlerTypes.Remove(eventHandler);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _eventAndHandlerMapping[&lt;span style="color:#66d9ef">typeof&lt;/span>(TEventData)] = handlerTypes;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> Trigger&amp;lt;TEventData&amp;gt;(TEventData eventData) &lt;span style="color:#66d9ef">where&lt;/span> TEventData : IEventData
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> List&amp;lt;Type&amp;gt; handlers = _eventAndHandlerMapping[eventData.GetType()];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (handlers != &lt;span style="color:#66d9ef">null&lt;/span> &amp;amp;&amp;amp; handlers.Count &amp;gt; &lt;span style="color:#ae81ff">0&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">foreach&lt;/span> (&lt;span style="color:#66d9ef">var&lt;/span> handler &lt;span style="color:#66d9ef">in&lt;/span> handlers)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> MethodInfo methodInfo = handler.GetMethod(&lt;span style="color:#e6db74">&amp;#34;HandleEvent&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (methodInfo != &lt;span style="color:#66d9ef">null&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">object&lt;/span> obj = Activator.CreateInstance(handler);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> methodInfo.Invoke(obj, &lt;span style="color:#66d9ef">new&lt;/span> &lt;span style="color:#66d9ef">object&lt;/span>[] { eventData });
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h1 id="demo">demo&lt;/h1>
&lt;ul>
&lt;li>MacOs Cocoa Project&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-csharp" data-lang="csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">partial&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">ViewController&lt;/span> : NSViewController
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> ViewController (IntPtr handle) : &lt;span style="color:#66d9ef">base&lt;/span> (handle)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">override&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> ViewDidLoad ()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">base&lt;/span>.ViewDidLoad ();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> jeff = &lt;span style="color:#66d9ef">new&lt;/span> FishingMan(&lt;span style="color:#e6db74">&amp;#34;Jeff&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> rod = &lt;span style="color:#66d9ef">new&lt;/span> FishingRod();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> jeff.FishingRod = rod;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> EventBus eventBus = EventBus.Default;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> eventBus.Register&amp;lt;FishingEventData&amp;gt;(&lt;span style="color:#66d9ef">typeof&lt;/span>(FishingEventHandler));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> FishingMan jeff;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> FishingRod rod;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">override&lt;/span> NSObject RepresentedObject {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">get&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#66d9ef">base&lt;/span>.RepresentedObject;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">set&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">base&lt;/span>.RepresentedObject = &lt;span style="color:#66d9ef">value&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">partial&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> Button_Click(NSButton sender)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> jeff.Fishing();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> TextLabel.StringValue = rod.Message;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> TextLabel2.StringValue = jeff.Message ?? &lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[IT] Clean Architecture - 重點整理</title><link>https://intervalrain.github.io/it/ca/</link><pubDate>Sat, 23 Sep 2023 20:03:55 +0800</pubDate><guid>https://intervalrain.github.io/it/ca/</guid><description>&lt;h1 id="乾淨架構clean-architecture-筆記">乾淨架構(Clean Architecture) 筆記&lt;/h1>
&lt;h2 id="分層">分層&lt;/h2>
&lt;ul>
&lt;li>乾淨架構中從外而內依序為
&lt;ul>
&lt;li>Framework Layer&lt;/li>
&lt;li>Interface Adapter Layer&lt;/li>
&lt;li>Application Layer&lt;/li>
&lt;li>Domain Layer&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="models">Models&lt;/h2>
&lt;ul>
&lt;li>一般來說會有四個 Models
&lt;ul>
&lt;li>View Model(給前端)&lt;/li>
&lt;li>App Model(App Layer 隔離 Domain Layer 所用，aka DTO)&lt;/li>
&lt;li>Domain Model&lt;/li>
&lt;li>Data Model(for DBMS)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="usecase">Usecase&lt;/h2>
&lt;ul>
&lt;li>App Layer 中的 Usecase 做四件事：
&lt;ul>
&lt;li>查&lt;/li>
&lt;li>改&lt;/li>
&lt;li>存&lt;/li>
&lt;li>推&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="單向依賴原則">單向依賴原則&lt;/h2>
&lt;ul>
&lt;li>依賴的方向必為單向且為&lt;br>
\(\boxed{\text{Interface Adapter}} \rightarrow \boxed{\text{Application Layer}} \rightarrow \boxed{\text{Domain Layer}}\)&lt;/li>
&lt;/ul>
&lt;h2 id="repository">Repository&lt;/h2>
&lt;ul>
&lt;li>Application Layer 為了遵守單向依賴，與 ORM 解耦會做一次依賴反轉，翠取 Repository 介面。&lt;/li>
&lt;/ul>
&lt;h2 id="套用乾淨架構的效益衡量">套用乾淨架構的效益衡量&lt;/h2>
&lt;ul>
&lt;li>Model Mapping 的成本 vs.
&lt;ol>
&lt;li>獨立出「領域模型」的價值&lt;/li>
&lt;li>省下更換技術的成本(migration cost)&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;h2 id="領域層的部分通常會結合-ddd">「領域層」的部分通常會結合 DDD&lt;/h2></description></item><item><title>[IT] LINQ: IQueryable Provider</title><link>https://intervalrain.github.io/it/iq1/</link><pubDate>Thu, 21 Sep 2023 11:34:15 +0800</pubDate><guid>https://intervalrain.github.io/it/iq1/</guid><description>一系列關於如何建立 LINQ IQueryable Provider 的文章，每篇都是建立在前一篇的基礎上。</description></item><item><title>[IT] Clean Architecture - 第3章 - 程式設計範式總覽</title><link>https://intervalrain.github.io/clean_arch/ch3/</link><pubDate>Thu, 07 Sep 2023 22:07:54 +0800</pubDate><guid>https://intervalrain.github.io/clean_arch/ch3/</guid><description>paradigm overview</description></item><item><title>[IT] Clean Architecture - 第二部分 從基礎構件開始: 程式設計範式(Paradigms)</title><link>https://intervalrain.github.io/clean_arch/sec2/</link><pubDate>Tue, 05 Sep 2023 21:43:11 +0800</pubDate><guid>https://intervalrain.github.io/clean_arch/sec2/</guid><description>&lt;p>　　軟體架構始於程式碼，因此我們將從程式碼的角度開始討論架構，看看自從程式碼被寫下以來我們所學到的內容。&lt;/p>
&lt;p>　　1938年，艾倫·圖靈(Alan Turing)奠定了計算機編程的基礎。他並不是第一個構想可編程機器的人，但他是第一個理解程式即數據(programs are simply data)的人。到了1945年，圖靈已經在真正的電腦上用我們現在能夠認出的程式碼編寫真正的程式了。這些程式使用了循環(loops)、分支(branches)、賦值(assignment)、子程序(subroutines)、堆棧(stacks)和其他熟悉的結構。但，圖靈的語言是二進制的。&lt;/p>
&lt;p>　　自從那些日子以來，程式設計界發生了許多革命。其中一個我們都非常熟悉的革命就是語言的革命。首先，在1940年代末期，出現了組合語言(assemblers)。這些「語言」解放了程式設計師將他們的程式轉換成二進制的苦差。1951年，格雷斯·霍珀(Grace Hopper)發明了第一個編譯器 A0。事實上，她創造了「編譯器(compiler)」這個詞彙。Fortran 在1953年被發明出來。接著，一股源源不斷的新程式語言湧入 - COBOL、PL/1、SNOBOL、C、Pascal、C++、Java等等，無窮無盡。&lt;/p>
&lt;p>　　另一個可能更重要的革命是在程式設計範式方面。範式是編程的方式，與語言相對無關。範式指導了開發人員應該使用哪些程式結構，以及何時使用它們。&lt;/p>
&lt;p>　　迄今為止，已經有三種這樣的範式，也不太可能再有其它的範式，原因後述。&lt;/p></description></item><item><title>[IT] Clean Architecture - 第2章 - 兩個價值維度</title><link>https://intervalrain.github.io/clean_arch/ch2/</link><pubDate>Mon, 04 Sep 2023 15:18:12 +0800</pubDate><guid>https://intervalrain.github.io/clean_arch/ch2/</guid><description>two values</description></item><item><title>[IT] Clean Architecture - 第1章 - 設計與架構到底是什麼</title><link>https://intervalrain.github.io/clean_arch/ch1/</link><pubDate>Sun, 03 Sep 2023 23:14:07 +0800</pubDate><guid>https://intervalrain.github.io/clean_arch/ch1/</guid><description>What is design and architecture?</description></item><item><title>[IT] Clean Architecture - 第一部分 概述</title><link>https://intervalrain.github.io/clean_arch/sec1/</link><pubDate>Sun, 03 Sep 2023 22:48:22 +0800</pubDate><guid>https://intervalrain.github.io/clean_arch/sec1/</guid><description>&lt;p>　　採用好的軟體架構可以大大節省&lt;strong>軟體項目構建&lt;/strong>與&lt;strong>維護的人力成本&lt;/strong>。讓每次變更都短小簡單，易於實施，並且避免缺陷，用最小的成本，最大程度地滿足功能性和靈活性的要求。&lt;/p></description></item><item><title>[IT] Clean Architecture - Catalog</title><link>https://intervalrain.github.io/clean_arch/toc/</link><pubDate>Sun, 03 Sep 2023 22:32:22 +0800</pubDate><guid>https://intervalrain.github.io/clean_arch/toc/</guid><description>&lt;p>&lt;img alt="CleanArchitecture" loading="lazy" src="http://geekdaxue.co/uploads/projects/Clean-Architecture-zh/docs/cover.jpg">&lt;/p>
&lt;blockquote>
&lt;p>Clean Architecture&lt;br>
A Craftsman&amp;rsquo;s Guide to Software Structure and Design&lt;br>
中文翻譯: 無瑕的程式碼 - 整潔的軟體設計與架構&lt;br>
原著: Robert C. Martin(Uncle Bob)&lt;/p>&lt;/blockquote>
&lt;h1 id="目錄">目錄&lt;/h1>
&lt;hr>
&lt;h3 id="第一部分-概述clean_archsec1">&lt;a href="https://intervalrain.github.io/clean_arch/sec1">第一部分 概述&lt;/a>&lt;/h3>
&lt;h4 id="第1章---設計與架構到底是什麼clean_archch1">&lt;a href="https://intervalrain.github.io/clean_arch/ch1">第1章 - 設計與架構到底是什麼&lt;/a>&lt;/h4>
&lt;h4 id="第2章---兩個價值維度clean_archch2">&lt;a href="https://intervalrain.github.io/clean_arch/ch2">第2章 - 兩個價值維度&lt;/a>&lt;/h4>
&lt;hr>
&lt;h3 id="第二部分-從基礎構件開始-程式設計範式clean_archsec2">&lt;a href="https://intervalrain.github.io/clean_arch/sec2">第二部分 從基礎構件開始: 程式設計範式&lt;/a>&lt;/h3>
&lt;h4 id="第3章---程式設計範式總覽clean_archch3">&lt;a href="https://intervalrain.github.io/clean_arch/ch3">第3章 - 程式設計範式總覽&lt;/a>&lt;/h4>
&lt;h4 id="第4章---結構化程式設計clean_archch4">&lt;a href="https://intervalrain.github.io/clean_arch/ch4">第4章 - 結構化程式設計&lt;/a>&lt;/h4>
&lt;h4 id="第5章---物件導向程式設計clean_archch5">&lt;a href="https://intervalrain.github.io/clean_arch/ch5">第5章 - 物件導向程式設計&lt;/a>&lt;/h4>
&lt;h4 id="第6章---函數式程式設計clean_archch6">&lt;a href="https://intervalrain.github.io/clean_arch/ch6">第6章 - 函數式程式設計&lt;/a>&lt;/h4>
&lt;hr>
&lt;h3 id="第三部分-設計原則clean_archsec3">&lt;a href="https://intervalrain.github.io/clean_arch/sec3">第三部分 設計原則&lt;/a>&lt;/h3>
&lt;h4 id="第7章---srp-單一職責原則clean_archch7">&lt;a href="https://intervalrain.github.io/clean_arch/ch7">第7章 - SRP 單一職責原則&lt;/a>&lt;/h4>
&lt;h4 id="第8章---ocp-開放封則原則clean_archch8">&lt;a href="https://intervalrain.github.io/clean_arch/ch8">第8章 - OCP 開放封則原則&lt;/a>&lt;/h4>
&lt;h4 id="第9章---lsp-里氏替換原則clean_archch9">&lt;a href="https://intervalrain.github.io/clean_arch/ch9">第9章 - LSP 里氏替換原則&lt;/a>&lt;/h4>
&lt;h4 id="第10章---isp-介面隔離原則clean_archch10">&lt;a href="https://intervalrain.github.io/clean_arch/ch10">第10章 - ISP 介面隔離原則&lt;/a>&lt;/h4>
&lt;h4 id="第11章---dip-依賴反轉原則clean_archch11">&lt;a href="https://intervalrain.github.io/clean_arch/ch11">第11章 - DIP 依賴反轉原則&lt;/a>&lt;/h4>
&lt;hr>
&lt;h3 id="第四部分-組件構建原則clean_archsec4">[第四部分 組件構建原則)(/clean_arch/sec4)&lt;/h3>
&lt;h4 id="第12章---元件clean_archch12">&lt;a href="https://intervalrain.github.io/clean_arch/ch12">第12章 - 元件&lt;/a>&lt;/h4>
&lt;h4 id="第13章---元件聚合clean_archch13">&lt;a href="https://intervalrain.github.io/clean_arch/ch13">第13章 - 元件聚合&lt;/a>&lt;/h4>
&lt;h4 id="第14章---元件耦合clean_archch14">&lt;a href="https://intervalrain.github.io/clean_arch/ch14">第14章 - 元件耦合&lt;/a>&lt;/h4>
&lt;hr>
&lt;h3 id="第五部分-軟體架構clean_archsec5">&lt;a href="https://intervalrain.github.io/clean_arch/sec5">第五部分 軟體架構&lt;/a>&lt;/h3>
&lt;h4 id="第15章---什麼是軟體架構clean_archch15">&lt;a href="https://intervalrain.github.io/clean_arch/ch15">第15章 - 什麼是軟體架構&lt;/a>&lt;/h4>
&lt;h4 id="第16章---獨立性clean_archch16">&lt;a href="https://intervalrain.github.io/clean_arch/ch16">第16章 - 獨立性&lt;/a>&lt;/h4>
&lt;h4 id="第17章---劃分邊界clean_archch17">&lt;a href="https://intervalrain.github.io/clean_arch/ch17">第17章 - 劃分邊界&lt;/a>&lt;/h4>
&lt;h4 id="第18章---邊界剖析clean_archch18">&lt;a href="https://intervalrain.github.io/clean_arch/ch18">第18章 - 邊界剖析&lt;/a>&lt;/h4>
&lt;h4 id="第19章---策略與層次clean_archch19">&lt;a href="https://intervalrain.github.io/clean_arch/ch19">第19章 - 策略與層次&lt;/a>&lt;/h4>
&lt;h4 id="第20章---業務邏輯clean_archch20">&lt;a href="https://intervalrain.github.io/clean_arch/ch20">第20章 - 業務邏輯&lt;/a>&lt;/h4>
&lt;h4 id="第21章---尖叫的軟體架構clean_archch21">&lt;a href="https://intervalrain.github.io/clean_arch/ch21">第21章 - 尖叫的軟體架構&lt;/a>&lt;/h4>
&lt;h4 id="第22章---整潔架構clean_archch22">&lt;a href="https://intervalrain.github.io/clean_arch/ch22">第22章 - 整潔架構&lt;/a>&lt;/h4>
&lt;h4 id="第23章---展示器和謙卑物件clean_archch23">&lt;a href="https://intervalrain.github.io/clean_arch/ch23">第23章 - 展示器和謙卑物件&lt;/a>&lt;/h4>
&lt;h4 id="第24章---不完全邊界clean_archch24">&lt;a href="https://intervalrain.github.io/clean_arch/ch24">第24章 - 不完全邊界&lt;/a>&lt;/h4>
&lt;h4 id="第25章---層次與邊界clean_archch25">&lt;a href="https://intervalrain.github.io/clean_arch/ch25">第25章 - 層次與邊界&lt;/a>&lt;/h4>
&lt;h4 id="第26章---main-元件clean_arch_h26">&lt;a href="https://intervalrain.github.io/clean_arch_/h26">第26章 - Main 元件&lt;/a>&lt;/h4>
&lt;h4 id="第27章---服務-宏觀與微觀clean_archch27">&lt;a href="https://intervalrain.github.io/clean_arch/ch27">第27章 - 服務: 宏觀與微觀&lt;/a>&lt;/h4>
&lt;h4 id="第28章---測試邊界clean_archch28">&lt;a href="https://intervalrain.github.io/clean_arch/ch28">第28章 - 測試邊界&lt;/a>&lt;/h4>
&lt;h4 id="第29章---整潔的嵌入式架構clean_archch29">&lt;a href="https://intervalrain.github.io/clean_arch/ch29">第29章 - 整潔的嵌入式架構&lt;/a>&lt;/h4>
&lt;hr>
&lt;h3 id="第六部分-實現細節clean_archsec6">&lt;a href="https://intervalrain.github.io/clean_arch/sec6">第六部分 實現細節&lt;/a>]&lt;/h3>
&lt;h4 id="第30章---數據庫只是實現細節clean_archch30">&lt;a href="https://intervalrain.github.io/clean_arch/ch30">第30章 - 數據庫只是實現細節&lt;/a>&lt;/h4>
&lt;h4 id="第31章---web-是實現細節clean_archch31">&lt;a href="https://intervalrain.github.io/clean_arch/ch31">第31章 - Web 是實現細節&lt;/a>&lt;/h4>
&lt;h4 id="第32章---應用程式框架是實現細節clean_archch32">&lt;a href="https://intervalrain.github.io/clean_arch/ch32">第32章 - 應用程式框架是實現細節&lt;/a>&lt;/h4>
&lt;h4 id="第33章---案例分析-影片銷售網站clean_archch33">&lt;a href="https://intervalrain.github.io/clean_arch/ch33">第33章 - 案例分析: 影片銷售網站&lt;/a>&lt;/h4>
&lt;h4 id="第34章---拾遺clean_archch34">&lt;a href="https://intervalrain.github.io/clean_arch/ch34">第34章 - 拾遺&lt;/a>&lt;/h4></description></item><item><title>[DXP] 在 spotfire 中創建自定義視覺化工具</title><link>https://intervalrain.github.io/dxp/customvisualization/</link><pubDate>Mon, 14 Aug 2023 22:54:55 +0800</pubDate><guid>https://intervalrain.github.io/dxp/customvisualization/</guid><description>在 spotfire 中創建自定義的視覺化工具</description></item><item><title>[ML] 01. 機器學習基本概念簡介</title><link>https://intervalrain.github.io/ml/lhy01/</link><pubDate>Wed, 02 Aug 2023 23:56:25 +0800</pubDate><guid>https://intervalrain.github.io/ml/lhy01/</guid><description>什麼是機器學習，機器學習任務，監督式學習的運作流程</description></item><item><title>[C#] Large Object Heap</title><link>https://intervalrain.github.io/csharp/loh/</link><pubDate>Sat, 22 Jul 2023 20:59:57 +0800</pubDate><guid>https://intervalrain.github.io/csharp/loh/</guid><description>Introduction to Large Object Heap</description></item><item><title>[DXP] Spotfire Extension 擴充程式</title><link>https://intervalrain.github.io/dxp/extension/</link><pubDate>Fri, 23 Jun 2023 03:03:52 +0800</pubDate><guid>https://intervalrain.github.io/dxp/extension/</guid><description>spotfire sdk 介紹</description></item><item><title>[DXP] Spotfire Developer SDK</title><link>https://intervalrain.github.io/dxp/sdk/</link><pubDate>Thu, 22 Jun 2023 21:43:13 +0800</pubDate><guid>https://intervalrain.github.io/dxp/sdk/</guid><description>spotfire sdk 介紹</description></item><item><title>[DXP] 在 spotfire 中創建自定義工具</title><link>https://intervalrain.github.io/dxp/customtool/</link><pubDate>Tue, 06 Jun 2023 22:38:08 +0800</pubDate><guid>https://intervalrain.github.io/dxp/customtool/</guid><description>在 spotfire 中創建自定義工具</description></item><item><title>[DXP] 在 spotfire 中創建自定義任務</title><link>https://intervalrain.github.io/dxp/customtask/</link><pubDate>Tue, 06 Jun 2023 21:36:12 +0800</pubDate><guid>https://intervalrain.github.io/dxp/customtask/</guid><description>在 spotfire 中創建自定義任務</description></item><item><title>[DXP] 使用 Visual Studio 對 Spotfire 開發進行環境設置</title><link>https://intervalrain.github.io/dxp/config/</link><pubDate>Tue, 06 Jun 2023 20:58:59 +0800</pubDate><guid>https://intervalrain.github.io/dxp/config/</guid><description>spotfire 開發環境設置</description></item><item><title>[CS] Sample cost for performance test</title><link>https://intervalrain.github.io/csharp/performancetest/</link><pubDate>Tue, 16 May 2023 21:26:24 +0800</pubDate><guid>https://intervalrain.github.io/csharp/performancetest/</guid><description>&lt;h3 id="sample-code-for-stop-watch">Sample code for stop watch&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Csharp" data-lang="Csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">using&lt;/span> System;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">using&lt;/span> System.Collections.Generic;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">using&lt;/span> System.Data;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">using&lt;/span> System.Linq;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">using&lt;/span> System.Runtime.CompilerServices;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">using&lt;/span> System.Data.Common;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">using&lt;/span> System.Diagnostics;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">using&lt;/span> System.Drawing;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">using&lt;/span> System.Text;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">using&lt;/span> System.Threading.Tasks;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">namespace&lt;/span> Rainspace.PlayGround
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Program&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> Main(&lt;span style="color:#66d9ef">string&lt;/span>[] args)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Stopwatch sw = &lt;span style="color:#66d9ef">new&lt;/span> Stopwatch();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sw.Start();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> System.Console.WriteLine(&lt;span style="color:#e6db74">&amp;#34;==============Accumulate1==============&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> System.Console.WriteLine(&lt;span style="color:#e6db74">&amp;#34;Result: &amp;#34;&lt;/span> + Accumulate(&lt;span style="color:#ae81ff">0&lt;/span>, &lt;span style="color:#ae81ff">100&lt;/span>, &lt;span style="color:#ae81ff">0&lt;/span>));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sw.Stop();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> System.Console.WriteLine(&lt;span style="color:#e6db74">&amp;#34;Time cost: &amp;#34;&lt;/span> + (sw.ElapsedTicks/&lt;span style="color:#ae81ff">1.0e6&lt;/span>).ToString() + &lt;span style="color:#e6db74">&amp;#34;ms&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sw.Reset();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sw.Start();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> System.Console.WriteLine(&lt;span style="color:#e6db74">&amp;#34;==============Accumulate2==============&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> System.Console.WriteLine(&lt;span style="color:#e6db74">&amp;#34;Result: &amp;#34;&lt;/span> + Accumulate(&lt;span style="color:#ae81ff">0&lt;/span>, &lt;span style="color:#ae81ff">100&lt;/span>, &lt;span style="color:#ae81ff">0&lt;/span>));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sw.Stop();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> System.Console.WriteLine(&lt;span style="color:#e6db74">&amp;#34;Time cost: &amp;#34;&lt;/span> + (sw.ElapsedTicks/&lt;span style="color:#ae81ff">1.0e6&lt;/span>).ToString() + &lt;span style="color:#e6db74">&amp;#34;ms&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> Accumulate(&lt;span style="color:#66d9ef">int&lt;/span> begin, &lt;span style="color:#66d9ef">int&lt;/span> end, &lt;span style="color:#66d9ef">int&lt;/span> sum = &lt;span style="color:#ae81ff">0&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res = sum;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (end &amp;lt; begin) &lt;span style="color:#66d9ef">return&lt;/span> Accumulate(end, begin, sum);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i = begin; i &amp;lt; end; i++)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res += i;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> Accumulate2(&lt;span style="color:#66d9ef">int&lt;/span> begin, &lt;span style="color:#66d9ef">int&lt;/span> end, &lt;span style="color:#66d9ef">int&lt;/span> sum = &lt;span style="color:#ae81ff">0&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res = (begin + end) * (end - begin) / &lt;span style="color:#ae81ff">2&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res + sum;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[IT] 關聯模式的五大鍵 Super key、Candidate Key、Primary Key、Alternate Key、Foreign Key</title><link>https://intervalrain.github.io/it/keysinrelation/</link><pubDate>Thu, 11 May 2023 21:50:43 +0800</pubDate><guid>https://intervalrain.github.io/it/keysinrelation/</guid><description>關聯模式的五大鍵介紹</description></item><item><title>[Algo] 3-2. Binary Search</title><link>https://intervalrain.github.io/cs/algo/binary_search/</link><pubDate>Sun, 07 May 2023 18:46:56 +0800</pubDate><guid>https://intervalrain.github.io/cs/algo/binary_search/</guid><description>介紹二元搜索法，並介紹其適用情境</description></item><item><title>[C#] C#3、LINQ 及相關特性</title><link>https://intervalrain.github.io/csharp/linq_props/</link><pubDate>Mon, 01 May 2023 14:10:48 +0800</pubDate><guid>https://intervalrain.github.io/csharp/linq_props/</guid><description>Introduction to LINQ in C#</description></item><item><title>[IT] Design Patterns</title><link>https://intervalrain.github.io/it/design_pattern/</link><pubDate>Mon, 01 May 2023 00:22:49 +0800</pubDate><guid>https://intervalrain.github.io/it/design_pattern/</guid><description>簡介設計模式</description></item><item><title>[ML] 簡單實作測試</title><link>https://intervalrain.github.io/ml/work/</link><pubDate>Sun, 30 Apr 2023 00:35:59 +0800</pubDate><guid>https://intervalrain.github.io/ml/work/</guid><description>&lt;h2 id="線性迴歸建模">線性迴歸建模&lt;/h2>
&lt;h3 id="載入資料">載入資料&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> pandas &lt;span style="color:#66d9ef">as&lt;/span> pd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> matplotlib.pyplot &lt;span style="color:#66d9ef">as&lt;/span> plt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> matplotlib &lt;span style="color:#66d9ef">as&lt;/span> mlp
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>url &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#34;sample.csv&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>data &lt;span style="color:#f92672">=&lt;/span> pd&lt;span style="color:#f92672">.&lt;/span>read_csv(url)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>x &lt;span style="color:#f92672">=&lt;/span> data[&lt;span style="color:#e6db74">&amp;#34;x-axis&amp;#34;&lt;/span>]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>y &lt;span style="color:#f92672">=&lt;/span> data[&lt;span style="color:#e6db74">&amp;#34;y-axis&amp;#34;&lt;/span>]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="畫圖">畫圖&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">plot&lt;/span>(x, y, w, b):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> line &lt;span style="color:#f92672">=&lt;/span> w &lt;span style="color:#f92672">*&lt;/span> x &lt;span style="color:#f92672">+&lt;/span> b
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> plt&lt;span style="color:#f92672">.&lt;/span>plot(x, line, color&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;red&amp;#34;&lt;/span>, label&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;prediction&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> plt&lt;span style="color:#f92672">.&lt;/span>scatter(x, y, color&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;blue&amp;#34;&lt;/span>, label&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;data&amp;#34;&lt;/span>, marker&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;x&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> plt&lt;span style="color:#f92672">.&lt;/span>title(&lt;span style="color:#e6db74">&amp;#34;Title&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> plt&lt;span style="color:#f92672">.&lt;/span>xlabel(&lt;span style="color:#e6db74">&amp;#34;x Axis&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> plt&lt;span style="color:#f92672">.&lt;/span>ylabel(&lt;span style="color:#e6db74">&amp;#34;y Axis&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> plt&lt;span style="color:#f92672">.&lt;/span>xlim([&lt;span style="color:#ae81ff">0&lt;/span>,&lt;span style="color:#ae81ff">12&lt;/span>])
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> plt&lt;span style="color:#f92672">.&lt;/span>ylim([&lt;span style="color:#ae81ff">20&lt;/span>,&lt;span style="color:#ae81ff">140&lt;/span>])
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> plt&lt;span style="color:#f92672">.&lt;/span>show()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plot(x, y, &lt;span style="color:#ae81ff">10&lt;/span>, &lt;span style="color:#ae81ff">20&lt;/span>)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="定義-cost-function">定義 cost function&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">cost_function&lt;/span>(x, y, w, b):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> y2 &lt;span style="color:#f92672">=&lt;/span> w &lt;span style="color:#f92672">*&lt;/span> x &lt;span style="color:#f92672">+&lt;/span> b
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cost &lt;span style="color:#f92672">=&lt;/span> (y &lt;span style="color:#f92672">-&lt;/span> y2) &lt;span style="color:#f92672">**&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> cost&lt;span style="color:#f92672">.&lt;/span>mean()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cost_function(x, y, &lt;span style="color:#ae81ff">10&lt;/span>, &lt;span style="color:#ae81ff">20&lt;/span>)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>假設在 b = 20 的情形下，找 w 的最小值&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>w_arr &lt;span style="color:#f92672">=&lt;/span> []
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>costs &lt;span style="color:#f92672">=&lt;/span> []
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">for&lt;/span> w &lt;span style="color:#f92672">in&lt;/span> range(&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">100&lt;/span>, &lt;span style="color:#ae81ff">101&lt;/span>):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> w2 &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">10&lt;/span> &lt;span style="color:#f92672">+&lt;/span> w&lt;span style="color:#f92672">/&lt;/span>&lt;span style="color:#ae81ff">100&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cost &lt;span style="color:#f92672">=&lt;/span> cost_function(x, y, w2, &lt;span style="color:#ae81ff">20&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> w_arr&lt;span style="color:#f92672">.&lt;/span>append(w2)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> costs&lt;span style="color:#f92672">.&lt;/span>append(cost)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> matplotlib.pyplot &lt;span style="color:#66d9ef">as&lt;/span> plt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>title(&lt;span style="color:#e6db74">&amp;#34;cost function - when b = 20)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>xlabel(&lt;span style="color:#e6db74">&amp;#34;w&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>ylabel(&lt;span style="color:#e6db74">&amp;#34;cost function&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>plot(w_arr, costs)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>show()
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="利用-numpy-計算矩陣">利用 numpy 計算矩陣&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">import&lt;/span> numpy &lt;span style="color:#66d9ef">as&lt;/span> np
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ws &lt;span style="color:#f92672">=&lt;/span> np&lt;span style="color:#f92672">.&lt;/span>arange(&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">100&lt;/span>, &lt;span style="color:#ae81ff">101&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>bs &lt;span style="color:#f92672">=&lt;/span> np&lt;span style="color:#f92672">.&lt;/span>arange(&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">100&lt;/span>, &lt;span style="color:#ae81ff">101&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>costs &lt;span style="color:#f92672">=&lt;/span> np&lt;span style="color:#f92672">.&lt;/span>zeros((&lt;span style="color:#ae81ff">201&lt;/span>, &lt;span style="color:#ae81ff">201&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">for&lt;/span> w &lt;span style="color:#f92672">in&lt;/span> ws:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> j &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> b &lt;span style="color:#f92672">in&lt;/span> bs:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cost &lt;span style="color:#f92672">=&lt;/span> cost_function(x, y, w, b)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> costs[i,j] &lt;span style="color:#f92672">=&lt;/span> cost
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> j &lt;span style="color:#f92672">=&lt;/span> j&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> i &lt;span style="color:#f92672">=&lt;/span> i&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>print(costs)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="畫-3d-圖">畫 3d 圖&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>ax &lt;span style="color:#f92672">=&lt;/span> plt&lt;span style="color:#f92672">.&lt;/span>axes(projection&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;3d&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ax&lt;span style="color:#f92672">.&lt;/span>xaxis&lt;span style="color:#f92672">.&lt;/span>set_pane_color((&lt;span style="color:#ae81ff">1&lt;/span>,&lt;span style="color:#ae81ff">1&lt;/span>,&lt;span style="color:#ae81ff">1&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ax&lt;span style="color:#f92672">.&lt;/span>yaxis&lt;span style="color:#f92672">.&lt;/span>set_pane_color((&lt;span style="color:#ae81ff">1&lt;/span>,&lt;span style="color:#ae81ff">1&lt;/span>,&lt;span style="color:#ae81ff">1&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ax&lt;span style="color:#f92672">.&lt;/span>zaxis&lt;span style="color:#f92672">.&lt;/span>set_pane_color((&lt;span style="color:#ae81ff">1&lt;/span>,&lt;span style="color:#ae81ff">1&lt;/span>,&lt;span style="color:#ae81ff">1&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>figure(figsize&lt;span style="color:#f92672">=&lt;/span>(&lt;span style="color:#ae81ff">7&lt;/span>,&lt;span style="color:#ae81ff">7&lt;/span>))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ax&lt;span style="color:#f92672">.&lt;/span>view_init(&lt;span style="color:#ae81ff">30&lt;/span>, &lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">110&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>b_grid, w_grid &lt;span style="color:#f92672">=&lt;/span> np&lt;span style="color:#f92672">.&lt;/span>meshgrid(bs, ws)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ax&lt;span style="color:#f92672">.&lt;/span>plot_surface(w_grid, b_grid, costs, cmap&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Spectral_r&amp;#34;&lt;/span>, alpha&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">0.7&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ax&lt;span style="color:#f92672">.&lt;/span>plot_wireframe(w_grid, b_grid, costs, alpha&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">0.1&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ax&lt;span style="color:#f92672">.&lt;/span>set_title(&lt;span style="color:#e6db74">&amp;#34;loss function&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ax&lt;span style="color:#f92672">.&lt;/span>set_xlabel(&lt;span style="color:#e6db74">&amp;#34;w&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ax&lt;span style="color:#f92672">.&lt;/span>set_ylabel(&lt;span style="color:#e6db74">&amp;#34;b&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ax&lt;span style="color:#f92672">.&lt;/span>set_zlabel(&lt;span style="color:#e6db74">&amp;#34;loss&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>w_index, b_index &lt;span style="color:#f92672">=&lt;/span> np&lt;span style="color:#f92672">.&lt;/span>where(costs &lt;span style="color:#f92672">==&lt;/span> np&lt;span style="color:#f92672">.&lt;/span>min(costs))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ax&lt;span style="color:#f92672">.&lt;/span>scatter(ws[w_index], bs[b_index], costs[w_index, b_index], color&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;red&amp;#34;&lt;/span>, s&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">40&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>plt&lt;span style="color:#f92672">.&lt;/span>show()
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="計算梯度">計算梯度&lt;/h3>
&lt;ul>
&lt;li>\(\text{cost} = (\text{y}_\text{pred}-\text{y})^2\\
\text{cost} = (\text{y}-(\text{w}\times\text{x}+\text{b}))^2\\
\text{m} _\text{w} = -2\times\text{x}(\text{y-wx-b})\\
\text{m} _\text{b} = -2\times(\text{y-wx-b})\\
\)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">compute_gradient&lt;/span>(x, y, w, b):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> w_gradient &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span>&lt;span style="color:#f92672">*&lt;/span>x&lt;span style="color:#f92672">*&lt;/span>(w&lt;span style="color:#f92672">*&lt;/span>x&lt;span style="color:#f92672">+&lt;/span>b&lt;span style="color:#f92672">-&lt;/span>y)&lt;span style="color:#f92672">.&lt;/span>mean()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> b_gradient &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span>&lt;span style="color:#f92672">*&lt;/span>(w&lt;span style="color:#f92672">*&lt;/span>x&lt;span style="color:#f92672">+&lt;/span>b&lt;span style="color:#f92672">-&lt;/span>y)&lt;span style="color:#f92672">.&lt;/span>mean()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> w_gradient, b_gradient
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="利用梯度下降計算-cost-最小值">利用梯度下降計算 cost 最小值&lt;/h3>
&lt;ul>
&lt;li>\(\text{w}_2=\text{w}-\text{m} _\text{w} \times \text{learning\_rate}\)&lt;/li>
&lt;li>\(\text{b}_2=\text{b}-\text{m} _\text{b} \times \text{learning\_rate}\)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>learning_rate &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0.001&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">for&lt;/span> i &lt;span style="color:#f92672">in&lt;/span> range(&lt;span style="color:#ae81ff">10&lt;/span>):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> w_gradient, b_gradient &lt;span style="color:#f92672">=&lt;/span> compute_gradient(x, y, w, b)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> w &lt;span style="color:#f92672">=&lt;/span> w &lt;span style="color:#f92672">-&lt;/span> w_gradient &lt;span style="color:#f92672">*&lt;/span> learning_rate
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> b &lt;span style="color:#f92672">=&lt;/span> b &lt;span style="color:#f92672">-&lt;/span> b_gradient &lt;span style="color:#f92672">*&lt;/span> learning_rate
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cost &lt;span style="color:#f92672">=&lt;/span> cost_function(x, y, w, b)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> print(&lt;span style="color:#e6db74">f&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Iteration &lt;/span>&lt;span style="color:#e6db74">{&lt;/span>i&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74"> : Cost &lt;/span>&lt;span style="color:#e6db74">{&lt;/span>cost&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">, w: &lt;/span>&lt;span style="color:#e6db74">{&lt;/span>w&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">, b: &lt;/span>&lt;span style="color:#e6db74">{&lt;/span>b&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="gradient_descent-函式">gradient_descent 函式&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">gradient_descent&lt;/span>(x, y, w_init, b_init, learning_rate, cost_function, gradient_function, run_iteration):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> c_hist &lt;span style="color:#f92672">=&lt;/span> []
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> w_hist &lt;span style="color:#f92672">=&lt;/span> []
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> b_hist &lt;span style="color:#f92672">=&lt;/span> []
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> w &lt;span style="color:#f92672">=&lt;/span> w_init
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> b &lt;span style="color:#f92672">=&lt;/span> b_init
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> i &lt;span style="color:#f92672">in&lt;/span> range(run_iteration):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> w_gradient, b_gradient &lt;span style="color:#f92672">=&lt;/span> gradient_function(x, y, w, b)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> w &lt;span style="color:#f92672">=&lt;/span> w &lt;span style="color:#f92672">-&lt;/span> w_gradient &lt;span style="color:#f92672">*&lt;/span> learning_rate
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> b &lt;span style="color:#f92672">=&lt;/span> b &lt;span style="color:#f92672">-&lt;/span> b_gradient &lt;span style="color:#f92672">*&lt;/span> learning_rate
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cost &lt;span style="color:#f92672">=&lt;/span> cost_function(x, y, w, b)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> w_hist&lt;span style="color:#f92672">.&lt;/span>append(w)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> b_hist&lt;span style="color:#f92672">.&lt;/span>append(b)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> c_hist&lt;span style="color:#f92672">.&lt;/span>append(cost)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> w, b, w_hist, b_hist, c_hist
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="多特徵的預測">多特徵的預測&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">from&lt;/span> sklearn.model_selection &lt;span style="color:#f92672">import&lt;/span> train_test_split
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>scaler &lt;span style="color:#f92672">=&lt;/span> StandardScaler()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>scaler&lt;span style="color:#f92672">.&lt;/span>fit(x_train)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>x_train &lt;span style="color:#f92672">=&lt;/span> scaler&lt;span style="color:#f92672">.&lt;/span>transform(x_train)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>x_test &lt;span style="color:#f92672">=&lt;/span> scaler&lt;span style="color:#f92672">.&lt;/span>transform(x_test)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>x_real &lt;span style="color:#f92672">=&lt;/span> np&lt;span style="color:#f92672">.&lt;/span>array([[&lt;span style="color:#ae81ff">5.3&lt;/span>, &lt;span style="color:#ae81ff">2&lt;/span>, &lt;span style="color:#ae81ff">1&lt;/span>, &lt;span style="color:#ae81ff">0&lt;/span>], [&lt;span style="color:#ae81ff">7&lt;/span>,&lt;span style="color:#ae81ff">2&lt;/span>, &lt;span style="color:#ae81ff">0&lt;/span>, &lt;span style="color:#ae81ff">0&lt;/span>, &lt;span style="color:#ae81ff">1&lt;/span>]])
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>x_real &lt;span style="color:#f92672">=&lt;/span> scaler&lt;span style="color:#f92672">.&lt;/span>transfrom(x_real)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>y_real &lt;span style="color:#f92672">=&lt;/span> (w_final&lt;span style="color:#f92672">*&lt;/span>x_real)&lt;span style="color:#f92672">.&lt;/span>sum(axis&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">+&lt;/span> b_final
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>y_real
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="特徵縮放加速-gradient-descent">「特徵縮放」加速 gradient descent&lt;/h3>
&lt;ul>
&lt;li>w1&lt;em>x1+w2&lt;/em>x2+w3&lt;em>x3+w4&lt;/em>x4+b&lt;/li>
&lt;li>因分布範圍不同，調整參數，最好令每一個乘積都相當&lt;/li>
&lt;li>相當於是標準化：\(\frac{\text{x-平均值}}{標準差}\)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">from&lt;/span> sklearn.preprocessing &lt;span style="color:#f92672">import&lt;/span> StandardScaler
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>scaler &lt;span style="color:#f92672">=&lt;/span> StandardScaler()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>scaler&lt;span style="color:#f92672">.&lt;/span>fit(x_train)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>x_train &lt;span style="color:#f92672">=&lt;/span> scaler&lt;span style="color:#f92672">.&lt;/span>transform(x_train)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>x_test &lt;span style="color:#f92672">=&lt;/span> scaler&lt;span style="color:#f92672">.&lt;/span>transform(x_test)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="邏輯迴歸-logistic-regression">邏輯迴歸 Logistic Regression&lt;/h2>
&lt;h3 id="sigmoid-function">Sigmoid Function&lt;/h3>
&lt;ul>
&lt;li>當模性呈現 0-1 關係(邏輯迴歸)時可用&lt;/li>
&lt;li>\(\text{Sigmoid Function}=\frac{1}{1+e^{-z}}\)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">sigmoid&lt;/span>(z):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#f92672">/&lt;/span>(&lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#f92672">+&lt;/span>np&lt;span style="color:#f92672">.&lt;/span>exp(&lt;span style="color:#f92672">-&lt;/span>z))
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>w &lt;span style="color:#f92672">=&lt;/span> np&lt;span style="color:#f92672">.&lt;/span>array([&lt;span style="color:#ae81ff">1&lt;/span>,&lt;span style="color:#ae81ff">2&lt;/span>,&lt;span style="color:#ae81ff">3&lt;/span>,&lt;span style="color:#ae81ff">4&lt;/span>])
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>b &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>z &lt;span style="color:#f92672">=&lt;/span> (w&lt;span style="color:#f92672">*&lt;/span>x_train)&lt;span style="color:#f92672">.&lt;/span>sum(axis&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">+&lt;/span> b
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sigmoid(z)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[Algo] 3-10. Binary Indexed Tree(Fenwick Tree, BIT)</title><link>https://intervalrain.github.io/cs/algo/bit/</link><pubDate>Sat, 08 Apr 2023 17:46:12 +0800</pubDate><guid>https://intervalrain.github.io/cs/algo/bit/</guid><description>利用 Binary Indexed Tree 做數組的動態更新與查詢，中譯為樹狀樹組</description></item><item><title>[Algo] 3-1. Two Pointer/Sliding Window</title><link>https://intervalrain.github.io/cs/algo/two_pointer/</link><pubDate>Sun, 19 Mar 2023 22:56:03 +0800</pubDate><guid>https://intervalrain.github.io/cs/algo/two_pointer/</guid><description>使用雙指標或是更進階的滑動窗口的技巧，對資料集合(可能是array，可能是list)做搜尋。</description></item><item><title>[LeetCode] 132. Palindrome Partitioning II</title><link>https://intervalrain.github.io/leetcode/132/</link><pubDate>Sat, 18 Mar 2023 16:10:36 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/132/</guid><description>&lt;p>&lt;strong>132. Palindrome Partitioning II&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>string&lt;/code>, &lt;code>dynamic programming&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given a string &lt;code>s&lt;/code>, partition &lt;code>s&lt;/code> such that every substring of the partition is a palindrome.&lt;br>
Return &lt;em>the &lt;strong>minimum&lt;/strong> cuts needed for a palindrome partitioning of&lt;/em> &lt;code>s&lt;/code>.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> s = &amp;ldquo;aab&amp;rdquo;&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 1&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> The palindrome partitioning [&amp;ldquo;aa&amp;rdquo;, &amp;ldquo;b&amp;rdquo;] could be produced using 1 cut.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> s = &amp;ldquo;a&amp;rdquo;&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 0&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 3:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> s = &amp;ldquo;ab&amp;rdquo;&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 1&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Constraints:&lt;/strong>&lt;/p></description></item><item><title>[Algo] 3-0. Sorting</title><link>https://intervalrain.github.io/cs/algo/sorting/</link><pubDate>Thu, 16 Mar 2023 19:50:21 +0800</pubDate><guid>https://intervalrain.github.io/cs/algo/sorting/</guid><description>從排序開始，練習將想法實踐，All start from sorting</description></item><item><title>[C#] Namespace Alias 命名空間別名</title><link>https://intervalrain.github.io/csharp/namespace_alias/</link><pubDate>Tue, 28 Feb 2023 22:51:08 +0800</pubDate><guid>https://intervalrain.github.io/csharp/namespace_alias/</guid><description>Namespace alias in C#</description></item><item><title>[C#] Property getter/setter access separate 訪問權限分離</title><link>https://intervalrain.github.io/csharp/getter_setter_access_separate/</link><pubDate>Tue, 28 Feb 2023 22:18:25 +0800</pubDate><guid>https://intervalrain.github.io/csharp/getter_setter_access_separate/</guid><description>Separate getter/setter property access in C#</description></item><item><title>[C#] static class 靜態類別</title><link>https://intervalrain.github.io/csharp/static/</link><pubDate>Tue, 28 Feb 2023 21:08:01 +0800</pubDate><guid>https://intervalrain.github.io/csharp/static/</guid><description>Introduction to static class in C#</description></item><item><title>[C#] C# 筆記</title><link>https://intervalrain.github.io/csharp/csharp/</link><pubDate>Tue, 28 Feb 2023 18:49:39 +0800</pubDate><guid>https://intervalrain.github.io/csharp/csharp/</guid><description>Notes for C#</description></item><item><title>[C#] Partial Type 局部類型</title><link>https://intervalrain.github.io/csharp/partial/</link><pubDate>Tue, 28 Feb 2023 15:11:11 +0800</pubDate><guid>https://intervalrain.github.io/csharp/partial/</guid><description>Introduction to partial class ans partial method in C#</description></item><item><title>[C#] IEnumerable &amp; IEnumerator 迭代器</title><link>https://intervalrain.github.io/csharp/iterator/</link><pubDate>Mon, 27 Feb 2023 11:50:20 +0800</pubDate><guid>https://intervalrain.github.io/csharp/iterator/</guid><description>Introduction to Iterator in C#, including IEnumerator and IEnumerable</description></item><item><title>[C#] Delegate 委派</title><link>https://intervalrain.github.io/csharp/delegate/</link><pubDate>Sun, 26 Feb 2023 19:24:56 +0800</pubDate><guid>https://intervalrain.github.io/csharp/delegate/</guid><description>Introduction to Delegate in C#</description></item><item><title>[C#] Nullable 可空值類型</title><link>https://intervalrain.github.io/csharp/nullable/</link><pubDate>Thu, 23 Feb 2023 21:40:03 +0800</pubDate><guid>https://intervalrain.github.io/csharp/nullable/</guid><description>Introduction to Nullable in C#</description></item><item><title>[C#] Generic 泛型</title><link>https://intervalrain.github.io/csharp/generic/</link><pubDate>Wed, 22 Feb 2023 21:39:56 +0800</pubDate><guid>https://intervalrain.github.io/csharp/generic/</guid><description>Introduction to Generic in C#</description></item><item><title>[Life] 原子習慣</title><link>https://intervalrain.github.io/life/20230218/</link><pubDate>Sat, 18 Feb 2023 14:28:24 +0800</pubDate><guid>https://intervalrain.github.io/life/20230218/</guid><description>對習慣演成的一些隨筆</description></item><item><title>[Algo] 2-4. 回溯法 Backtracking</title><link>https://intervalrain.github.io/cs/algo/backtracking/</link><pubDate>Fri, 27 Jan 2023 10:50:26 +0800</pubDate><guid>https://intervalrain.github.io/cs/algo/backtracking/</guid><description>演算法設計，介紹什麼是回溯法，並示範運用回溯法的思維解題</description></item><item><title>[Algo] 2-3. 分治法 Divide and Conquer</title><link>https://intervalrain.github.io/cs/algo/divide_and_conquer/</link><pubDate>Fri, 27 Jan 2023 10:48:42 +0800</pubDate><guid>https://intervalrain.github.io/cs/algo/divide_and_conquer/</guid><description>演算法設計，介紹什麼是分治法，分治法的核心思想與例題，與常見的一些技巧。</description></item><item><title>[Algo] 2-2. 貪心演算法 Greedy</title><link>https://intervalrain.github.io/cs/algo/greedy/</link><pubDate>Tue, 24 Jan 2023 18:31:15 +0800</pubDate><guid>https://intervalrain.github.io/cs/algo/greedy/</guid><description>演算法設計，介紹什麼是貪心法，貪心法的解題思維</description></item><item><title>[Algo] 2-1. 暴力演算法 Brute Force</title><link>https://intervalrain.github.io/cs/algo/brute_force/</link><pubDate>Tue, 24 Jan 2023 15:57:40 +0800</pubDate><guid>https://intervalrain.github.io/cs/algo/brute_force/</guid><description>演算法設計，介紹什麼是暴力演算法，並示範幾種資料結構的遍歷與枚舉</description></item><item><title>[LeetCode] 491. Non-decreasing Subsequences</title><link>https://intervalrain.github.io/leetcode/491/</link><pubDate>Fri, 20 Jan 2023 21:39:50 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/491/</guid><description>&lt;p>&lt;strong>491. Non-decreasing Subsequences&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Hash Table&lt;/code>、&lt;code>Backtracking&lt;/code>、&lt;code>Bit Manipulation&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an integer array &lt;code>nums&lt;/code>, return &lt;em>all the different possible non-decreasing subsequences of the given array with at least two elements.&lt;/em> You may return the answer in &lt;strong>any order&lt;/strong>.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> nums = [4,6,7,7]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [[4,6],[4,6,7],[4,6,7,7],[4,7],[4,7,7],[6,7],[6,7,7],[7,7]]&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> nums = [4,4,3,2,1]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [[4,4]]&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Constraints:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code> &amp;lt;= nums.length &amp;lt;= 15&lt;/code>&lt;/li>
&lt;li>&lt;code>-100 &amp;lt;= nums[i] &amp;lt;= 100&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="二分析">二、分析&lt;/h3>
&lt;ul>
&lt;li>這一很典型的是一個 &lt;code>backtrack&lt;/code> 的問題，只要熟悉回溯法的框架並注意&lt;strong>終止條件&lt;/strong>與&lt;strong>處理重覆子序列&lt;/strong>即可。&lt;/li>
&lt;li>終止條件為 &lt;code>i == nums.size()&lt;/code>，此時將遍歷過的 &lt;code>path&lt;/code> 加入 &lt;code>res&lt;/code>，但要注意題目有規定至少要 &lt;code>2&lt;/code> 個元素的子序列，故需要再加入前做確認。&lt;/li>
&lt;li>注意題目傳回的子序列不可重覆，故需要額外做處理。&lt;/li>
&lt;/ul>
&lt;h3 id="三解題">三、解題&lt;/h3>
&lt;h4 id="1-backtracking">1. Backtracking&lt;/h4>
&lt;ul>
&lt;li>Time complexity: \(O(2^n)\)&lt;/li>
&lt;li>Space complexity: \(O(n)\)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-C++" data-lang="C++">&lt;span style="display:flex;">&lt;span>vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;gt;&lt;/span> findSubsequences(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;gt;&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> path;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dfs(nums, &lt;span style="color:#ae81ff">0&lt;/span>, path, res);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sort(res.begin(), res.end()); &lt;span style="color:#75715e">// 先做排序後
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> res.size()&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>; i &lt;span style="color:#f92672">&amp;gt;=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>; i&lt;span style="color:#f92672">--&lt;/span>) { &lt;span style="color:#75715e">// 從後面往前迭代
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span> (res[i] &lt;span style="color:#f92672">==&lt;/span> res[i&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>]) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res.erase(res.begin()&lt;span style="color:#f92672">+&lt;/span>i); &lt;span style="color:#75715e">// 刪除重覆的序列
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">dfs&lt;/span>(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> i, vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> path, vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;gt;&amp;amp;&lt;/span> res) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (i &lt;span style="color:#f92672">==&lt;/span> nums.size()) { &lt;span style="color:#75715e">// 終止條件
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span> (path.size() &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>) { &lt;span style="color:#75715e">// 滿足子序列元素大於等於2個，則加入答案
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> res.push_back(path);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (path.size() &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">||&lt;/span> nums[i] &lt;span style="color:#f92672">&amp;gt;=&lt;/span> path.back()) { &lt;span style="color:#75715e">// 注意需滿足題意為上升序列
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> path.push_back(nums[i]); &lt;span style="color:#75715e">// 加入子序列
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> dfs(nums, i&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>, path, res);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> path.pop_back(); &lt;span style="color:#75715e">// 回溯法需將元素 pop 掉
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dfs(nums, i&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>, path, res); &lt;span style="color:#75715e">// 跳過不取
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="2-backtrackingoptimized">2. Backtracking(optimized)&lt;/h4>
&lt;ul>
&lt;li>Time complexity: \(O(2^n)\)&lt;/li>
&lt;li>Space complexity: \(O(n)\)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-C++" data-lang="C++">&lt;span style="display:flex;">&lt;span>vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;gt;&lt;/span> findSubsequences(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;gt;&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> path;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dfs(nums, &lt;span style="color:#ae81ff">0&lt;/span>, path, res);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">dfs&lt;/span>(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> i, vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> path, vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;gt;&amp;amp;&lt;/span> res) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (i &lt;span style="color:#f92672">==&lt;/span> nums.size()) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (path.size() &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res.push_back(path);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (path.size() &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">||&lt;/span> nums[i] &lt;span style="color:#f92672">&amp;gt;=&lt;/span> path.back()) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> path.push_back(nums[i]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dfs(nums, i&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>, path, res);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> path.pop_back();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (path.size() &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">||&lt;/span> nums[i] &lt;span style="color:#f92672">!=&lt;/span> path.back()) { &lt;span style="color:#75715e">// 處理重覆子序列
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> dfs(nums, i&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>, path, res);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;a href="https://intervalrain.github.io/leetcode">回目錄 Catalog&lt;/a>&lt;/p></description></item><item><title>[IT] C# Depth Ch.2 C# 2</title><link>https://intervalrain.github.io/it/csharp_depth_ch2/</link><pubDate>Fri, 20 Jan 2023 10:10:46 +0800</pubDate><guid>https://intervalrain.github.io/it/csharp_depth_ch2/</guid><description>&lt;h1 id="c-2">C# 2&lt;/h1>
&lt;h2 id="一泛型">一、泛型&lt;/h2>
&lt;ul>
&lt;li>使用泛型(generic type)可以在編寫在編譯時類型安全的通用程式碼，無須事先知道要使用的具體類型。
&lt;em>示例1: array類型: 大小需預先設定，若要添加需要重新分配&lt;/em>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Csharp" data-lang="Csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> Main(&lt;span style="color:#66d9ef">string&lt;/span>[] args)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> PrintNames(GenerateNames());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> PrintNames(&lt;span style="color:#66d9ef">string&lt;/span>[] names)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">foreach&lt;/span> (&lt;span style="color:#66d9ef">string&lt;/span> name &lt;span style="color:#66d9ef">in&lt;/span> names)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Console.WriteLine(name);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span>[] GenerateNames()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">string&lt;/span>[] names = &lt;span style="color:#66d9ef">new&lt;/span> &lt;span style="color:#66d9ef">string&lt;/span>[&lt;span style="color:#ae81ff">4&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> names[&lt;span style="color:#ae81ff">0&lt;/span>] = &lt;span style="color:#e6db74">&amp;#34;Mike&amp;#34;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> names[&lt;span style="color:#ae81ff">1&lt;/span>] = &lt;span style="color:#e6db74">&amp;#34;Rain&amp;#34;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> names[&lt;span style="color:#ae81ff">2&lt;/span>] = &lt;span style="color:#e6db74">&amp;#34;Jessica&amp;#34;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> names[&lt;span style="color:#ae81ff">3&lt;/span>] = &lt;span style="color:#e6db74">&amp;#34;Billy&amp;#34;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> names;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;em>示例2: ArrayList類型: ArrayList.Add是Object的方法，但如果塞入不適合的參數類型，可能會引發InvalidCastException&lt;/em>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Csharp" data-lang="Csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> Main(&lt;span style="color:#66d9ef">string&lt;/span>[] args)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> PrintNames(GenerateNames());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> PrintNames(ArrayList names)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">foreach&lt;/span> (&lt;span style="color:#66d9ef">object&lt;/span> name &lt;span style="color:#66d9ef">in&lt;/span> names)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Console.WriteLine(name);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">static&lt;/span> ArrayList GenerateNames()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ArrayList names = &lt;span style="color:#66d9ef">new&lt;/span> ArrayList();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> names.Add(&lt;span style="color:#e6db74">&amp;#34;Mike&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> names.Add(&lt;span style="color:#e6db74">&amp;#34;Rain&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> names.Add(&lt;span style="color:#e6db74">&amp;#34;Jessica&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> names.Add(&lt;span style="color:#e6db74">&amp;#34;Billy&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> names;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;em>示例3: StringCollection專用類型: 解決前述兩個問題，但也限制了返回值。&lt;/em>&lt;/p></description></item><item><title>[LeetCode] 974. Subarray Sums Divisible by K</title><link>https://intervalrain.github.io/leetcode/974/</link><pubDate>Thu, 19 Jan 2023 13:50:19 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/974/</guid><description>&lt;p>&lt;strong>974. Subarray Sums Divisible by K&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Hash Table&lt;/code>、&lt;code>Prefix Sum&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an integer array &lt;code>nums&lt;/code> and an integer &lt;code>k&lt;/code>, return &lt;em>the number of non-empty&lt;/em> &lt;strong>subarrays&lt;/strong> &lt;em>that have a sum divisible by&lt;/em> &lt;code>k&lt;/code>.&lt;br>
A &lt;strong>subarray&lt;/strong> is a &lt;strong>contiguous&lt;/strong> part of an array.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> nums = [4,5,0,-2,-3,1], k = 5&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 7&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> There are 7 subarrays with a sum divisible by k = 5:&lt;br>
[4, 5, 0, -2, -3, 1], [5], [5, 0], [5, 0, -2, -3], [0], [0, -2, -3], [-2, -3]&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 53. Maximum Subarray</title><link>https://intervalrain.github.io/leetcode/53/</link><pubDate>Wed, 18 Jan 2023 23:20:08 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/53/</guid><description>&lt;p>&lt;strong>53. Maxmimum Subarray&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Divide and Conquer&lt;/code>、&lt;code>Dynamic Programming&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an integer array &lt;code>num&lt;/code>, find the subarray with the largest sum, and return &lt;em>its sum&lt;/em>.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> nums = [-2,1,-3,4,-1,2,1,-5,4]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 6&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> The subarray [4,-1,2,1] has the largest sum 6.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> nums = [1]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 1&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> The subarray [1] has the largest sum 1.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 3:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> [5,4,-1,7,8]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 23&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> The subarray [5,4,-1,7,8] has the largest sum 23.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Constraints:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 918. Maximum Sum Circular Subarray</title><link>https://intervalrain.github.io/leetcode/918/</link><pubDate>Wed, 18 Jan 2023 23:07:56 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/918/</guid><description>&lt;p>&lt;strong>918. Maximum Sum Circular Subarray&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Divide and Conquer&lt;/code>、&lt;code>Dynamic Programming&lt;/code>、&lt;code>Queue&lt;/code>、&lt;code>Monotonic Queue&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given a &lt;strong>circular integer array&lt;/strong> &lt;code>nums&lt;/code> of length &lt;code>n&lt;/code>, return &lt;em>the maximum possible sum of a non-empty &lt;em>&lt;strong>subarray&lt;/strong>&lt;/em> of&lt;/em> &lt;code>nums&lt;/code>.&lt;br>
A &lt;strong>circular array&lt;/strong> means the end of the array connects to the beginning of the array. Formally, the next element of &lt;code>nums[i]&lt;/code> is &lt;code>nums[(i + 1) % n]&lt;/code> and the previous element of &lt;code>nums[i]&lt;/code> is &lt;code>nums[(i - 1 + n) % n]&lt;/code>.&lt;br>
A &lt;strong>subarray&lt;/strong> may only include each element of the fixed buffer &lt;code>nums&lt;/code> at most once. Formally, for a subarray &lt;code>nums[i], nums[i + 1], ..., nums[j]&lt;/code>, there does not exist &lt;code>i &amp;lt;= k1&lt;/code>, &lt;code>k2 &amp;lt;= j&lt;/code> with &lt;code>k1 % n == k2 % n&lt;/code>.&lt;/p></description></item><item><title>[IT] C# Depth Ch.1 與時俱進的語言</title><link>https://intervalrain.github.io/it/csharp_depth_ch1/</link><pubDate>Tue, 17 Jan 2023 22:27:58 +0800</pubDate><guid>https://intervalrain.github.io/it/csharp_depth_ch1/</guid><description>&lt;h1 id="與時俱進的語言">與時俱進的語言&lt;/h1>
&lt;h2 id="一system-class">一、System Class&lt;/h2>
&lt;h3 id="1-泛型genric">1. 泛型(genric)&lt;/h3>
&lt;ul>
&lt;li>可更清楚的描述序列中每個元素的類型。&lt;/li>
&lt;/ul>
&lt;p>&lt;em>C#1 示例&lt;/em>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Csharp" data-lang="Csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Bookshelf&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> IEnumerable Books { &lt;span style="color:#66d9ef">get&lt;/span> { ... } }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;em>C#2 示例：泛型&lt;/em>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Csharp" data-lang="Csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Bookshelf&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">public&lt;/span> IEnumerable&amp;lt;Book&amp;gt; Books { &lt;span style="color:#66d9ef">get&lt;/span> { ... } }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h3 id="2-可空值類型nullable-value-type">2. 可空值類型(nullable value type)&lt;/h3>
&lt;ul>
&lt;li>可有效的表示未定的變量值，以擺脫魔數(用&lt;code>-1&lt;/code>當集合索引，用 &lt;code>MinValue&lt;/code> 或 &lt;code>MaxValue&lt;/code> 做為初始值)。&lt;/li>
&lt;/ul>
&lt;p>&lt;em>示例&lt;/em>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Csharp" data-lang="Csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">string?&lt;/span> a = &lt;span style="color:#66d9ef">null&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Console.WriteLine(a ?? &lt;span style="color:#e6db74">&amp;#34;null&amp;#34;&lt;/span>); &lt;span style="color:#75715e">// null&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>a = &lt;span style="color:#e6db74">&amp;#34;abc&amp;#34;&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Console.WriteLine(a ?? &lt;span style="color:#e6db74">&amp;#34;null&amp;#34;&lt;/span>); &lt;span style="color:#75715e">// abc&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h3 id="3-匿名類型anonymous-type隱式局部變數var">3. 匿名類型(anonymous type)、隱式局部變數(var)&lt;/h3>
&lt;ul>
&lt;li>兩者皆可解決靜態類型語言的缺陷：程式碼冗長。&lt;/li>
&lt;/ul>
&lt;p>&lt;em>示例1: 匿名類型(anonymous type)&lt;/em>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Csharp" data-lang="Csharp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">var&lt;/span> book = &lt;span style="color:#66d9ef">new&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Title = &lt;span style="color:#e6db74">&amp;#34;Harry Potter&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Author = &lt;span style="color:#e6db74">&amp;#34;J.K. Rowling&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">string&lt;/span> title = book.Title;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">string&lt;/span> author = book.Author;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>若已經調用了建構式的話，就無需顯式的宣該告變數的類型了。&lt;/li>
&lt;/ul>
&lt;p>&lt;em>示例2: 隱式類型(implicit typing)&lt;/em>&lt;/p></description></item><item><title>[LeetCode] 926. Flip String to Monotone Increasing</title><link>https://intervalrain.github.io/leetcode/926/</link><pubDate>Tue, 17 Jan 2023 16:36:26 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/926/</guid><description>&lt;p>&lt;strong>926. Flip String to Monotone Increasing&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>String&lt;/code>、&lt;code>Dynamic Programming&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>A binary string is monotone increasing if it consists of some number of &lt;code>0&lt;/code>&amp;rsquo;s (possibly none), followed by some number of &lt;code>1&lt;/code>&amp;rsquo;s (also possibly none).&lt;br>
You are given a binary string &lt;code>s&lt;/code>. You can flip &lt;code>s[i]&lt;/code> changing &lt;code>0&lt;/code> to &lt;code>1&lt;/code> or from &lt;code>1&lt;/code> to &lt;code>0&lt;/code>.&lt;br>
Return &lt;em>the minimum number of flips to make&lt;/em> &lt;code>s&lt;/code> &lt;em>monotone increasing&lt;/em>.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[IT] Shell 筆記</title><link>https://intervalrain.github.io/it/shell/</link><pubDate>Thu, 12 Jan 2023 23:34:41 +0800</pubDate><guid>https://intervalrain.github.io/it/shell/</guid><description>&lt;blockquote>
&lt;p>&lt;strong>Reference&lt;/strong>&lt;br>
&lt;a href="https://blog.csdn.net/w918589859/article/details/108752592">https://blog.csdn.net/w918589859/article/details/108752592&lt;/a>&lt;br>
&lt;a href="https://www.w3cschool.cn/linux/linux-Shell.html">https://www.w3cschool.cn/linux/linux-Shell.html&lt;/a>&lt;/p>&lt;/blockquote>
&lt;h2 id="一shell-簡介">一、Shell 簡介&lt;/h2>
&lt;ul>
&lt;li>什麼是 Shell?&lt;br>
Shell 是一個用 C 語言編寫的程式，它是使用者使用 Linux 的橋樑。Shell 既是一種命令語言，又是一種程式設計語言。&lt;br>
Shell 是指一種應用程式，這個應用程式提供了一個界面，使用者通過這個界面訪問作業系統核心(kernel)的服務。&lt;/li>
&lt;li>為什麼要學習和使用 Shell?&lt;br>
Shell 屬於內建的腳本，程序開發的效率非常高，依賴於功能強大的命令可以迅速的完成開發任務(批次處理)。&lt;/li>
&lt;li>Shell 腳本(Shell script)&lt;br>
是一種為 Shell 編寫的腳本程式。業界所說的 Shell 通常都是指 Shell 腳本。&lt;/li>
&lt;/ul>
&lt;h2 id="二-shell-入門">二、 Shell 入門&lt;/h2>
&lt;h3 id="1-shell-環境">1. Shell 環境&lt;/h3>
&lt;ul>
&lt;li>Shell 編程需要能編寫程式碼的&lt;strong>文本編輯器&lt;/strong>和一個能解釋執行的&lt;strong>腳本解釋器&lt;/strong>。&lt;/li>
&lt;li>在 linux 中有很多類型的 Shell，不同的 Shell 具備不同的功能，Shell 還決定了腳本中函數的語法。&lt;/li>
&lt;li>Bash 是 Linux 中默認的 Shell。一般情況下，人們不區分 Bourne Shell 和 Bourne Again Shell，所以 &lt;code>#!/bin/sh&lt;/code> 也可以被替換成 &lt;code>#!/bin/bash&lt;/code>&lt;/li>
&lt;li>Linux 的 Shell 種類眾多，不同的 Shell 都有自己的特點以及用途，常見的有：
&lt;ul>
&lt;li>Bourne Shell (&lt;code>/usr/bin/sh&lt;/code> 或 &lt;code>/bin/sh&lt;/code>)&lt;/li>
&lt;li>Bourne Again Shell (&lt;code>/bin/bash&lt;/code>)&lt;/li>
&lt;li>C Shell (&lt;code>/usr/bin/csh&lt;/code>)&lt;/li>
&lt;li>K Shell (&lt;code>/usr/bin/ksh&lt;/code>)&lt;/li>
&lt;li>Shell for Root(&lt;code>sbin/sh&lt;/code>)&lt;/li>
&lt;li>&amp;hellip;&amp;hellip;&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="2-bash-常用快捷鏈">2. Bash 常用快捷鏈&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: center">快捷鏈&lt;/th>
&lt;th style="text-align: left">功能&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: center">Ctrl+A&lt;/td>
&lt;td style="text-align: left">把游標移動到命令行開頭。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">Ctrl+E&lt;/td>
&lt;td style="text-align: left">把游標移動到命令行結尾。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">Ctrl+C&lt;/td>
&lt;td style="text-align: left">強制終止當前的命令。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">Ctrl+L&lt;/td>
&lt;td style="text-align: left">清除螢幕，等於 &lt;code>clear&lt;/code> 指令。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">Ctrl+U&lt;/td>
&lt;td style="text-align: left">清除並剪下當前命令。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">Ctrl+K&lt;/td>
&lt;td style="text-align: left">刪除並剪下游標以後的命令。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">Ctrl+Y&lt;/td>
&lt;td style="text-align: left">貼上。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">Ctrl+R&lt;/td>
&lt;td style="text-align: left">在歷史命令中搜索，按下 Ctrl+R 之後，就會出現搜索界面，只要輸入搜索內容，就會從歷史命令中搜索。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">Ctrl+D&lt;/td>
&lt;td style="text-align: left">退出當前終端機。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">Ctrl+Z&lt;/td>
&lt;td style="text-align: left">暫停，並放入後台。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">Ctrl+S&lt;/td>
&lt;td style="text-align: left">暫停螢幕輸出。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">Ctrl+Q&lt;/td>
&lt;td style="text-align: left">恢復螢幕輸出。&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;hr>
&lt;h3 id="3-輸入與輸出-io">3. 輸入與輸出 I/O&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>linux 的標準輸入與輸出&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 1519. Number of Nodes in the Sub-Tree With the Same Level</title><link>https://intervalrain.github.io/leetcode/1519/</link><pubDate>Thu, 12 Jan 2023 22:56:18 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/1519/</guid><description>&lt;p>&lt;strong>1519. Number of Nodes in the Sub-Tree With the Same Level&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Hash Table&lt;/code>、&lt;code>Tree&lt;/code>、&lt;code>Depth-First Search&lt;/code>、&lt;code>Breadth-First Search&lt;/code>、&lt;code>Counting&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given a tree (i.e. a connected, undirected graph that has no cycles) consisting of &lt;code>n&lt;/code> nodes numbered from &lt;code>0&lt;/code> to &lt;code>n - 1&lt;/code> and exactly &lt;code>n - 1&lt;/code> &lt;code>edges&lt;/code>. The &lt;strong>root&lt;/strong> of the tree is the node &lt;code>0&lt;/code>, and each node of the tree has &lt;strong>a label&lt;/strong> which is a lower-case character given in the string &lt;strong>labels&lt;/strong> (i.e. The node with the number &lt;code>i&lt;/code> has the label &lt;code>labels[i]&lt;/code>).&lt;br>
The &lt;code>edges&lt;/code> array is given on the form &lt;code>edges[i] = [ai, bi]&lt;/code>, which means there is an edge between nodes &lt;code>ai&lt;/code> and &lt;code>bi&lt;/code> in the tree.&lt;br>
Return &lt;em>an array of size &lt;code>n&lt;/code>&lt;/em> where &lt;code>ans[i]&lt;/code> is the number of nodes in the subtree of the &lt;code>ith&lt;/code> node which have the same label as node &lt;code>i&lt;/code>.&lt;br>
A subtree of a tree &lt;code>T&lt;/code> is the tree consisting of a node in &lt;code>T&lt;/code> and all of its descendant nodes.&lt;/p></description></item><item><title>[LeetCode] 100. Same Tree</title><link>https://intervalrain.github.io/leetcode/100/</link><pubDate>Tue, 10 Jan 2023 21:48:09 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/100/</guid><description>&lt;p>&lt;strong>100. Same Tree&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Tree&lt;/code>、&lt;code>Depth-First Search&lt;/code>、&lt;code>Breadth-First Search&lt;/code>、&lt;code>Binary Tree&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given the roots of two binary tree &lt;code>p&lt;/code> and &lt;code>q&lt;/code>, write a function to check if they are the same or not.&lt;br>
Two binary tree are considered the same if they are structurally iedntical, and the nodes have the same value.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;br>
&lt;img alt="ex1" loading="lazy" src="https://assets.leetcode.com/uploads/2020/12/20/ex1.jpg">&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> p = [1,2,3], q = [1,2,3]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> true&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;br>
&lt;img alt="ex2" loading="lazy" src="https://assets.leetcode.com/uploads/2020/12/20/ex2.jpg">&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> p = [1,2], q = [1,null,2]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> false&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 3:&lt;/strong>
&lt;img alt="ex3" loading="lazy" src="https://assets.leetcode.com/uploads/2020/12/20/ex3.jpg">&lt;/p></description></item><item><title>[LeetCode] 149. Max Points on a Line</title><link>https://intervalrain.github.io/leetcode/149/</link><pubDate>Sun, 08 Jan 2023 23:44:07 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/149/</guid><description>&lt;p>&lt;strong>149. Max Points on a Line&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Hash Table&lt;/code>、&lt;code>Math&lt;/code>、&lt;code>Geometry&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an array of &lt;code>points&lt;/code> where &lt;code>points[i] = [xi, yi]&lt;/code> represents a point on the &lt;strong>X-Y&lt;/strong> plane, return &lt;em>the maximum number of points that lie on the same straight line&lt;/em>.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;br>
&lt;img alt="plane1" loading="lazy" src="https://assets.leetcode.com/uploads/2021/02/25/plane1.jpg">&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> points = [[1,1],[2,2],[3,3]]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 3&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>
&lt;img alt="plane2" loading="lazy" src="https://assets.leetcode.com/uploads/2021/02/25/plane2.jpg">&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> points = [[1,1],[3,2],[5,3],[4,1],[2,3],[1,4]]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 4&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Constraints:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>1 &amp;lt;= points.length &amp;lt;= 300&lt;/code>&lt;/li>
&lt;li>&lt;code>points[i].length == 2&lt;/code>&lt;/li>
&lt;li>&lt;code>-10^4 &amp;lt;= xi, yi &amp;lt;= 10^4&lt;/code>&lt;/li>
&lt;li>All the &lt;code>points&lt;/code> are &lt;strong>unique&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="二分析">二、分析&lt;/h3>
&lt;ul>
&lt;li>若干點在同一條線上，表示這些點的斜率都相同，注意題目有提示不會有相同的點，故兩點間必定有斜率。
&lt;ul>
&lt;li>特別注意當分母為 &lt;code>0&lt;/code> 時要特別處理。&lt;/li>
&lt;li>題目有限制 &lt;code>-10^4 &amp;lt;= xi, yi &amp;lt;= 10^4&lt;/code>，故斜率最大 &lt;code>10^8&lt;/code>，所以我們可以將分母為零的斜率暫定為 &lt;code>INT_MAX(2147483647)&lt;/code>。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>遍歷每個點，並統計該點與其它點之間的斜率，將斜率用 &lt;code>unordered_map&lt;/code> 記錄下來，其每個斜率的直線上總共會有 &lt;code>m+1&lt;/code> (加上自己)。&lt;/li>
&lt;/ul>
&lt;h3 id="三解題">三、解題&lt;/h3>
&lt;h4 id="1">1.&lt;/h4>
&lt;ul>
&lt;li>Time complexity: \(O(n^2)\)&lt;/li>
&lt;li>Space complexity: \(O(n)\)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-C++" data-lang="C++">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">maxPoints&lt;/span>(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;gt;&amp;amp;&lt;/span> points) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> points.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> x0 &lt;span style="color:#f92672">=&lt;/span> points[i][&lt;span style="color:#ae81ff">0&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> y0 &lt;span style="color:#f92672">=&lt;/span> points[i][&lt;span style="color:#ae81ff">1&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">double&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> map;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> j &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; j &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; j&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (i &lt;span style="color:#f92672">==&lt;/span> j) &lt;span style="color:#66d9ef">continue&lt;/span>; &lt;span style="color:#75715e">// 若等於自己則跳過
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> x1 &lt;span style="color:#f92672">=&lt;/span> points[j][&lt;span style="color:#ae81ff">0&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> y1 &lt;span style="color:#f92672">=&lt;/span> points[j][&lt;span style="color:#ae81ff">1&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (x0 &lt;span style="color:#f92672">==&lt;/span> x1) { &lt;span style="color:#75715e">// 當分母為 0 時特別處理
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> cnt &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#f92672">++&lt;/span>map[INT_MAX];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, cnt);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> } &lt;span style="color:#66d9ef">else&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">double&lt;/span> m &lt;span style="color:#f92672">=&lt;/span> (y1&lt;span style="color:#f92672">-&lt;/span>y0)&lt;span style="color:#f92672">/&lt;/span>(&lt;span style="color:#ae81ff">1.0&lt;/span>&lt;span style="color:#f92672">*&lt;/span>(x1&lt;span style="color:#f92672">-&lt;/span>x0)); &lt;span style="color:#75715e">// 注意將斜率轉成 double
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> cnt &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#f92672">++&lt;/span>map[m];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, cnt);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>; &lt;span style="color:#75715e">// 答案記得加 1，加上自己
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;a href="https://intervalrain.github.io/leetcode">回目錄 Catalog&lt;/a>&lt;/p></description></item><item><title>[LeetCode] 452. Minimum Number of Arrows to Burst Balloons</title><link>https://intervalrain.github.io/leetcode/452/</link><pubDate>Thu, 05 Jan 2023 20:19:49 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/452/</guid><description>&lt;p>&lt;strong>452. Minimum Number of Arrows to Burst Balloons&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>,&lt;code>Greedy&lt;/code>,&lt;code>Sorting&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>There are some spherical balloons taped onto a flat wall that represents the XY-plane. The balloons are represented as a 2D integer array &lt;code>points&lt;/code> where &lt;code>points[i] = [x_start, x_end]&lt;/code> denotes a balloon whose &lt;strong>horizontal diameter&lt;/strong> stretches between &lt;code>x_start&lt;/code> and &lt;code>x_end&lt;/code>. You do not know the exact y-coordinates of the balloons.&lt;br>
Arrows can be shot up &lt;strong>directly vertically&lt;/strong> (in the positive y-direction) from different points along the x-axis. A balloon with &lt;code>x_start&lt;/code> and &lt;code>x_end&lt;/code> is &lt;strong>burst&lt;/strong> by an arrow shot at &lt;code>x&lt;/code> if &lt;code>x_start &amp;lt;= x &amp;lt;= x_end&lt;/code>. There is &lt;strong>no limit&lt;/strong> to the number of arrows that can be shot. A shot arrow keeps traveling up infinitely, bursting any balloons in its path.&lt;br>
Given the array &lt;code>points&lt;/code>, return &lt;em>the &lt;em>&lt;strong>minimum&lt;/strong>&lt;/em> number of arrows that must be shot to burst all balloons&lt;/em>.&lt;/p></description></item><item><title>[Algo] 1-9. Algorithm</title><link>https://intervalrain.github.io/cs/algo/algorithm/</link><pubDate>Tue, 03 Jan 2023 21:49:42 +0800</pubDate><guid>https://intervalrain.github.io/cs/algo/algorithm/</guid><description>C++ 的內建演算法庫使用與範例</description></item><item><title>[LeetCode] 944. Delete Columns to Make Sorted</title><link>https://intervalrain.github.io/leetcode/944/</link><pubDate>Tue, 03 Jan 2023 20:09:30 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/944/</guid><description>&lt;p>&lt;strong>944. Delete Columns to Make Sorted&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>String&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given an array of &lt;code>n&lt;/code> string &lt;code>strs&lt;/code>, all of the same length.&lt;br>
The string s can be arranged such that there is one on each line, making a grid. For example, &lt;code>strs = [&amp;quot;abc&amp;quot;, &amp;quot;bce&amp;quot;, &amp;quot;cae&amp;quot;&lt;/code> can be arranged as :&lt;/p>
&lt;pre tabindex="0">&lt;code>abc
bce
cae
&lt;/code>&lt;/pre>&lt;p>You want to &lt;strong>delete&lt;/strong> the columns that are &lt;strong>not sorted lexicographically&lt;/strong>. In the aove example (0-indexed), columns 0(&lt;code>'a'&lt;/code>,&lt;code>'b'&lt;/code>,&lt;code>'c'&lt;/code>) and 2(&lt;code>'c'&lt;/code>,&lt;code>'e'&lt;/code>,&lt;code>'e'&lt;/code>) are sorted while column 1(&lt;code>'b'&lt;/code>,&lt;code>'c'&lt;/code>,&lt;code>'a'&lt;/code>) is not, so you would delete column 1.&lt;br>
Return &lt;em>the number of columns that you will delete&lt;/em>.&lt;/p></description></item><item><title>[LeetCode] 2522. Partition String Into Substrings With Values at Most K</title><link>https://intervalrain.github.io/leetcode/2522/</link><pubDate>Mon, 02 Jan 2023 23:15:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2522/</guid><description>&lt;p>&lt;strong>2522. Partition String Into Substrings With Values at Most K&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics:&lt;/li>
&lt;li>\(\color{blue}\textsf{Weekly Contest 323}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given a string &lt;code>s&lt;/code> consisting of digits from &lt;code>1&lt;/code> to &lt;code>9&lt;/code> and an integer &lt;code>k&lt;/code>.&lt;br>
A partition of a string &lt;code>s&lt;/code> is called &lt;strong>good&lt;/strong> if:&lt;/p>
&lt;ul>
&lt;li>Each digit of &lt;code>s&lt;/code> is part of &lt;strong>exactly&lt;/strong> one substring.&lt;/li>
&lt;li>The value of each substring is less than or equal to &lt;code>k&lt;/code>.
Return &lt;em>the &lt;em>&lt;strong>minimum&lt;/strong>&lt;/em> number of substrings in a &lt;em>&lt;strong>good&lt;/strong>&lt;/em> partition of&lt;/em> &lt;code>s&lt;/code>. If no &lt;strong>good&lt;/strong> partition of &lt;code>s&lt;/code> exists, return &lt;code>-1&lt;/code>.&lt;br>
&lt;strong>Note&lt;/strong> that:&lt;/li>
&lt;li>The &lt;strong>value&lt;/strong> of a string is its result when interpreted as an integer. For example, the value of &lt;code>&amp;quot;123&amp;quot;&lt;/code> is &lt;code>123&lt;/code> and the value of &lt;code>&amp;quot;1&amp;quot;&lt;/code> is &lt;code>1&lt;/code>.&lt;/li>
&lt;li>A &lt;strong>substring&lt;/strong> is a contiguous sequence of characters within a string.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2523. Closest Prime Numbers in Range</title><link>https://intervalrain.github.io/leetcode/2523/</link><pubDate>Mon, 02 Jan 2023 16:33:40 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2523/</guid><description>&lt;p>&lt;strong>2523. Closest Prime Numbers in Range&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics:&lt;/li>
&lt;li>\(\color{blue}\textsf{Weekly Contest 323}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given two positive integers &lt;code>left&lt;/code> and &lt;code>right&lt;/code>, find the two integers num1 and num2 such that:&lt;/p>
&lt;ul>
&lt;li>&lt;code>left &amp;lt;= nums1 &amp;lt; nums2 &amp;lt;= right&lt;/code>.&lt;/li>
&lt;li>&lt;code>nums1&lt;/code> and &lt;code>nums2&lt;/code> are both &lt;strong>prime&lt;/strong> numbers.&lt;/li>
&lt;li>&lt;code>nums2 - nums1&lt;/code> is the &lt;strong>minimum&lt;/strong> amongst all other pairs satisfying the above conditions.&lt;br>
Return &lt;em>the positive integer array&lt;/em> &lt;code>ans = [nums1, nums2]&lt;/code>. &lt;em>If there are multiple pairs satisfying these conditions, return the one with the minimum&lt;/em> &lt;code>nums1&lt;/code> &lt;em>value or&lt;/em> &lt;code>[-1, -1]&lt;/code> &lt;em>if such numbers do not exist.&lt;/em>&lt;br>
A number greater than &lt;code>1&lt;/code> is called &lt;strong>prime&lt;/strong> if it is only divisible by &lt;code>1&lt;/code> and itself.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 520. Detect Capital</title><link>https://intervalrain.github.io/leetcode/520/</link><pubDate>Mon, 02 Jan 2023 11:05:30 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/520/</guid><description>&lt;p>&lt;strong>520. Detect Capital&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>String&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>We define the usage of capitals in a word to be right when one of the following cases holds:&lt;/p>
&lt;ul>
&lt;li>All letters in this word are capitals, like &lt;code>&amp;quot;USA&amp;quot;&lt;/code>.&lt;/li>
&lt;li>All letters in this word are not capitals, like &lt;code>&amp;quot;leetcode&amp;quot;&lt;/code>.&lt;/li>
&lt;li>Only the first letter in this word is capital, like &lt;code>&amp;quot;Google&amp;quot;&lt;/code>.&lt;br>
Given a string &lt;code>word&lt;/code>, return &lt;code>true&lt;/code> if the usage of capitals in it is right.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2521. Distinct Prime Factors of Product of Array</title><link>https://intervalrain.github.io/leetcode/2521/</link><pubDate>Sun, 01 Jan 2023 23:52:02 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2521/</guid><description>&lt;p>&lt;strong>2521. Distinct Prime Factors of Product of Array&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics:&lt;/li>
&lt;li>\(\color{blue}\textsf{Weekly Contest 323}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an array of positive integers &lt;code>nums&lt;/code>, return &lt;em>the number of &lt;em>&lt;strong>distinct prime factors&lt;/strong>&lt;/em> in the product of the elements of&lt;/em> &lt;code>nums&lt;/code>.&lt;br>
&lt;strong>Note&lt;/strong> that:&lt;/p>
&lt;ul>
&lt;li>A number greater than &lt;code>1&lt;/code> is called &lt;strong>prime&lt;/strong> if it is divisible by only &lt;code>1&lt;/code> and itself.&lt;/li>
&lt;li>An integer &lt;code>val1&lt;/code> is a factor of another integer val2 if &lt;code>val2 / val1&lt;/code> is an integer.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2520. Count the Digits That Divide a Number</title><link>https://intervalrain.github.io/leetcode/2520/</link><pubDate>Sun, 01 Jan 2023 23:41:54 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2520/</guid><description>&lt;p>&lt;strong>2520. Count the Digits That Divide a Number&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics:&lt;/li>
&lt;li>\(\color{blue}\textsf{Weekly Contest 323}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an integer &lt;code>num&lt;/code>, return &lt;em>the number of digits in &lt;code>num&lt;/code> that divide &lt;code>num&lt;/code>.&lt;/em>
An integer &lt;code>val&lt;/code> divides &lt;code>nums&lt;/code> if &lt;code>nums % val == 0&lt;/code>.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> num = 7&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 1&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> 7 divides itself, hence the answer is 1.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> num = 121&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 2&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> 121 is divisible by 1, but not 2. Since 1 occurs twice as a digit, we return 2.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 3:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 290. Word Pattern</title><link>https://intervalrain.github.io/leetcode/290/</link><pubDate>Sun, 01 Jan 2023 23:14:56 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/290/</guid><description>&lt;p>&lt;strong>290. Word Pattern&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Hash Table&lt;/code>、&lt;code>String&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given a &lt;code>pattern&lt;/code> and a string &lt;code>s&lt;/code>, find if &lt;code>s&lt;/code> follows the same pattern.&lt;br>
Here &lt;strong>follow&lt;/strong> means a full match, such that there is a bijection between a letter in &lt;code>pattern&lt;/code> and &lt;strong>non-empty&lt;/strong> word in &lt;code>s&lt;/code>.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> pattern = &amp;ldquo;abba&amp;rdquo;, s = &amp;ldquo;dog cat cat dog&amp;rdquo;&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> true&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> pattern = &amp;ldquo;abba&amp;rdquo;, s = &amp;ldquo;dog cat cat fish&amp;rdquo;&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> false&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 3:&lt;/strong>&lt;/p></description></item><item><title>[C#] Yield Return</title><link>https://intervalrain.github.io/csharp/yield/</link><pubDate>Sun, 01 Jan 2023 21:40:25 +0800</pubDate><guid>https://intervalrain.github.io/csharp/yield/</guid><description>Introduction to yield return in C#, and the background of IEnumerable and IEnumerator</description></item><item><title>[LeetCode] 1834. Single-Threaded CPU</title><link>https://intervalrain.github.io/leetcode/1834/</link><pubDate>Thu, 29 Dec 2022 22:49:27 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/1834/</guid><description>&lt;p>&lt;strong>1834. Single-Threaded CPU&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Sorting&lt;/code>、&lt;code>Heap (Priority Queue&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given &lt;code>n&lt;/code>​​​​ tasks labeled from &lt;code>0&lt;/code> to &lt;code>n - 1&lt;/code> represented by a 2D integer array &lt;code>tasks&lt;/code>, where &lt;code>tasks[i] = [enqueueTimei, processingTimei]&lt;/code> means that the &lt;code>i​​​​​​th​​​​&lt;/code> task will be available to process at &lt;code>enqueueTimei&lt;/code> and will take &lt;code>processingTimei&lt;/code> to finish processing.&lt;br>
You have a single-threaded CPU that can process &lt;strong>at most one&lt;/strong> task at a time and will act in the following way:&lt;/p></description></item><item><title>[LeetCode] 1962. Remove Stones to Minimize the Total</title><link>https://intervalrain.github.io/leetcode/1962/</link><pubDate>Thu, 29 Dec 2022 00:03:22 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/1962/</guid><description>&lt;p>&lt;strong>1962. Remove Stones to Minimize the Total&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Heap (Priority Queue)&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given a &lt;strong>0-indexed&lt;/strong> integer array &lt;code>piles&lt;/code>, where &lt;code>piles[i]&lt;/code> represents the number of stones in the &lt;code>ith&lt;/code> pile, and an integer &lt;code>k&lt;/code>. You should apply the following operation &lt;strong>exactly&lt;/strong> &lt;code>k&lt;/code> times:&lt;br>
Choose any &lt;code>piles[i]&lt;/code> and &lt;strong>remove&lt;/strong> &lt;code>floor(piles[i] / 2)&lt;/code> stones from it.
&lt;strong>Notice&lt;/strong> that you can apply the operation on the &lt;strong>same&lt;/strong> pile more than once.&lt;br>
Return &lt;em>the minimum possible total number of stones remaining after applying the&lt;/em> &lt;code>k&lt;/code> &lt;em>operations.&lt;/em>&lt;br>
&lt;code>floor(x)&lt;/code> is the &lt;strong>greatest&lt;/strong> integer that is &lt;strong>smaller&lt;/strong> than or &lt;strong>equal&lt;/strong> to &lt;code>x&lt;/code> (i.e., rounds &lt;code>x&lt;/code> down).&lt;/p></description></item><item><title>[LeetCode] 2279. Maximum Bags With Full Capacity of Rocks</title><link>https://intervalrain.github.io/leetcode/2279/</link><pubDate>Tue, 27 Dec 2022 20:48:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2279/</guid><description>&lt;p>&lt;strong>2279. Maximum Bags With Full Capacity of Rocks&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Greedy&lt;/code>、&lt;code>Sorting&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You have &lt;code>n&lt;/code> bags numbered from &lt;code>0&lt;/code> to &lt;code>n - 1&lt;/code>. You are given two &lt;strong>0-indexed&lt;/strong> integer arrays &lt;code>capacity&lt;/code> and &lt;code>rocks&lt;/code>. The &lt;code>ith&lt;/code> bag can hold a maximum of &lt;code>capacity[i]&lt;/code> rocks and currently contains &lt;code>rocks[i]&lt;/code> rocks. You are also given an integer &lt;code>additionalRocks&lt;/code>, the number of additional rocks you can place in &lt;strong>any&lt;/strong> of the bags.&lt;br>
Return &lt;em>the &lt;strong>maximum&lt;/strong> number of bags that could have full capacity after placing the additional rocks in some bags.&lt;/em>&lt;/p></description></item><item><title>[LeetCode] 2389. Longest Subsequence With Limited Sum</title><link>https://intervalrain.github.io/leetcode/2389/</link><pubDate>Sun, 25 Dec 2022 20:07:51 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2389/</guid><description>&lt;p>&lt;strong>2389. Longest Subsequence With Limited Sum&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Binary Search&lt;/code>、&lt;code>Greedy&lt;/code>、&lt;code>Sorting&lt;/code>、&lt;code>Prefix Sum&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given an integer array &lt;code>nums&lt;/code> of length &lt;code>n&lt;/code>, and an integer array queries of length &lt;code>m&lt;/code>.&lt;br>
Return &lt;em>an array&lt;/em> &lt;code>answer&lt;/code> &lt;em>of length&lt;/em> &lt;code>m&lt;/code> &lt;em>where&lt;/em> &lt;code>answer[i]&lt;/code> &lt;em>is the&lt;/em> &lt;em>&lt;strong>maximum&lt;/strong>&lt;/em> &lt;em>size of a&lt;/em> &lt;em>&lt;strong>subsequence&lt;/strong>&lt;/em> &lt;em>that you can take from&lt;/em> &lt;code>nums&lt;/code> &lt;em>such that the&lt;/em> &lt;em>&lt;strong>sum&lt;/strong>&lt;/em> &lt;em>of its elements is less than or equal to&lt;/em> &lt;code>queries[i]&lt;/code>.&lt;br>
A &lt;strong>subsequence&lt;/strong> is an array that can be derived from another array by deleting some or no elements without changing the order of the remaining elements.&lt;/p></description></item><item><title>[LeetCode] 790. Domino and Tromino Tiling</title><link>https://intervalrain.github.io/leetcode/790/</link><pubDate>Sat, 24 Dec 2022 23:53:10 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/790/</guid><description>&lt;p>&lt;strong>790. Domino and Tromino Tiling&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Dynamic Programming&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You have two types of tiles: a &lt;code>2 x 1&lt;/code> domino shape and a tromino shape. You may rotate these shapes.&lt;br>
&lt;img alt="domino" loading="lazy" src="https://assets.leetcode.com/uploads/2021/07/15/lc-domino.jpg">
Given an integer n, return &lt;em>the number of ways to tile an&lt;/em> &lt;code>2 x n&lt;/code> &lt;em>board&lt;/em>. Since the answer may be very large, return it &lt;strong>modulo&lt;/strong> &lt;code>10^9 + 7&lt;/code>.&lt;br>
In a tiling, every square must be covered by a tile. Two tilings are different if and only if there are two 4-directionally adjacent cells on the board such that exactly one of the tilings has both squares occupied by a tile.&lt;/p></description></item><item><title>[LeetCode] 841. Keys and Rooms</title><link>https://intervalrain.github.io/leetcode/841/</link><pubDate>Tue, 20 Dec 2022 23:00:22 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/841/</guid><description>&lt;p>&lt;strong>841. Keys and Rooms&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Depth-First Search&lt;/code>、&lt;code>Breadth-First Search&lt;/code>、&lt;code>Graph&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>There are &lt;code>n&lt;/code> rooms labeled from &lt;code>0&lt;/code> to &lt;code>n - 1&lt;/code> and all the rooms are locked except for room &lt;code>0&lt;/code>. Your goal is to visit all the rooms. However, you cannot enter a locked room without having its key.&lt;br>
When you visit a room, you may find a set of &lt;strong>distinct keys&lt;/strong> in it. Each key has a number on it, denoting which room it unlocks, and you can take all of them with you to unlock the other rooms.&lt;br>
Given an array &lt;code>rooms&lt;/code> where &lt;code>rooms[i]&lt;/code> is the set of keys that you can obtain if you visited room &lt;code>i&lt;/code>, return &lt;code>true&lt;/code> &lt;em>if you can visit all the rooms, or&lt;/em> &lt;code>false&lt;/code> &lt;em>otherwise&lt;/em>.&lt;/p></description></item><item><title>[LeetCode] 25. Reverse Nodes in k-Group</title><link>https://intervalrain.github.io/leetcode/25/</link><pubDate>Fri, 16 Dec 2022 23:32:48 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/25/</guid><description>&lt;p>&lt;strong>25. Reverse Nodes in k-Group&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Linked List&lt;/code>、&lt;code>Recursion&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given the &lt;code>head&lt;/code> of a linked list, reverse the nodes of the list &lt;code>k&lt;/code> at a time, and return &lt;em>the modified list&lt;/em>.&lt;br>
&lt;code>k&lt;/code> is a positive integer and is less than or equal to the length of the linked list. If the number of nodes is not a multiple of &lt;code>k&lt;/code> then left-out nodes, in the end, should remain as it is.&lt;br>
You may not alter the values in the list&amp;rsquo;s nodes, only nodes themselves may be changed.&lt;/p></description></item><item><title>[LeetCode] 24. Swap Nodes in Pairs</title><link>https://intervalrain.github.io/leetcode/24/</link><pubDate>Wed, 14 Dec 2022 23:35:28 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/24/</guid><description>&lt;p>&lt;strong>24. Swap Nodes in Pairs&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Linked List&lt;/code>、&lt;code>Recursion&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given a linked list, swap every two adjacent nodes and return its head. You must solve the problem without modifying the values in the list&amp;rsquo;s nodes (i.e., only nodes themselves may be changed.)&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;br>
&lt;img alt="swap_ex1" loading="lazy" src="https://assets.leetcode.com/uploads/2020/10/03/swap_ex1.jpg">&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> head = [1,2,3,4]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [2,1,4,3]&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> head = []&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> []&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 3:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> head = [1]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [1]&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Constraints:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 931. Minimum Falling Path Sum</title><link>https://intervalrain.github.io/leetcode/931/</link><pubDate>Tue, 13 Dec 2022 21:53:27 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/931/</guid><description>&lt;p>&lt;strong>931. Minimum Falling Path Sum&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Dynamic Programming&lt;/code>、&lt;code>Matrix&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an &lt;code>n x n&lt;/code> array of integers &lt;code>matrix&lt;/code>, return &lt;em>the &lt;strong>minimum sum&lt;/strong> of any &lt;strong>falling path&lt;/strong> through&lt;/em> &lt;code>matrix&lt;/code>.&lt;br>
A &lt;strong>falling path&lt;/strong> starts at any element in the first row and chooses the element in the next row that is either directly below or diagonally left/right. Specifically, the next element from position &lt;code>(row, col)&lt;/code> will be &lt;code>(row + 1, col - 1)&lt;/code>, &lt;code>(row + 1, col)&lt;/code>, or &lt;code>(row + 1, col + 1)&lt;/code>.&lt;/p></description></item><item><title>[LeetCode] 70. Climbing Stairs</title><link>https://intervalrain.github.io/leetcode/70/</link><pubDate>Mon, 12 Dec 2022 22:43:20 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/70/</guid><description>&lt;p>&lt;strong>70. Climbing Stairs&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Math&lt;/code>、&lt;code>Dynamic Programming&lt;/code>、&lt;code>Memoization&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are climbing a staircase. It takes &lt;code>n&lt;/code> steps to reach the top.&lt;br>
Each time you can either climb &lt;code>1&lt;/code> or &lt;code>2&lt;/code> steps. In how many distinct ways can you climb to the top?&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> n = 2&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 2&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> There are two ways to climb to the top.&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>1 step + 1 step&lt;/li>
&lt;li>2 steps&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2501. Longest Square Streak in an Array</title><link>https://intervalrain.github.io/leetcode/2501/</link><pubDate>Sun, 11 Dec 2022 22:42:14 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2501/</guid><description>&lt;p>&lt;strong>2501. Longest Square Streak in an Array&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Hash Table&lt;/code>、&lt;code>Binary Search&lt;/code>、&lt;code>Dynamic Programming&lt;/code>、&lt;code>Sorting&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{Weekly Contest 323}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given an integer array &lt;code>nums&lt;/code>. A subsequence of &lt;code>nums&lt;/code> is called a &lt;strong>square streak&lt;/strong> if:&lt;/p>
&lt;ul>
&lt;li>The length of the subsequence is at least &lt;code>2&lt;/code>, and&lt;/li>
&lt;li>&lt;strong>after&lt;/strong> sorting the subsequence, each element (except the first element) is the &lt;strong>square&lt;/strong> of the previous number.&lt;br>
Return &lt;em>the length of the &lt;strong>longest square streak&lt;/strong> in &lt;code>nums&lt;/code>, or return &lt;code>-1&lt;/code> if there is no &lt;strong>square streak&lt;/strong>&lt;/em>.&lt;br>
A &lt;strong>subsequence&lt;/strong> is an array that can be derived from another array by deleting some or no elements without changing the order of the remaining elements.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2500. Delete Greatest Value in Each Row</title><link>https://intervalrain.github.io/leetcode/2500/</link><pubDate>Sun, 11 Dec 2022 22:42:12 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2500/</guid><description>&lt;p>&lt;strong>2500. Delete Greatest Value in Each Row&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Hash Table&lt;/code>、&lt;code>Binary Search&lt;/code>、&lt;code>Dynamic Programming&lt;/code>、&lt;code>Sorting&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{Weekly Contest 323}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given an &lt;code>m x n&lt;/code> matrix &lt;code>grid&lt;/code> consisting of positive integers.&lt;br>
Perform the following operation until &lt;code>grid&lt;/code> becomes empty:&lt;/p>
&lt;ul>
&lt;li>Delete the element with the greatest value from each row. If multiple such elements exist, delete any of them.&lt;/li>
&lt;li>Add the maximum of deleted elements to the answer.&lt;br>
&lt;strong>Note&lt;/strong> that the number of columns decreases by one after each operation.&lt;br>
Return &lt;em>the answer after performing the operations described above&lt;/em>.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;br>
&lt;img alt="q1ex1" loading="lazy" src="https://assets.leetcode.com/uploads/2022/10/19/q1ex1.jpg">&lt;/p></description></item><item><title>[LeetCode] 124. Binary Tree Maximum Path Sum</title><link>https://intervalrain.github.io/leetcode/124/</link><pubDate>Sun, 11 Dec 2022 21:53:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/124/</guid><description>&lt;p>&lt;strong>124. Binary Tree Maximum Path Sum&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Dynamic Programming&lt;/code>、&lt;code>Tree&lt;/code>、&lt;code>Depth-First Search&lt;/code>、&lt;code>Binary Tree&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;ul>
&lt;li>A &lt;strong>path&lt;/strong> in a binary tree is a sequence of nodes where each pair of adjacent nodes in the sequence has an edge connecting them. A node can only appear in the sequence &lt;strong>at most once&lt;/strong>. Note that the path does not need to pass through the root.&lt;br>
The &lt;strong>path sum&lt;/strong> of a path is the sum of the node&amp;rsquo;s values in the path.&lt;br>
Given the &lt;code>root&lt;/code> of a binary tree, return &lt;em>the maximum &lt;strong>path sum&lt;/strong> of any &lt;strong>non-empty&lt;/strong> path&lt;/em>.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;br>
&lt;img alt="exx1" loading="lazy" src="https://assets.leetcode.com/uploads/2020/10/13/exx1.jpg">&lt;/p></description></item><item><title>[LeetCode] 1339. Maximum Product of Splitted Binary Tree</title><link>https://intervalrain.github.io/leetcode/1339/</link><pubDate>Sat, 10 Dec 2022 20:12:36 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/1339/</guid><description>&lt;p>&lt;strong>1339. Maximum Product of Splitted Binary Tree&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Tree&lt;/code>、&lt;code>Depth-First Search&lt;/code>、&lt;code>Binary Tree&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given the &lt;code>root&lt;/code> of a binary tree, split the bianry tree into two subtrees by removing one edge such that the product of the sums of the subtreesis maximized.&lt;br>
Return &lt;em>the maximum product of the sums of the two subtrees&lt;/em>. Since the answer may be too large, return it &lt;strong>modulo&lt;/strong> &lt;code>10^9 + 7&lt;/code>.&lt;br>
&lt;strong>Note&lt;/strong> that you need to maximize the answer before taking the mod and not after taking it.&lt;/p></description></item><item><title>[LeetCode] 1026. Maximum Difference Between Node and Ancestor</title><link>https://intervalrain.github.io/leetcode/1026/</link><pubDate>Sat, 10 Dec 2022 00:49:10 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/1026/</guid><description>&lt;p>&lt;strong>1026. Maximum Difference Between Node and Ancestor&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Tree&lt;/code>、&lt;code>Depth-First Search&lt;/code>、&lt;code>Binary Tree&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given the &lt;code>root&lt;/code> of a binary tree, find the maximum value &lt;code>v&lt;/code> for which there exist &lt;strong>different&lt;/strong> nodes &lt;code>a&lt;/code> and &lt;code>b&lt;/code> where &lt;code>v = |a.val - b.val|&lt;/code> and &lt;code>a&lt;/code> is an ancestor of &lt;code>b&lt;/code>.&lt;br>
A node &lt;code>a&lt;/code> is an ancestor of &lt;code>b&lt;/code> if either: any child of &lt;code>a&lt;/code> is equal to &lt;code>b&lt;/code> or any child of &lt;code>a&lt;/code> is an ancestor of &lt;code>b&lt;/code>.&lt;/p></description></item><item><title>[LeetCode] 872. Leaf-Similar Trees</title><link>https://intervalrain.github.io/leetcode/872/</link><pubDate>Thu, 08 Dec 2022 21:41:10 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/872/</guid><description>&lt;p>&lt;strong>872. Leaf-Similar Trees&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Tree&lt;/code>、&lt;code>Depth-First Search&lt;/code>、&lt;code>Binary Tree&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Consider all the leaves of a binary tree, from left to right order, the values of those leaves form &lt;strong>a leaf value sequence&lt;/strong>.
&lt;img alt="tree" loading="lazy" src="https://s3-lc-upload.s3.amazonaws.com/uploads/2018/07/16/tree.png">
For example, in the given tree above, the leaf value sequence is &lt;code>(6, 7, 4, 9, 8)&lt;/code>.&lt;br>
Two binary trees are considered leaf-similar if their leaf value sequence is the same.&lt;br>
Return &lt;code>true&lt;/code> if and only if the two given trees with head nodes &lt;code>root1&lt;/code> and &lt;code>root2&lt;/code> are leaf-similar.&lt;/p></description></item><item><title>[LeetCode] 938. Range Sum of BST</title><link>https://intervalrain.github.io/leetcode/938/</link><pubDate>Wed, 07 Dec 2022 23:41:31 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/938/</guid><description>&lt;p>&lt;strong>938. Range Sum of BST&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Tree&lt;/code>、&lt;code>Depth-First Search&lt;/code>、&lt;code>Binary Search Tree&lt;/code>、&lt;code>Binary Tree&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given the &lt;code>root&lt;/code> node of a binary search tree and two integers &lt;code>low&lt;/code> and &lt;code>high&lt;/code>, return &lt;em>the sum of values of all nodes with a value in the &lt;em>&lt;strong>inclusive&lt;/strong>&lt;/em> range&lt;/em> &lt;code>[low, high]&lt;/code>.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;br>
&lt;img alt="bst1" loading="lazy" src="https://assets.leetcode.com/uploads/2020/11/05/bst1.jpg">&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> root = [10,5,15,3,7,null,18], low = 7, high = 15&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 32&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> Nodes 7, 10, and 15 are in the range [7, 15]. 7 + 10 + 15 = 32.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>
&lt;img alt="bst2" loading="lazy" src="https://assets.leetcode.com/uploads/2020/11/05/bst2.jpg">&lt;/p></description></item><item><title>[LeetCode] 328. Odd Even Linked List</title><link>https://intervalrain.github.io/leetcode/328/</link><pubDate>Tue, 06 Dec 2022 23:56:11 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/328/</guid><description>&lt;p>&lt;strong>328. Odd Even Linked List&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Linked List&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given the &lt;code>head&lt;/code> of a singly linked list, group all the nodes with odd indices together followed by the nodes with even indices, and return &lt;em>the reordered list&lt;/em>.&lt;br>
The &lt;strong>first&lt;/strong> node is considered &lt;strong>odd&lt;/strong>, and the &lt;strong>second&lt;/strong> node is &lt;strong>even&lt;/strong>, and so on.&lt;br>
Note that the relative order inside both the even and odd groups should remain as it was in the input.&lt;br>
You must solve the problem in &lt;code>O(1)&lt;/code> extra space complexity and &lt;code>O(n)&lt;/code> time complexity.&lt;/p></description></item><item><title>[LeetCode] 2472. Maximum Number of Non-overlapping Palindrome Substrings</title><link>https://intervalrain.github.io/leetcode/2472/</link><pubDate>Tue, 29 Nov 2022 23:55:22 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2472/</guid><description>&lt;p>&lt;strong>2472. Maximum Number of Non-overlapping Palindrome Substrings&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>String&lt;/code>、&lt;code>Dynamic Programming&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{weekly Contest 319}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given a string &lt;code>s&lt;/code> and a &lt;strong>positive&lt;/strong> integer &lt;code>k&lt;/code>.
Select a set of &lt;strong>non-overlapping&lt;/strong> substrings from the string &lt;code>s&lt;/code> that satisfy the following conditions:&lt;/p>
&lt;ul>
&lt;li>The &lt;strong>length&lt;/strong> of each substring is &lt;strong>at least&lt;/strong> &lt;code>k&lt;/code>.&lt;/li>
&lt;li>Each substring is a &lt;strong>palindrome&lt;/strong>.
Return &lt;em>the &lt;em>&lt;strong>maximum&lt;/strong>&lt;/em> number of substrings in an optimal selection&lt;/em>.
A &lt;strong>substring&lt;/strong> is a contiguous sequence of characters within a string.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2471. Minimum Number of Operations to Sort a Binary Tree by Level</title><link>https://intervalrain.github.io/leetcode/2471/</link><pubDate>Tue, 29 Nov 2022 23:55:20 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2471/</guid><description>&lt;p>&lt;strong>2471. Minimum Number of Operations to Sort a Binary Tree by Level&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Tree&lt;/code>、&lt;code>Breadth-First Search&lt;/code>、&lt;code>Binary Tree&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{weekly Contest 319}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given the &lt;code>root&lt;/code> of a binary tree with &lt;strong>unique values&lt;/strong>.
In one operation, you can choose any two nodes &lt;strong>at the same level&lt;/strong> and swap their values.
Return &lt;em>the minimum number of operations needed to make the values at each level sorted in a &lt;em>&lt;strong>strictly increasing order&lt;/strong>&lt;/em>&lt;/em>.
The &lt;strong>level&lt;/strong> of a node is the number of edges along the path between it and the root node.&lt;/p></description></item><item><title>[LeetCode] 2470. Number of Subarrays With LCM Equal to K</title><link>https://intervalrain.github.io/leetcode/2470/</link><pubDate>Tue, 29 Nov 2022 23:55:18 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2470/</guid><description>&lt;p>&lt;strong>2470. Number of Subarrays With LCM Equal to K&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Math&lt;/code>、&lt;code>Number Theory&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{weekly Contest 319}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an integer array &lt;code>nums&lt;/code> and an integer &lt;code>k&lt;/code>, return &lt;em>the number of &lt;em>&lt;strong>subarrays&lt;/strong>&lt;/em> of &lt;code>nums&lt;/code> where the least common multiple of the subarray&amp;rsquo;s elements is&lt;/em> &lt;code>k&lt;/code>.
A &lt;strong>subarray&lt;/strong> is a contiguous non-empty sequence of elements within an array.
The &lt;strong>least common multiple of an array&lt;/strong> is the smallest positive integer that is divisible by all the array elements.&lt;/p></description></item><item><title>[LeetCode] 2469. Convert the Temperature</title><link>https://intervalrain.github.io/leetcode/2469/</link><pubDate>Tue, 29 Nov 2022 23:55:11 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2469/</guid><description>&lt;p>&lt;strong>2469. Convert the Temperature&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Math&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{weekly Contest 319}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given a non-negative floating point number rounded to two decimal places &lt;code>celsius&lt;/code>, that denotes the &lt;strong>temperature in Celsius&lt;/strong>.
You should convert Celsius into &lt;strong>Kelvin&lt;/strong> and &lt;strong>Fahrenheit&lt;/strong> and return it as an array &lt;code>ans = [kelvin, fahrenheit]&lt;/code>.
Return &lt;em>the array &lt;code>ans&lt;/code>&lt;/em>. Answers within &lt;code>10^-5&lt;/code> of the actual answer will be accepted.
&lt;strong>Note that:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>Kelvin = Celsius + 273.15&lt;/code>&lt;/li>
&lt;li>&lt;code>Fahrenheit = Celsius * 1.80 + 32.00&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 446. Arithmetic Slices II - Subsequence</title><link>https://intervalrain.github.io/leetcode/446/</link><pubDate>Mon, 28 Nov 2022 23:39:03 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/446/</guid><description>&lt;p>&lt;strong>446. Arithmetic Slices II - Subsequence&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Dynamic Programming&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an integer array &lt;code>nums&lt;/code>, return &lt;em>the number of all the &lt;em>&lt;strong>arithmetic subsequences&lt;/strong>&lt;/em> of&lt;/em> &lt;code>nums&lt;/code>.
A sequence of numbers is called arithmetic if it consists of &lt;strong>at least three elements&lt;/strong> and if the difference between any two consecutive elements is the same.&lt;/p>
&lt;ul>
&lt;li>For example, &lt;code>[1, 3, 5, 7, 9]&lt;/code>, &lt;code>[7, 7, 7, 7]&lt;/code>, and &lt;code>[3, -1, -5, -9]&lt;/code> are arithmetic sequences.&lt;/li>
&lt;li>For example, &lt;code>[1, 1, 2, 5, 7]&lt;/code> is not an arithmetic sequence.
A &lt;strong>subsequence&lt;/strong> of an array is a sequence that can be formed by removing some elements (possibly none) of the array.&lt;/li>
&lt;li>For example, &lt;code>[2,5,10]&lt;/code> is a subsequence of &lt;code>[1,2,1,2,4,1,5,10]&lt;/code>.
The test cases are generated so that the answer fits in &lt;strong>32-bit&lt;/strong> integer.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2488. Count Subarrays With Median K</title><link>https://intervalrain.github.io/leetcode/2488/</link><pubDate>Sun, 27 Nov 2022 21:04:55 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2488/</guid><description>&lt;p>&lt;strong>2488. Count Subarrays With Median K&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Hash Table&lt;/code>、&lt;code>Prefix Sum&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{Weekly Contest 321}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given an array &lt;code>nums&lt;/code> of size &lt;code>n&lt;/code> consisting of &lt;strong>distinct&lt;/strong> integers from &lt;code>1&lt;/code> to &lt;code>n&lt;/code> and a positive integer &lt;code>k&lt;/code>.&lt;br>
Return &lt;em>the number of non-empty subarrays in &lt;code>nums&lt;/code> that have a &lt;em>&lt;strong>median&lt;/strong>&lt;/em> equal to k.&lt;/em>
&lt;strong>Note:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>The median of an array is the &lt;strong>middle&lt;/strong> element after sorting the array in &lt;strong>ascending&lt;/strong> order. If the array is of even length, the median is the &lt;strong>left&lt;/strong> middle element.
&lt;ul>
&lt;li>For example, the median of &lt;code>[2,3,1,4]&lt;/code> is &lt;code>2&lt;/code>, and the median of &lt;code>[8,4,3,5,1]&lt;/code> is &lt;code>4&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>A subarray is a contiguous part of an array.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2487. Remove Nodes From Linked List</title><link>https://intervalrain.github.io/leetcode/2487/</link><pubDate>Sun, 27 Nov 2022 21:04:51 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2487/</guid><description>&lt;p>&lt;strong>2487. Remove Nodes From Linked List&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Linked List&lt;/code>、&lt;code>Stack&lt;/code>、&lt;code>Recursion&lt;/code>、&lt;code>Monotonic Stack&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{Weekly Contest 321}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given the &lt;code>head&lt;/code> of a linked list.&lt;br>
Remove every node which has a node with &lt;strong>strictly greater&lt;/strong> value anywhere to the right side of it.&lt;br>
Return &lt;em>the &lt;code>head&lt;/code> of the modified linked list&lt;/em>.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;br>
&lt;img alt="drawio" loading="lazy" src="https://assets.leetcode.com/uploads/2022/10/02/drawio.png">&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> head = [5,2,13,3,8]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [13,8]&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> The nodes that should be removed are 5, 2 and 3.&lt;/li>
&lt;/ul>
&lt;ul>
&lt;li>Node 13 is to the right of node 5.&lt;/li>
&lt;li>Node 13 is to the right of node 2.&lt;/li>
&lt;li>Node 8 is to the right of node 3.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2486. Accept Characters to String to Make Subsequence</title><link>https://intervalrain.github.io/leetcode/2486/</link><pubDate>Sun, 27 Nov 2022 21:04:50 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2486/</guid><description>&lt;p>&lt;strong>2486. Accept Characters to String to Make Subsequence&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Two Pointer&lt;/code>、&lt;code>String&lt;/code>、&lt;code>Greedy&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{Weekly Contest 321}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;ul>
&lt;li>You are given two strings &lt;code>s&lt;/code> and &lt;code>t&lt;/code> consisting of only lowercase English letters.
Return &lt;em>the minimum number of characters that need to be appended to the end of &lt;code>s&lt;/code> so that &lt;code>t&lt;/code> becomes a &lt;em>&lt;strong>subsequence&lt;/strong>&lt;/em> of &lt;code>s&lt;/code>.&lt;/em>&lt;/li>
&lt;/ul>
&lt;p>A &lt;strong>subsequence&lt;/strong> is a string that can be derived from another string by deleting some or no characters without changing the order of the remaining characters.&lt;/p></description></item><item><title>[LeetCode] 2485. Find the Pivot Integer</title><link>https://intervalrain.github.io/leetcode/2485/</link><pubDate>Sun, 27 Nov 2022 21:04:47 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2485/</guid><description>&lt;p>&lt;strong>2485. Find the Pivot Integer&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Math&lt;/code>、&lt;code>Prefix Sum&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{Weekly Contest 321}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given a positive integer &lt;code>n&lt;/code>, find the &lt;strong>pivot integer&lt;/strong> &lt;code>x&lt;/code> such that:&lt;/p>
&lt;ul>
&lt;li>The sum of all elements between &lt;code>1&lt;/code> and &lt;code>x&lt;/code> inclusively equals the sum of all elements between &lt;code>x&lt;/code> and &lt;code>n&lt;/code> inclusively.
Return &lt;em>the pivot integer&lt;/em> &lt;code>x&lt;/code>. If no such integer exists, return &lt;code>-1&lt;/code>. It is guaranteed that there will be at most one pivot index for the given input.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 1235. Maximum Profit in Job Scheduling</title><link>https://intervalrain.github.io/leetcode/1235/</link><pubDate>Sat, 26 Nov 2022 14:09:56 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/1235/</guid><description>&lt;p>&lt;strong>1235. Maximum Profit in Job Scheduling&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Binary Search&lt;/code>、&lt;code>Dynamic Programming&lt;/code>、&lt;code>Sorting&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>We have &lt;code>n&lt;/code> jobs, where every job is scheduled to be done from &lt;code>startTime[i]&lt;/code> to &lt;code>endTime[i]&lt;/code>, obtaining a profit of &lt;code>profit[i]&lt;/code>.&lt;br>
You&amp;rsquo;re given the &lt;code>startTime&lt;/code>, &lt;code>endTime&lt;/code> and &lt;code>profit&lt;/code> arrays, return the maximum profit you can take such that there are no two jobs in the subset with overlapping time range.&lt;br>
If you choose a job that ends at time &lt;code>X&lt;/code> you will be able to start another job that starts at time &lt;code>X&lt;/code>.&lt;/p></description></item><item><title>[LeetCode] 1143. Longest Common Subsequence</title><link>https://intervalrain.github.io/leetcode/1143/</link><pubDate>Thu, 24 Nov 2022 23:15:24 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/1143/</guid><description>&lt;p>&lt;strong>1143. Longest Common Subsequence&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>String&lt;/code>、&lt;code>Dynamic Programming&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given two strings &lt;code>text1&lt;/code> and &lt;code>text2&lt;/code>, return &lt;em>the length of their longest &lt;strong>common subsequence&lt;/strong>&lt;/em>. If there is no &lt;strong>common subsequence&lt;/strong>, return &lt;code>0&lt;/code>.
A &lt;strong>subsequence&lt;/strong> of a string is a new string generated from the original string with some characters (can be none) deleted without changing the relative order of the remaining characters.&lt;/p>
&lt;ul>
&lt;li>For example, &lt;code>&amp;quot;ace&amp;quot;&lt;/code> is a subsequence of &lt;code>&amp;quot;abcde&amp;quot;&lt;/code>.
A &lt;strong>common subsequence&lt;/strong> of two strings is a subsequence that is common to both strings.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 300. Longest Increasing Subsequence</title><link>https://intervalrain.github.io/leetcode/300/</link><pubDate>Thu, 24 Nov 2022 20:59:40 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/300/</guid><description>&lt;p>&lt;strong>300. Longest Increasing Subsequence&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Binary Search&lt;/code>、&lt;code>Dynamic Programming&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an integer array &lt;code>nums&lt;/code>, return &lt;em>the length of the longest &lt;em>&lt;strong>strictly increasing subsequence&lt;/strong>&lt;/em>&lt;/em>&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> nums = [10,9,2,5,3,7,101,18]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 4&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> The longest increasing subsequence is [2,3,7,101], therefore the length is 4.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> nums = [0,1,0,3,2,3]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 4&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 3:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> nums = [7,7,7,7,7,7,7]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 1&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Constraints:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>1 &amp;lt;= nums.length &amp;lt;= 2500&lt;/code>&lt;/li>
&lt;li>&lt;code>-104 &amp;lt;= nums[i] &amp;lt;= 104&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Follow up:&lt;/strong> Can you come up with an algorithm that runs in &lt;code>O(n log n)&lt;/code> time complexity&lt;/p></description></item><item><title>[LeetCode] 2468. Split Message Based on Limit</title><link>https://intervalrain.github.io/leetcode/2468/</link><pubDate>Thu, 24 Nov 2022 01:09:57 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2468/</guid><description>&lt;p>&lt;strong>2468. Split Message Based on Limit&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>String&lt;/code>、&lt;code>Binary Search&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{Biweekly Contest 91}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given a string, &lt;code>message&lt;/code>, and a positive integer, &lt;code>limit&lt;/code>.&lt;/p>
&lt;p>You must &lt;strong>split&lt;/strong> &lt;code>message&lt;/code> into one or more &lt;strong>parts&lt;/strong> based on &lt;code>limit&lt;/code>. Each resulting part should have the suffix &lt;code>&amp;quot;&amp;lt;a/b&amp;gt;&amp;quot;&lt;/code>, where &lt;code>&amp;quot;b&amp;quot;&lt;/code> is to be &lt;strong>replaced&lt;/strong> with the total number of parts and &lt;code>&amp;quot;a&amp;quot;&lt;/code> is to be &lt;strong>replaced&lt;/strong> with the index of the part, starting from &lt;code>1&lt;/code> and going up to &lt;code>b&lt;/code>. Additionally, the length of each resulting part (including its suffix) should be &lt;strong>equal&lt;/strong> to &lt;code>limit&lt;/code>, except for the last part whose length can be &lt;strong>at most&lt;/strong> &lt;code>limit&lt;/code>.&lt;/p></description></item><item><title>[LeetCode] 2467. Most Profitable Path in a Tree</title><link>https://intervalrain.github.io/leetcode/2467/</link><pubDate>Thu, 24 Nov 2022 01:09:51 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2467/</guid><description>&lt;p>&lt;strong>2467. Most Profitable Path in a Tree&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Tree&lt;/code>、&lt;code>Depth-First Search&lt;/code>、&lt;code>Breadth-First Search&lt;/code>、&lt;code>Graph&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{Biweekly Contest 91}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>There is an undirected tree with &lt;code>n&lt;/code> nodes labeled from &lt;code>0&lt;/code> to &lt;code>n - 1&lt;/code>, rooted at node &lt;code>0&lt;/code>. You are given a 2D integer array &lt;code>edges&lt;/code> of length &lt;code>n - 1&lt;/code> where &lt;code>edges[i] = [ai, bi]&lt;/code> indicates that there is an edge between nodes &lt;code>ai&lt;/code> and &lt;code>bi&lt;/code> in the tree.
At every node &lt;code>i&lt;/code>, there is a gate. You are also given an array of even integers &lt;code>amount&lt;/code>, where &lt;code>amount[i]&lt;/code> represents:&lt;/p></description></item><item><title>[LeetCode] 1926. Nearest Exit from Entrance in Maze</title><link>https://intervalrain.github.io/leetcode/1926/</link><pubDate>Tue, 22 Nov 2022 23:41:58 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/1926/</guid><description>&lt;p>&lt;strong>1926. Nearest Exit from Entrance in Maze&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Breadth-First Search&lt;/code>、&lt;code>Matrix&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given an &lt;code>m x n&lt;/code> matrix &lt;code>maze&lt;/code> (&lt;strong>0-indexed&lt;/strong>) with empty cells (represented as &lt;code>'.'&lt;/code>) and walls (represented as &lt;code>'+'&lt;/code>). You are also given the &lt;code>entrance&lt;/code> of the maze, where &lt;code>entrance = [entrancerow, entrancecol]&lt;/code> denotes the row and column of the cell you are initially standing at.&lt;/p>
&lt;p>In one step, you can move one cell &lt;strong>up&lt;/strong>, &lt;strong>down&lt;/strong>, &lt;strong>left&lt;/strong>, or &lt;strong>right&lt;/strong>. You cannot step into a cell with a wall, and you cannot step outside the maze. Your goal is to find the nearest exit from the &lt;code>entrance&lt;/code>. An &lt;strong>exit&lt;/strong> is defined as an &lt;strong>empty cell&lt;/strong> that is at the &lt;strong>border&lt;/strong> of the &lt;code>maze&lt;/code>. The &lt;code>entrance&lt;/code> &lt;strong>does not count&lt;/strong> as an exit.&lt;/p></description></item><item><title>[LeetCode] 279. Perfect Squares</title><link>https://intervalrain.github.io/leetcode/279/</link><pubDate>Tue, 22 Nov 2022 19:40:18 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/279/</guid><description>&lt;p>&lt;strong>279. Perfect Squares&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Math&lt;/code>、&lt;code>Dynamic Programming&lt;/code>、&lt;code>Breadth-First Search&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an integer &lt;code>n&lt;/code>, return &lt;em>the least number of perfect square numbers that sum to&lt;/em> &lt;code>n&lt;/code>.
A &lt;strong>perfect square&lt;/strong> is an integer that is the square of an integer; in other words, it is the product of some integer with itself. For example, &lt;code>1&lt;/code>, &lt;code>4&lt;/code>, &lt;code>9&lt;/code>, and &lt;code>16&lt;/code> are perfect squares while &lt;code>3&lt;/code> and &lt;code>11&lt;/code> are not.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 337. House Robber III</title><link>https://intervalrain.github.io/leetcode/337/</link><pubDate>Sat, 19 Nov 2022 21:43:08 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/337/</guid><description>&lt;p>&lt;strong>337. House Robber III&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Dynamic Programming&lt;/code>、&lt;code>Tree&lt;/code>、&lt;code>Depth-First Search&lt;/code>、&lt;code>Binary Tree&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>The thief has found himself a new place for his thievery again. There is only one entrance to this area, called &lt;code>root&lt;/code>.
Besides the &lt;code>root&lt;/code>, each house has one and only one parent house. After a tour, the smart thief realized that all houses in this place form a binary tree. It will automatically contact the police if &lt;strong>two directly-linked houses were broken into on the same night&lt;/strong>.
Given the &lt;code>root&lt;/code> of the binary tree, return &lt;em>the maximum amount of money the thief can rob &lt;em>&lt;strong>without alerting the police&lt;/strong>&lt;/em>&lt;/em>.&lt;/p></description></item><item><title>[LeetCode] 587. Erect the Fence</title><link>https://intervalrain.github.io/leetcode/587/</link><pubDate>Sat, 19 Nov 2022 16:56:09 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/587/</guid><description>&lt;p>&lt;strong>587. Erect the Rence&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Math&lt;/code>、&lt;code>Geometry&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given an array &lt;code>trees&lt;/code> where &lt;code>trees[i] = [xi, yi]&lt;/code> represents the location of a tree in the garden.
You are asked to fence the entire garden using the minimum length of rope as it is expensive. The garden is well fenced only &lt;strong>if all the trees are enclosed&lt;/strong>.
Return &lt;em>the coordinates of trees that are exactly located on the fence perimeter&lt;/em>.&lt;/p></description></item><item><title>[LeetCode] 322. Coin Change</title><link>https://intervalrain.github.io/leetcode/322/</link><pubDate>Thu, 17 Nov 2022 21:31:45 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/322/</guid><description>&lt;p>&lt;strong>322. Coin Change&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Dynamic Programming&lt;/code>、&lt;code>Breadth-First Search&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given an integer array &lt;code>coins&lt;/code> representing coins of different denominations and an integer &lt;code>amount&lt;/code> representing a total amount of money.
Return &lt;em>the fewest number of coins that you need to make up that amount&lt;/em>. If that amount of money cannot be made up by any combination of the coins, return &lt;code>-1&lt;/code>.
You may assume that you have an infinite number of each kind of coin.&lt;/p></description></item><item><title>[LeetCode] 2466. Count Ways To Build Good Strings</title><link>https://intervalrain.github.io/leetcode/2466/</link><pubDate>Thu, 17 Nov 2022 21:23:24 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2466/</guid><description>&lt;p>&lt;strong>2466. Count Ways To Build Good Strings&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Dynamic Programming&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{Biweekly Contest 91}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given the integers &lt;code>zero&lt;/code>, &lt;code>one&lt;/code>, &lt;code>low&lt;/code>, and &lt;code>high&lt;/code>, we can construct a string by starting with an empty string, and then at each step perform either of the following:&lt;/p>
&lt;ul>
&lt;li>Append the character &lt;code>'0'&lt;/code> &lt;code>zero&lt;/code> times.&lt;/li>
&lt;li>Append the character &lt;code>'1'&lt;/code> &lt;code>one&lt;/code> times.
This can be performed any number of times.
A &lt;strong>good&lt;/strong> string is a string constructed by the above process having a &lt;strong>length&lt;/strong> between &lt;code>low&lt;/code> and &lt;code>high&lt;/code> (&lt;strong>inclusive&lt;/strong>).
Return &lt;em>the number of &lt;em>&lt;strong>different&lt;/strong>&lt;/em> good strings that can be constructed satisfying these properties&lt;/em>. Since the answer can be large, return it &lt;strong>modulo&lt;/strong> &lt;code>10^9 + 7&lt;/code>.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2465. Number of Distinct Averages</title><link>https://intervalrain.github.io/leetcode/2465/</link><pubDate>Thu, 17 Nov 2022 21:00:05 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2465/</guid><description>&lt;p>&lt;strong>2465. Number of Distinct Averages&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Hash Table&lt;/code>、&lt;code>Two Pointers&lt;/code>、&lt;code>Sorting&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{Biweekly Contest 91}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given a &lt;strong>0-indexed&lt;/strong> integer array &lt;code>nums&lt;/code> of &lt;strong>even&lt;/strong> length.
As long as &lt;code>nums&lt;/code> is &lt;strong>not&lt;/strong> empty, you must repetitively:&lt;/p>
&lt;ul>
&lt;li>Find the minimum number in &lt;code>nums&lt;/code> and remove it.&lt;/li>
&lt;li>Find the maximum number in &lt;code>nums&lt;/code> and remove it.&lt;/li>
&lt;li>Calculate the average of the two removed numbers.
The &lt;strong>average&lt;/strong> of two numbers &lt;code>a&lt;/code> and &lt;code>b&lt;/code> is &lt;code>(a + b) / 2&lt;/code>.&lt;/li>
&lt;li>For example, the average of &lt;code>2&lt;/code> and &lt;code>3&lt;/code> is &lt;code>(2 + 3) / 2 = 2.5&lt;/code>.
Return &lt;em>the number of &lt;em>&lt;strong>distinct&lt;/strong>&lt;/em> averages calculated using the above process&lt;/em>.
&lt;strong>Note&lt;/strong> that when there is a tie for a minimum or maximum number, any can be removed.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 223. Rectangle Area</title><link>https://intervalrain.github.io/leetcode/223/</link><pubDate>Thu, 17 Nov 2022 20:39:17 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/223/</guid><description>&lt;p>&lt;strong>223. Rectangle Area&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Math&lt;/code>、&lt;code>Geometry&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given the coordinates of two &lt;strong>rectilinear&lt;/strong> rectangles in a 2D plane, return &lt;em>the total area covered by the two rectangles.&lt;/em>
The first rectangle is defined by its &lt;strong>bottom-left&lt;/strong> corner &lt;code>(ax1, ay1)&lt;/code> and its &lt;strong>top-right&lt;/strong> corner &lt;code>(ax2, ay2)&lt;/code>.
The second rectangle is defined by its &lt;strong>bottom-left&lt;/strong> corner &lt;code>(bx1, by1)&lt;/code> and tis &lt;strong>top-right&lt;/strong> corner &lt;code>(bx2, by2)&lt;/code>.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;br>
&lt;img alt="rectangle-plane" loading="lazy" src="https://assets.leetcode.com/uploads/2021/05/08/rectangle-plane.png">&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> ax1 = -3, ay1 = 0, ax2 = 3, ay2 = 4, bx1 = 0, by1 = -1, bx2 = 9, by2 = 2&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 45&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 374. Guess Number Higher or Lower</title><link>https://intervalrain.github.io/leetcode/374/</link><pubDate>Wed, 16 Nov 2022 22:57:11 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/374/</guid><description>&lt;p>&lt;strong>374. Guess Number Higher or Lower&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Binary Search&lt;/code>、&lt;code>Interactive&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>We are playing the Guess Game. The game is as follows:
I pick a number from &lt;code>1&lt;/code> to &lt;code>n&lt;/code>. You have to guess which number I picked.
Every time you guess wrong, I will tell you whether the number I picked is higher or lower than your guess.
You call a pre-defined API &lt;code>int guess(int num)&lt;/code>, which returns three possible results:&lt;/p></description></item><item><title>[LeetCode] 213. House Robber II</title><link>https://intervalrain.github.io/leetcode/213/</link><pubDate>Tue, 15 Nov 2022 23:45:49 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/213/</guid><description>&lt;p>&lt;strong>213. House Robber II&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Dynamic Programming&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are a professional robber planning to rob houses along a street. Each house has a certain amount of money stashed. All houses at this place are &lt;strong>arranged in a circle&lt;/strong>. That means the first house is the neighbor of the last one. Meanwhile, adjacent houses have a security system connected, and &lt;strong>it will automatically contact the police if two adjacent houses were broken into on the same night.&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 198. House Robber</title><link>https://intervalrain.github.io/leetcode/198/</link><pubDate>Tue, 15 Nov 2022 23:33:01 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/198/</guid><description>&lt;p>&lt;strong>198. House Robber&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Dynamic Programming&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are a professional robber planning to rob houses along a street. Each house has a certain amount of money stashed, the only constraint stopping you from robbing each of them is that adjacent houses have security systems connected and &lt;strong>it will automatically contact the police if two adjacent houses were broken into on the same night.&lt;/strong>
Given an integer array &lt;code>nums&lt;/code> representing the amount of money of each house, return &lt;em>the maximum amount of money you can rob tonight&lt;/em> &lt;em>&lt;strong>without alerting the police&lt;/strong>&lt;/em>.&lt;/p></description></item><item><title>[Algo] 2-5. 動態規劃 Dynamic Programming</title><link>https://intervalrain.github.io/cs/algo/dp/</link><pubDate>Tue, 15 Nov 2022 16:10:53 +0800</pubDate><guid>https://intervalrain.github.io/cs/algo/dp/</guid><description>演算法設計，介紹什麼是動態規劃，並介紹幾種動態規劃常見的題型，與解題框架</description></item><item><title>[LeetCode] 947. Most Stones Removed with Same Row or Column</title><link>https://intervalrain.github.io/leetcode/947/</link><pubDate>Tue, 15 Nov 2022 00:12:30 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/947/</guid><description>&lt;p>&lt;strong>947. Most Stones Removed with Same Row or Column&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Depth-First Search&lt;/code>、&lt;code>Union Find&lt;/code>、&lt;code>Graph&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>On a 2D plane, we place &lt;code>n&lt;/code> stones at some integer coordinate points. Each coordinate point may have at most one stone.
A stone can be removed if it shares either &lt;strong>the same row or the same column&lt;/strong> as another stone that has not been removed.
Given an array &lt;code>stones&lt;/code> of length &lt;code>n&lt;/code> where &lt;code>stones[i] = [xi, yi]&lt;/code> represents the location of the &lt;code>ith&lt;/code> stone, return &lt;em>the largest possible number of stones that can be removed&lt;/em>.&lt;/p></description></item><item><title>[LeetCode] 151. Reverse Words in a String</title><link>https://intervalrain.github.io/leetcode/151/</link><pubDate>Sun, 13 Nov 2022 17:35:59 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/151/</guid><description>&lt;p>&lt;strong>151. Reverse Words in a String&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Two Pointers&lt;/code>、&lt;code>String&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an input string &lt;code>s&lt;/code>, reverse the order of the &lt;strong>words&lt;/strong>.&lt;br>
A &lt;strong>word&lt;/strong> is defined as a sequence of non-space characters. The &lt;strong>words&lt;/strong> in &lt;code>s&lt;/code> will be separated by at least one space.&lt;br>
Return &lt;em>a string of the words in reverse order concatenated by a single space&lt;/em>.
&lt;strong>Note&lt;/strong> that &lt;code>s&lt;/code> may contain leading or trailing spaces or multiple spaces between two words. The returned string should only have a single space separating the words. Do not include any extra spaces.&lt;/p></description></item><item><title>[LeetCode] 23. Merge k Sorted Lists</title><link>https://intervalrain.github.io/leetcode/23/</link><pubDate>Fri, 11 Nov 2022 00:24:47 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/23/</guid><description>&lt;p>&lt;strong>23. Merge k Sorted Lists&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Linked List&lt;/code>、&lt;code>Divide and Conquer&lt;/code>、&lt;code>Heap (Priority Queue)&lt;/code>、&lt;code>Merge Sort&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given an array of &lt;code>k&lt;/code> linked-lists &lt;code>lists&lt;/code>, each linked-list is sorted in ascending order.
&lt;em>Merge all the linked-lists into one sorted linked-list and return it&lt;/em>.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> lists = [[1,4,5],[1,3,4],[2,6]]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [1,1,2,3,4,4,5,6]&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> The linked-lists are:&lt;br>
[&lt;br>
1-&amp;gt;4-&amp;gt;5,&lt;br>
1-&amp;gt;3-&amp;gt;4,&lt;br>
2-&amp;gt;6&lt;br>
]&lt;br>
merging them into one sorted list:&lt;br>
1-&amp;gt;1-&amp;gt;2-&amp;gt;3-&amp;gt;4-&amp;gt;4-&amp;gt;5-&amp;gt;6&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 22. Generate Parentheses</title><link>https://intervalrain.github.io/leetcode/22/</link><pubDate>Thu, 10 Nov 2022 23:44:24 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/22/</guid><description>&lt;p>&lt;strong>22. Generate Parentheses&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>String&lt;/code>、&lt;code>Dynamic Programming&lt;/code>、&lt;code>Backtracking&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given &lt;code>n&lt;/code> pairs of parentheses, write a function to &lt;em>generate all combinations of well-formed parentheses&lt;/em>.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> n = 3&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [&amp;quot;((()))&amp;quot;,&amp;quot;(()())&amp;quot;,&amp;quot;(())()&amp;quot;,&amp;quot;()(())&amp;quot;,&amp;quot;()()()&amp;quot;]&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> n = 1&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [&amp;quot;()&amp;quot;]&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Constraints:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>1 &amp;lt;= n &amp;lt;= 8&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="二分析">二、分析&lt;/h3>
&lt;ul>
&lt;li>DFS 演算法是在遍歷「節點」，而回溯法是在遍歷「樹枝」。站在一個節點上，需思考三個問題：
&lt;ol>
&lt;li>路徑(PATH)：已做出的選擇。&lt;/li>
&lt;li>選項(OPTION)：當前可以做的選擇。&lt;/li>
&lt;li>終止條件(TERMINATE)：到達決策樹的底層，無法再做其它選擇。&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>以下為回溯法的框架：&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-C++" data-lang="C++">&lt;span style="display:flex;">&lt;span>vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>PATH&lt;span style="color:#f92672">&amp;gt;&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">backtrack&lt;/span>(PATH, OPTION) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (TERMINATE) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res.push_back(PATH);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (CHOICE : OPTION) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> DO OPTION;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> backtrack(PATH, OPTION);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> CANCEL OPTION;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>本題的終止條件是當 &lt;code>path&lt;/code> 的長度為 &lt;code>2n&lt;/code> 的時候。&lt;/li>
&lt;li>而選項是增加&lt;strong>左括號&lt;/strong> &lt;code>(&lt;/code> 與增加&lt;strong>右括號&lt;/strong> &lt;code>)&lt;/code>。&lt;/li>
&lt;li>加上兩個子節點的條件便完成，
&lt;ul>
&lt;li>左節點需滿足 &lt;code>left &amp;lt; n&lt;/code>。&lt;/li>
&lt;li>右節點需滿足 &lt;code>right &amp;lt; n &amp;amp;&amp;amp; right &amp;lt; left&lt;/code>。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>DP 動態規劃則需觀察轉移方程式。
&lt;ul>
&lt;li>&lt;code>dp[0]&lt;/code> base case： ``&lt;/li>
&lt;li>&lt;code>dp[1]&lt;/code> 很容易得到：&lt;code>()&lt;/code>&lt;/li>
&lt;li>&lt;code>dp[2]&lt;/code> 也不難：&lt;code>()()&lt;/code>、&lt;code>(())&lt;/code>
接下來觀察 &lt;code>dp[3]&lt;/code>，可以分解為下面三個：
&lt;ol>
&lt;li>&lt;code>(&lt;/code> + dp[0] + &lt;code>)&lt;/code> + dp[2]：&lt;code>()()()&lt;/code>、&lt;code>()(())&lt;/code>&lt;/li>
&lt;li>&lt;code>(&lt;/code> + dp[1] + &lt;code>)&lt;/code> + dp[1]：&lt;code>(())()&lt;/code>&lt;/li>
&lt;li>&lt;code>(&lt;/code> + dp[2] + &lt;code>)&lt;/code> + dp[0]：&lt;code>(()())&lt;/code>、&lt;code>((()))&lt;/code>
換句話說，轉移方程式可以寫成：&lt;code>dp[i] = &amp;quot;(&amp;quot; + dp[j] + &amp;quot;)&amp;quot; + dp[i-j-1]&lt;/code>&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="三解題">三、解題&lt;/h3>
&lt;h4 id="1-backtrack">1. Backtrack&lt;/h4>
&lt;ul>
&lt;li>Time complexity: \(O(2^{2n})\)，&lt;a href="https://zh.wikipedia.org/wiki/%E5%8D%A1%E5%A1%94%E5%85%B0%E6%95%B0">Wiki - Catalan number&lt;/a>&lt;/li>
&lt;li>Space complexity: \(O(n)\)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-C++" data-lang="C++">&lt;span style="display:flex;">&lt;span>vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>string&lt;span style="color:#f92672">&amp;gt;&lt;/span> generateParenthesis(&lt;span style="color:#66d9ef">int&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string path;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>string&lt;span style="color:#f92672">&amp;gt;&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> backtrack(n, &lt;span style="color:#ae81ff">0&lt;/span>, &lt;span style="color:#ae81ff">0&lt;/span>, res, path);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">backtrack&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> n, &lt;span style="color:#66d9ef">int&lt;/span> left, &lt;span style="color:#66d9ef">int&lt;/span> right, vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>string&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> res, string&lt;span style="color:#f92672">&amp;amp;&lt;/span> path) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// terminate
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span> (path.length() &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span>&lt;span style="color:#f92672">*&lt;/span>n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res.push_back(path);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// select
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span> (left &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> path.push_back(&lt;span style="color:#e6db74">&amp;#39;(&amp;#39;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> backtrack(n, left&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>, right, res, path);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> path.pop_back();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> right &lt;span style="color:#f92672">&amp;lt;&lt;/span> left) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> path.push_back(&lt;span style="color:#e6db74">&amp;#39;)&amp;#39;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> backtrack(n, left, right&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>, res, path);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> path.pop_back();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="2-dynamic-programming">2. Dynamic Programming&lt;/h4>
&lt;ul>
&lt;li>Time complexity: \(O(n^4)\)&lt;/li>
&lt;li>Space complexity: \(O(n)\)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-C++" data-lang="C++">&lt;span style="display:flex;">&lt;span>vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>string&lt;span style="color:#f92672">&amp;gt;&lt;/span> generateParenthesis(&lt;span style="color:#66d9ef">int&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>string&lt;span style="color:#f92672">&amp;gt;&amp;gt;&lt;/span> dp(n&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dp[&lt;span style="color:#ae81ff">0&lt;/span>] &lt;span style="color:#f92672">=&lt;/span> {&lt;span style="color:#e6db74">&amp;#34;&amp;#34;&lt;/span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> i&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>;i&lt;span style="color:#f92672">&amp;lt;=&lt;/span>n;i&lt;span style="color:#f92672">++&lt;/span>){
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> j&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>;j&lt;span style="color:#f92672">&amp;lt;&lt;/span>i;j&lt;span style="color:#f92672">++&lt;/span>){
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>string&lt;span style="color:#f92672">&amp;gt;&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> dp[j];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>string&lt;span style="color:#f92672">&amp;gt;&lt;/span> right &lt;span style="color:#f92672">=&lt;/span> dp[i&lt;span style="color:#f92672">-&lt;/span>j&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> k&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>;k&lt;span style="color:#f92672">&amp;lt;&lt;/span>left.size();k&lt;span style="color:#f92672">++&lt;/span>){
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> l&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>;l&lt;span style="color:#f92672">&amp;lt;&lt;/span>right.size();l&lt;span style="color:#f92672">++&lt;/span>){
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dp[i].push_back(&lt;span style="color:#e6db74">&amp;#34;(&amp;#34;&lt;/span> &lt;span style="color:#f92672">+&lt;/span> left[k] &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#e6db74">&amp;#34;)&amp;#34;&lt;/span> &lt;span style="color:#f92672">+&lt;/span> right[l]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> dp[n];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;a href="https://intervalrain.github.io/leetcode">回目錄 Catalog&lt;/a>&lt;/p></description></item><item><title>[LeetCode] 21. Merge Two Sorted Lists</title><link>https://intervalrain.github.io/leetcode/21/</link><pubDate>Thu, 10 Nov 2022 20:25:07 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/21/</guid><description>&lt;p>&lt;strong>21. Merge Two Sorted Lists&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Linked List&lt;/code>、&lt;code>Recursion&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given the heads of two sorted linked lists &lt;code>list1&lt;/code> and &lt;code>list2&lt;/code>.&lt;/p>
&lt;p>Merge the two lists in a one &lt;strong>sorted&lt;/strong> list. The list should be made by splicing together the nodes of the first two lists.&lt;/p>
&lt;p>Return &lt;em>the head of the merged linked list&lt;/em>.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> list1 = [1,2,4], list2 = [1,3,4]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [1,1,2,3,4,4]&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 1047. Remove All Adjacent Duplicates In String</title><link>https://intervalrain.github.io/leetcode/1047/</link><pubDate>Thu, 10 Nov 2022 20:01:29 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/1047/</guid><description>&lt;p>&lt;strong>1047. Remove All Adjacent Duplicates In String&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>String&lt;/code>、&lt;code>Stack&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given a string &lt;code>s&lt;/code> consisting of lowercase English letters. A &lt;strong>duplicate removal&lt;/strong> consists of choosing two &lt;strong>adjacent&lt;/strong> and &lt;strong>equal&lt;/strong> letters and removing them.&lt;/p>
&lt;p>We repeatly make &lt;strong>duplicate removals&lt;/strong> on &lt;code>s&lt;/code> until we no longer can.&lt;/p>
&lt;p>Return &lt;em>the final string after all such duplicate removals have been made&lt;/em>. It can be proven that the answer is &lt;strong>unique&lt;/strong>.&lt;/p></description></item><item><title>[LeetCode] 901. Online Stock Span</title><link>https://intervalrain.github.io/leetcode/901/</link><pubDate>Wed, 09 Nov 2022 23:35:42 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/901/</guid><description>&lt;p>&lt;strong>901. Online Stock Span&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Stack&lt;/code>、&lt;code>Design&lt;/code>、&lt;code>Monotonic Stack&lt;/code>、&lt;code>Data Stream&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Design an algorithm that collects daily price quotes for some stock and returns &lt;strong>the span&lt;/strong> of that stock&amp;rsquo;s price for the current day.&lt;/p>
&lt;p>The &lt;strong>span&lt;/strong> of the stock&amp;rsquo;s price today is defined as the maximum number of consecutive days (starting from today and going backward) for which the stock price was less than or equal to today&amp;rsquo;s price.&lt;/p></description></item><item><title>[LeetCode] 1544. Make The String Great</title><link>https://intervalrain.github.io/leetcode/1544/</link><pubDate>Tue, 08 Nov 2022 23:14:34 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/1544/</guid><description>&lt;p>&lt;strong>1544. Make The String Great&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>String&lt;/code>、&lt;code>Stack&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given a string &lt;code>s&lt;/code> of lower and upper case English letters.&lt;br>
A good string is a string which doesn&amp;rsquo;t have &lt;strong>two adjacent characters&lt;/strong> &lt;code>s[i]&lt;/code> and &lt;code>s[i + 1]&lt;/code> where:&lt;/p>
&lt;ul>
&lt;li>&lt;code>0 &amp;lt;= i &amp;lt;= s.length - 2&lt;/code>&lt;/li>
&lt;li>&lt;code>s[i]&lt;/code> is a lower-case letter and &lt;code>s[i + 1]&lt;/code> is the same letter but in upper-case or &lt;strong>vice-versa&lt;/strong>.&lt;br>
To make the string good, you can choose &lt;strong>two adjacent&lt;/strong> characters that make the string bad and remove them. You can keep doing this until the string becomes good.&lt;br>
Return the string after making it good. The answer is guaranteed to be unique under the given constraints.&lt;br>
&lt;strong>Notice&lt;/strong> that an empty string is also good.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2463. Minimum Total Distance Traveled</title><link>https://intervalrain.github.io/leetcode/2463/</link><pubDate>Tue, 08 Nov 2022 23:13:52 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2463/</guid><description>&lt;p>&lt;strong>2463. Minimum Total Distance Traveled&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Dynamic Programming&lt;/code>、&lt;code>Sorting&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{Weekly Contest 318}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>There are some robots and factories on the X-axis. You are given an integer array &lt;code>robot&lt;/code> where &lt;code>robot[i]&lt;/code> is the position of the &lt;code>ith&lt;/code> robot. You are also given a 2D integer array &lt;code>factory&lt;/code> where &lt;code>factory[j] = [positionj, limitj]&lt;/code> indicates that &lt;code>positionj&lt;/code> is the position of the &lt;code>jth&lt;/code> factory and that the &lt;code>jth&lt;/code> factory can repair at most &lt;code>limitj&lt;/code> robots.&lt;/p></description></item><item><title>[LeetCode] 2462. Total Cost to Hire K</title><link>https://intervalrain.github.io/leetcode/2462/</link><pubDate>Tue, 08 Nov 2022 00:53:08 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2462/</guid><description>&lt;p>&lt;strong>2462. Total Cost to Hire K&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Two Pointer&lt;/code>、&lt;code>Heap (Priority Queue)&lt;/code>、&lt;code>Simulation&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{Weekly Contest 318}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given a &lt;strong>0-indexed&lt;/strong> integer array &lt;code>costs&lt;/code> where &lt;code>costs[i]&lt;/code> is the cost of hiring the &lt;code>ith&lt;/code> worker.
You are also given two integers &lt;code>k&lt;/code> and &lt;code>candidates&lt;/code>. We want to hire exactly &lt;code>k&lt;/code> workers according to the following rules:&lt;/p>
&lt;ul>
&lt;li>You will run &lt;code>k&lt;/code> sessions and hire exactly one worker in each session.&lt;/li>
&lt;li>In each hiring session, choose the worker with the lowest cost from either the first &lt;code>candidates&lt;/code> workers or the last &lt;code>candidates&lt;/code> workers. Break the tie by the smallest index.
&lt;ul>
&lt;li>For example, if &lt;code>costs = [3,2,7,7,1,2]&lt;/code> and &lt;code>candidates = 2&lt;/code>, then in the first hiring session, we will choose the &lt;code>4th&lt;/code> worker because they have the lowest cost &lt;code>[3,2,7,7,1,2]&lt;/code>.&lt;/li>
&lt;li>In the second hiring session, we will choose &lt;code>1st&lt;/code> worker because they have the same lowest cost as &lt;code>4th&lt;/code> worker but they have the smallest index &lt;code>[3,2,7,7,2]&lt;/code>. Please note that the indexing may be changed in the process.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>If there are fewer than candidates workers remaining, choose the worker with the lowest cost among them. Break the tie by the smallest index.&lt;/li>
&lt;li>A worker can only be chosen once.
Return &lt;em>the total cost to hire exactly&lt;/em> &lt;code>k&lt;/code> &lt;em>workers&lt;/em>.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2461. Maximum Sum of Distinct Subarrays With Length K</title><link>https://intervalrain.github.io/leetcode/2461/</link><pubDate>Tue, 08 Nov 2022 00:36:35 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2461/</guid><description>&lt;p>&lt;strong>2461. Maximum Sum of Distinct Subarrays With Length K&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Hash Table&lt;/code>、&lt;code>Sliding Window&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{Weekly Contest 318}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given an integer array &lt;code>nums&lt;/code> and an integer &lt;code>k&lt;/code>. Find the maximum subarray sum of all the subarrays of &lt;code>nums&lt;/code> that meet the following conditions:&lt;/p>
&lt;ul>
&lt;li>The length of the subarray is &lt;code>k&lt;/code>, and&lt;/li>
&lt;li>All the elements of the subarray are &lt;strong>distinct&lt;/strong>.
Return &lt;em>the maximum subarray sum of all the subarrays that meet the conditions&lt;/em>. If no subarray meets the conditions, return &lt;code>0&lt;/code>.
&lt;em>A&lt;/em> &lt;em>&lt;strong>subarray&lt;/strong>&lt;/em> &lt;em>is a contiguous non-empty sequence of elements within an array.&lt;/em>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2460. Apply Operations to an Array</title><link>https://intervalrain.github.io/leetcode/2460/</link><pubDate>Tue, 08 Nov 2022 00:09:13 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2460/</guid><description>&lt;p>&lt;strong>2460. Apply Operations to an Array&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Simulation&lt;/code>&lt;/li>
&lt;li>\(\color{blue}\textsf{Weekly Contest 318}\)&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given a &lt;strong>0-indexed&lt;/strong> array &lt;code>nums&lt;/code> of size &lt;code>n&lt;/code> consisting of &lt;strong>non-negative&lt;/strong> integers.
You need to apply &lt;code>n - 1&lt;/code> operations to this array where, in the &lt;code>ith&lt;/code> operation (&lt;strong>0-indexed&lt;/strong>), you will apply the following on the &lt;code>ith&lt;/code> element of &lt;code>nums&lt;/code>:&lt;/p>
&lt;ul>
&lt;li>If &lt;code>nums[i] == nums[i + 1]&lt;/code>, then multiply &lt;code>nums[i]&lt;/code> by &lt;code>2&lt;/code> and set &lt;code>nums[i + 1]&lt;/code> to &lt;code>0&lt;/code>. Otherwise, you skip this operation.
After performing &lt;strong>all&lt;/strong> the operations, &lt;strong>shift&lt;/strong> all the 0&amp;rsquo;s to the &lt;strong>end&lt;/strong> of the array.&lt;/li>
&lt;li>For example, the array &lt;code>[1,0,2,0,0,1]&lt;/code> after shifting all its 0&amp;rsquo;s to the end, is &lt;code>[1,2,1,0,0,0]&lt;/code>.
Return &lt;em>the resulting array&lt;/em>.&lt;/li>
&lt;li>&lt;strong>Note&lt;/strong> that the operations are applied &lt;strong>sequentially&lt;/strong>, not all at once.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 1323. Maximum 69 Number</title><link>https://intervalrain.github.io/leetcode/1323/</link><pubDate>Mon, 07 Nov 2022 23:55:31 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/1323/</guid><description>&lt;p>&lt;strong>1323. Maximum 69 Number&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Math&lt;/code>、&lt;code>Greedy&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given a positive integer &lt;code>num&lt;/code> consisting only of digits &lt;code>6&lt;/code> and &lt;code>9&lt;/code>.&lt;br>
Return &lt;em>the maximum number you can get by changing&lt;/em> &lt;em>&lt;strong>at most&lt;/strong>&lt;/em> &lt;em>one digit (&lt;code>6&lt;/code> becomes &lt;code>9&lt;/code>, and &lt;code>9&lt;/code> becomes &lt;code>6&lt;/code>).&lt;/em>&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> num = 9669&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 9969&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong>&lt;br>
Changing the first digit results in 6669.&lt;br>
Changing the second digit results in 9969.&lt;br>
Changing the third digit results in 9699.&lt;br>
Changing the fourth digit results in 9666.&lt;br>
The maximum number is 9969.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p></description></item><item><title>[ML] 機器學習與統計學</title><link>https://intervalrain.github.io/ml/lec1/</link><pubDate>Mon, 07 Nov 2022 18:18:52 +0800</pubDate><guid>https://intervalrain.github.io/ml/lec1/</guid><description>Introduction to Machine Learning</description></item><item><title>[LeetCode] 79. Word Search</title><link>https://intervalrain.github.io/leetcode/79/</link><pubDate>Sat, 05 Nov 2022 21:12:17 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/79/</guid><description>&lt;p>&lt;strong>79. Word Search&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Backtracking&lt;/code>、&lt;code>Matrix&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an &lt;code>m x n&lt;/code> grid of characters &lt;code>board&lt;/code> and a string &lt;code>word&lt;/code>, return &lt;code>true&lt;/code> &lt;em>if&lt;/em> &lt;code>word&lt;/code> &lt;em>exists in the grid&lt;/em>.&lt;br>
The word can be constructed from letters of sequentially adjacent cells, where adjacent cells are horizontally or vertically neighboring. The same letter cell may not be used more than once.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> board = [[&amp;ldquo;A&amp;rdquo;,&amp;ldquo;B&amp;rdquo;,&amp;ldquo;C&amp;rdquo;,&amp;ldquo;E&amp;rdquo;],[&amp;ldquo;S&amp;rdquo;,&amp;ldquo;F&amp;rdquo;,&amp;ldquo;C&amp;rdquo;,&amp;ldquo;S&amp;rdquo;],[&amp;ldquo;A&amp;rdquo;,&amp;ldquo;D&amp;rdquo;,&amp;ldquo;E&amp;rdquo;,&amp;ldquo;E&amp;rdquo;]], word = &amp;ldquo;ABCCED&amp;rdquo;&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> true&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 212. Word Search II</title><link>https://intervalrain.github.io/leetcode/212/</link><pubDate>Sat, 05 Nov 2022 20:58:11 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/212/</guid><description>&lt;p>&lt;strong>212. Word Search II&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>String&lt;/code>、&lt;code>Backtracking&lt;/code>、&lt;code>Trie&lt;/code>、&lt;code>Matrix&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an &lt;code>m x n&lt;/code> &lt;code>board&lt;/code> of characters and a list of strings &lt;code>words&lt;/code>, return &lt;em>all words on the board&lt;/em>.&lt;br>
Each word must be constructed from letters of sequentially adjacent cells, where &lt;strong>adjacent cells&lt;/strong> are horizontally or vertically neighboring. The same letter cell may not be used more than once in a word.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> board = [[&amp;ldquo;o&amp;rdquo;,&amp;ldquo;a&amp;rdquo;,&amp;ldquo;a&amp;rdquo;,&amp;ldquo;n&amp;rdquo;],[&amp;ldquo;e&amp;rdquo;,&amp;ldquo;t&amp;rdquo;,&amp;ldquo;a&amp;rdquo;,&amp;ldquo;e&amp;rdquo;],[&amp;ldquo;i&amp;rdquo;,&amp;ldquo;h&amp;rdquo;,&amp;ldquo;k&amp;rdquo;,&amp;ldquo;r&amp;rdquo;],[&amp;ldquo;i&amp;rdquo;,&amp;ldquo;f&amp;rdquo;,&amp;ldquo;l&amp;rdquo;,&amp;ldquo;v&amp;rdquo;]], words = [&amp;ldquo;oath&amp;rdquo;,&amp;ldquo;pea&amp;rdquo;,&amp;ldquo;eat&amp;rdquo;,&amp;ldquo;rain&amp;rdquo;]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [&amp;ldquo;eat&amp;rdquo;,&amp;ldquo;oath&amp;rdquo;]&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2131. Longest Palindrome by Concatenating Two Letter Words</title><link>https://intervalrain.github.io/leetcode/2131/</link><pubDate>Thu, 03 Nov 2022 23:10:10 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2131/</guid><description>&lt;p>&lt;strong>2131. Longest Palindrome by Concatenating Two Letter Words&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Hash Table&lt;/code>、&lt;code>String&lt;/code>、&lt;code>Greedy&lt;/code>、&lt;code>Counting&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given an array of strings &lt;code>words&lt;/code>. Each element of &lt;code>words&lt;/code> consists of &lt;strong>two&lt;/strong> lowercase English letters.&lt;br>
Create the &lt;strong>longest possible palindrome&lt;/strong> by selecting some elements from &lt;code>words&lt;/code> and concatenating them in &lt;strong>any order&lt;/strong>. Each element can be selected &lt;strong>at most once&lt;/strong>.&lt;br>
&lt;em>Return the&lt;/em> &lt;em>&lt;strong>length&lt;/strong>&lt;/em> &lt;em>of the longest palindrome that you can create&lt;/em>. If it is impossible to create any palindrome, return &lt;code>0&lt;/code>.&lt;/p></description></item><item><title>[LeetCode] 433. Minimum Genetic Mutation</title><link>https://intervalrain.github.io/leetcode/433/</link><pubDate>Wed, 02 Nov 2022 23:36:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/433/</guid><description>&lt;p>&lt;strong>433. Minimum Genetic Mutation&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Hash Table&lt;/code>、&lt;code>String&lt;/code>、&lt;code>Breadth-First Search&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>A gene string can be represented by an 8-character long string, with choices from &lt;code>A&lt;/code>, &lt;code>C&lt;/code>, &lt;code>G&lt;/code>, and &lt;code>T&lt;/code>.&lt;br>
Suppose we need to investigate a mutation from a gene string &lt;code>start&lt;/code> to a gene string &lt;code>end&lt;/code> where one mutation is defined as one single character changed in the gene string.&lt;/p>
&lt;ul>
&lt;li>For example, &lt;code>&amp;quot;AACCGGTT&amp;quot; --&amp;gt; &amp;quot;AACCGGTA&amp;quot;&lt;/code> is one mutation.&lt;br>
There is also a gene bank &lt;code>bank&lt;/code> that records all the valid gene mutations. A gene must be in &lt;code>bank&lt;/code> to make it a valid gene string.&lt;br>
Given the two gene strings &lt;code>start&lt;/code> and &lt;code>end&lt;/code> and the gene bank &lt;code>bank&lt;/code>, return the &lt;em>minimum number of mutations needed to mutate from&lt;/em> &lt;code>start&lt;/code> &lt;em>to&lt;/em> &lt;code>end&lt;/code>. If there is no such a mutation, return &lt;code>-1&lt;/code>.&lt;br>
Note that the starting point is assumed to be valid, so it might not be included in the bank.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2009. Minimum Number of Operations to Make Array Continuous</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2009/</link><pubDate>Wed, 02 Nov 2022 03:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2009/</guid><description>&lt;ul>
&lt;li>這一題排序過後就變成簡單的不定長 sliding window 了，但要注意處理 duplicated number&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> minOperations(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sort(nums.begin(), nums.end());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, n &lt;span style="color:#f92672">=&lt;/span> nums.size(), res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> nums[right] &lt;span style="color:#f92672">==&lt;/span> nums[right &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>]) right&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (nums[right] &lt;span style="color:#f92672">-&lt;/span> nums[left] &lt;span style="color:#f92672">&amp;gt;&lt;/span> n&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (left &lt;span style="color:#f92672">&amp;lt;&lt;/span> n &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> nums[left] &lt;span style="color:#f92672">==&lt;/span> nums[left &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>]) left&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> left&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> right&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, curr);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> n &lt;span style="color:#f92672">-&lt;/span> curr;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 2106. Maximum Fruits Harvested After at Most K Steps</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2106/</link><pubDate>Wed, 02 Nov 2022 03:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2106/</guid><description>&lt;ul>
&lt;li>這一題困難的部分在於計算 windows size&lt;/li>
&lt;li>我的作法是根據 &lt;code>startPos + i&lt;/code> 來計算左指針，左指針位置會在 &lt;code>startPos - max(k - 2*i, (k - i) / 2)&lt;/code>，也就是算出左邊來回或是右邊來回兩種情況下， windowSize 最大的可能。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> maxTotalFruits(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;gt;&amp;amp;&lt;/span> fruits, &lt;span style="color:#66d9ef">int&lt;/span> startPos, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sort(fruits.begin(), fruits.end());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> j &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (j &lt;span style="color:#f92672">&amp;lt;&lt;/span> fruits.size() &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> fruits[j][&lt;span style="color:#ae81ff">0&lt;/span>] &lt;span style="color:#f92672">&amp;lt;&lt;/span> startPos &lt;span style="color:#f92672">-&lt;/span> k) j&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> u &lt;span style="color:#f92672">=&lt;/span> j;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> startPos &lt;span style="color:#f92672">-&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;=&lt;/span> startPos &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> j &lt;span style="color:#f92672">&amp;lt;&lt;/span> fruits.size(); i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (fruits[j][&lt;span style="color:#ae81ff">0&lt;/span>] &lt;span style="color:#f92672">==&lt;/span> i) curr &lt;span style="color:#f92672">+=&lt;/span> fruits[j&lt;span style="color:#f92672">++&lt;/span>][&lt;span style="color:#ae81ff">1&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (j &lt;span style="color:#f92672">==&lt;/span> fruits.size()) &lt;span style="color:#66d9ef">return&lt;/span> curr;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> curr;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> startPos &lt;span style="color:#f92672">-&lt;/span> k;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;=&lt;/span> k &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> j &lt;span style="color:#f92672">&amp;lt;&lt;/span> fruits.size(); i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> right &lt;span style="color:#f92672">=&lt;/span> startPos &lt;span style="color:#f92672">+&lt;/span> i;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> pos &lt;span style="color:#f92672">=&lt;/span> startPos &lt;span style="color:#f92672">-&lt;/span> max(k &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span>&lt;span style="color:#f92672">*&lt;/span>i, (k &lt;span style="color:#f92672">-&lt;/span> i)&lt;span style="color:#f92672">/&lt;/span>&lt;span style="color:#ae81ff">2&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (fruits[j][&lt;span style="color:#ae81ff">0&lt;/span>] &lt;span style="color:#f92672">==&lt;/span> right) curr &lt;span style="color:#f92672">+=&lt;/span> fruits[j&lt;span style="color:#f92672">++&lt;/span>][&lt;span style="color:#ae81ff">1&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (left &lt;span style="color:#f92672">&amp;lt;&lt;/span> pos) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (fruits[u][&lt;span style="color:#ae81ff">0&lt;/span>] &lt;span style="color:#f92672">==&lt;/span> left&lt;span style="color:#f92672">++&lt;/span>) curr &lt;span style="color:#f92672">-=&lt;/span> fruits[u&lt;span style="color:#f92672">++&lt;/span>][&lt;span style="color:#ae81ff">1&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, curr);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 2555. Maximize Win From Two Segments</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2555/</link><pubDate>Wed, 02 Nov 2022 03:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2555/</guid><description>&lt;ul>
&lt;li>這一題的關鍵在於追縱離開 window 時的數字，可以滿足的最大值，所以可以用 dp + sliding window 來解這一題。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> maximizeWin(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size(), left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> dp;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> missed &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">&amp;lt;&lt;/span> n &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> nums[right] &lt;span style="color:#f92672">==&lt;/span> nums[right&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>]) right&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (nums[right] &lt;span style="color:#f92672">-&lt;/span> nums[left] &lt;span style="color:#f92672">&amp;gt;&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (nums[right] &lt;span style="color:#f92672">-&lt;/span> nums[left] &lt;span style="color:#f92672">&amp;gt;&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> missed &lt;span style="color:#f92672">=&lt;/span> max(missed, dp[nums[left&lt;span style="color:#f92672">++&lt;/span>]]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> dp[nums[right]] &lt;span style="color:#f92672">=&lt;/span> right &lt;span style="color:#f92672">-&lt;/span> left &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> right&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right &lt;span style="color:#f92672">-&lt;/span> left &lt;span style="color:#f92672">+&lt;/span> missed);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 2271. Maximum White Tiles Covered by a Carpet</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2271/</link><pubDate>Wed, 02 Nov 2022 02:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2271/</guid><description>&lt;ul>
&lt;li>這一題困難的部分在於計算 windows size&lt;/li>
&lt;li>我的作法是根據 &lt;code>startPos + i&lt;/code> 來計算左指針，左指針位置會在 &lt;code>startPos - max(k - 2*i, (k - i) / 2)&lt;/code>，也就是算出左邊來回或是右邊來回兩種情況下， windowSize 最大的可能。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> maxTotalFruits(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;gt;&amp;amp;&lt;/span> fruits, &lt;span style="color:#66d9ef">int&lt;/span> startPos, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sort(fruits.begin(), fruits.end());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> j &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (j &lt;span style="color:#f92672">&amp;lt;&lt;/span> fruits.size() &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> fruits[j][&lt;span style="color:#ae81ff">0&lt;/span>] &lt;span style="color:#f92672">&amp;lt;&lt;/span> startPos &lt;span style="color:#f92672">-&lt;/span> k) j&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> u &lt;span style="color:#f92672">=&lt;/span> j;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> startPos &lt;span style="color:#f92672">-&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;=&lt;/span> startPos &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> j &lt;span style="color:#f92672">&amp;lt;&lt;/span> fruits.size(); i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (fruits[j][&lt;span style="color:#ae81ff">0&lt;/span>] &lt;span style="color:#f92672">==&lt;/span> i) curr &lt;span style="color:#f92672">+=&lt;/span> fruits[j&lt;span style="color:#f92672">++&lt;/span>][&lt;span style="color:#ae81ff">1&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (j &lt;span style="color:#f92672">==&lt;/span> fruits.size()) &lt;span style="color:#66d9ef">return&lt;/span> curr;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> curr;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> startPos &lt;span style="color:#f92672">-&lt;/span> k;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;=&lt;/span> k &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> j &lt;span style="color:#f92672">&amp;lt;&lt;/span> fruits.size(); i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> right &lt;span style="color:#f92672">=&lt;/span> startPos &lt;span style="color:#f92672">+&lt;/span> i;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> pos &lt;span style="color:#f92672">=&lt;/span> startPos &lt;span style="color:#f92672">-&lt;/span> max(k &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span>&lt;span style="color:#f92672">*&lt;/span>i, (k &lt;span style="color:#f92672">-&lt;/span> i)&lt;span style="color:#f92672">/&lt;/span>&lt;span style="color:#ae81ff">2&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (fruits[j][&lt;span style="color:#ae81ff">0&lt;/span>] &lt;span style="color:#f92672">==&lt;/span> right) curr &lt;span style="color:#f92672">+=&lt;/span> fruits[j&lt;span style="color:#f92672">++&lt;/span>][&lt;span style="color:#ae81ff">1&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (left &lt;span style="color:#f92672">&amp;lt;&lt;/span> pos) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (fruits[u][&lt;span style="color:#ae81ff">0&lt;/span>] &lt;span style="color:#f92672">==&lt;/span> left&lt;span style="color:#f92672">++&lt;/span>) curr &lt;span style="color:#f92672">-=&lt;/span> fruits[u&lt;span style="color:#f92672">++&lt;/span>][&lt;span style="color:#ae81ff">1&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, curr);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 2831. Find the Longest Equal Subarray</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2831/</link><pubDate>Wed, 02 Nov 2022 01:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2831/</guid><description>&lt;ul>
&lt;li>這一題是求 maxcnt 而不是求 window size&lt;/li>
&lt;li>condition 是 &lt;code>window_size - maxcnt &amp;gt; k&lt;/code>&lt;/li>
&lt;li>接著套不定長 sliding window。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> longestEqualSubarray(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> maxcnt &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> cnt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> num &lt;span style="color:#f92672">=&lt;/span> nums[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> maxcnt &lt;span style="color:#f92672">=&lt;/span> max(maxcnt, &lt;span style="color:#f92672">++&lt;/span>cnt[num]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right&lt;span style="color:#f92672">-&lt;/span>left&lt;span style="color:#f92672">-&lt;/span>maxcnt &lt;span style="color:#f92672">&amp;gt;&lt;/span> k) cnt[nums[left&lt;span style="color:#f92672">++&lt;/span>]]&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, maxcnt);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 2516. Take K of Each Character From Left and Right</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2516/</link><pubDate>Wed, 02 Nov 2022 00:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2516/</guid><description>&lt;ul>
&lt;li>這題同樣是經典的 sliding window，可參考 &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1658">1658&lt;/a>，同樣是頭尾求最短轉換成求最長 window 的題型。&lt;/li>
&lt;li>接著套不定長 sliding window。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> takeCharacters(string s, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 先檢驗題目本身有沒有可能符合，因為 s 至少要 3 * k 才可能有解
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> need &lt;span style="color:#f92672">=&lt;/span> k &lt;span style="color:#f92672">*&lt;/span> &lt;span style="color:#ae81ff">3&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> s.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (n &lt;span style="color:#f92672">&amp;lt;&lt;/span> need) &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> cnt[&lt;span style="color:#ae81ff">3&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> memset(cnt, &lt;span style="color:#ae81ff">0&lt;/span>, &lt;span style="color:#66d9ef">sizeof&lt;/span>(cnt));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#66d9ef">auto&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> c : s) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cnt[c&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>]&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 檢查各字元是否至少有 k 個
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#ae81ff">3&lt;/span>; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (cnt[i] &lt;span style="color:#f92672">&amp;lt;&lt;/span> k) &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cnt[i] &lt;span style="color:#f92672">-=&lt;/span> k;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 如果都符合，字串長度又剛好等於 need，那必定是整個 string 都需要
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span> (n &lt;span style="color:#f92672">==&lt;/span> need) &lt;span style="color:#66d9ef">return&lt;/span> n;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 剩下的就是經典的 sliding window，滑起來就是了
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> curr[&lt;span style="color:#ae81ff">3&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> memset(curr, &lt;span style="color:#ae81ff">0&lt;/span>, &lt;span style="color:#66d9ef">sizeof&lt;/span>(curr));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">char&lt;/span> c &lt;span style="color:#f92672">=&lt;/span> s[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr[c&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>]&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (curr[c&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>] &lt;span style="color:#f92672">&amp;gt;&lt;/span> cnt[c&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>]) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr[s[left&lt;span style="color:#f92672">++&lt;/span>]&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>]&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right&lt;span style="color:#f92672">-&lt;/span>left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 注意要還原
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">return&lt;/span> n &lt;span style="color:#f92672">-&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 1658. Minimum Operations to Reduce X to Zero</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1658/</link><pubDate>Tue, 01 Nov 2022 23:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1658/</guid><description>&lt;ul>
&lt;li>這一是經典的頭尾相連問題，可以透過透過以下手法換轉成簡單的 sliding window
&lt;ul>
&lt;li>find &lt;code>head + tail = x&lt;/code>&lt;/li>
&lt;li>let &lt;code>head + body + tail == total&lt;/code>&lt;/li>
&lt;li>the problem becomes FIND &lt;code>body = total - x&lt;/code>，問題從求最短頭+尾 變成 最長 window&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>套不定長 sliding window。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> minOperations(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> x) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> total &lt;span style="color:#f92672">=&lt;/span> accumulate(nums.begin(), nums.end(), &lt;span style="color:#ae81ff">0&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> target &lt;span style="color:#f92672">=&lt;/span> total &lt;span style="color:#f92672">-&lt;/span> x;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>, n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (target &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; &lt;span style="color:#75715e">// 注意要處理 boundary condition
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">+=&lt;/span> nums[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (curr &lt;span style="color:#f92672">&amp;gt;&lt;/span> target &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> left &lt;span style="color:#f92672">&amp;lt;&lt;/span> right) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">-=&lt;/span> nums[left&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (curr &lt;span style="color:#f92672">==&lt;/span> target) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right&lt;span style="color:#f92672">-&lt;/span>left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">?&lt;/span> &lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">:&lt;/span> n &lt;span style="color:#f92672">-&lt;/span> res; &lt;span style="color:#75715e">// 最後要將長度轉回來
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 1838. Frequency of the Most Frequent Element</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1838/</link><pubDate>Tue, 01 Nov 2022 23:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1838/</guid><description>&lt;ul>
&lt;li>這題同樣是經典的 sliding window，經排序過後，我們可以透過 &lt;code>len * max_element_in_window - accumulate_in_window&lt;/code> 的方式來求 token need，&lt;/li>
&lt;li>接著套不定長 sliding window。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> maxFrequency(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sort(nums.begin(), nums.end());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">long&lt;/span> &lt;span style="color:#66d9ef">long&lt;/span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> num &lt;span style="color:#f92672">=&lt;/span> nums[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">+=&lt;/span> num;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> ((&lt;span style="color:#66d9ef">long&lt;/span> &lt;span style="color:#66d9ef">long&lt;/span>)(right&lt;span style="color:#f92672">-&lt;/span>left) &lt;span style="color:#f92672">*&lt;/span> num &lt;span style="color:#f92672">-&lt;/span> curr &lt;span style="color:#f92672">&amp;gt;&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">-=&lt;/span> nums[left&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right&lt;span style="color:#f92672">-&lt;/span>left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 1004. Max Consecutive Ones III</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1004/</link><pubDate>Tue, 01 Nov 2022 22:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1004/</guid><description>&lt;ul>
&lt;li>簡單的不定長 sliding window 問題。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> longestOnes(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> cnt &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> num &lt;span style="color:#f92672">=&lt;/span> nums[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (cnt &lt;span style="color:#f92672">==&lt;/span> k &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> num &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (nums[left&lt;span style="color:#f92672">++&lt;/span>] &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) cnt&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (num &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) cnt&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right&lt;span style="color:#f92672">-&lt;/span>left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 2024. Maximize the Confusion of an Exam</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2024/</link><pubDate>Tue, 01 Nov 2022 21:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2024/</guid><description>&lt;ul>
&lt;li>簡單的不定長 sliding window 問題, 正反各做一遍即可。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> maxConsecutiveAnswersWith(string keys, &lt;span style="color:#66d9ef">int&lt;/span> k, &lt;span style="color:#66d9ef">char&lt;/span> c) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, n &lt;span style="color:#f92672">=&lt;/span> keys.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> cnt &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">char&lt;/span> key &lt;span style="color:#f92672">=&lt;/span> keys[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (key &lt;span style="color:#f92672">==&lt;/span> c &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> cnt &lt;span style="color:#f92672">==&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (keys[left&lt;span style="color:#f92672">++&lt;/span>] &lt;span style="color:#f92672">==&lt;/span> c) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cnt&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (key &lt;span style="color:#f92672">==&lt;/span> c) cnt&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right&lt;span style="color:#f92672">-&lt;/span>left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> maxConsecutiveAnswers(string answerKey, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">max&lt;/span>(maxConsecutiveAnswersWith(answerKey, k, &lt;span style="color:#e6db74">&amp;#39;T&amp;#39;&lt;/span>),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> maxConsecutiveAnswersWith(answerKey, k, &lt;span style="color:#e6db74">&amp;#39;F&amp;#39;&lt;/span>));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 20. Valid Parentheses</title><link>https://intervalrain.github.io/leetcode/20/</link><pubDate>Tue, 01 Nov 2022 20:51:49 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/20/</guid><description>&lt;p>&lt;strong>20. Valid Parentheses&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>String&lt;/code>、&lt;code>Stack&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given a string &lt;code>s&lt;/code> containing just the characters &lt;code>(&lt;/code>, &lt;code>)&lt;/code>, &lt;code>{&lt;/code>, &lt;code>}&lt;/code>, &lt;code>[&lt;/code> and &lt;code>]&lt;/code>, determine if the input string is valid.&lt;br>
An input string is valid if:&lt;/p>
&lt;ol>
&lt;li>Open brackets must be closed by the same type of brackets.&lt;/li>
&lt;li>Open brackets must be closed in the correct order.&lt;/li>
&lt;li>Every close bracket has a corresponding open bracket of the same type.&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2779. Maximum Beauty of an Array After Applying Operation</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2779/</link><pubDate>Tue, 01 Nov 2022 20:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2779/</guid><description>&lt;ul>
&lt;li>將陣列經過排序後，就變成一個簡單的 sliding window 問題&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> maximumBeauty(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sort(nums.begin(), nums.end());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> num &lt;span style="color:#f92672">=&lt;/span> nums[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (num &lt;span style="color:#f92672">-&lt;/span> nums[left] &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">*&lt;/span> k) left&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right &lt;span style="color:#f92672">-&lt;/span> left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 2958. Length of Longest Subarray With at Most K Frequency</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2958/</link><pubDate>Tue, 01 Nov 2022 20:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2958/</guid><description>&lt;ul>
&lt;li>套不定長的 Sliding Window pattern&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">IWindow&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> add(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">check&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#f92672">~&lt;/span>IWindow() {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Window&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">public&lt;/span> IWindow {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> _t;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> _map;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Window(&lt;span style="color:#66d9ef">int&lt;/span> threshold)&lt;span style="color:#f92672">:&lt;/span> _t(threshold) {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _map[num]&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _map[num]&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">check&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> _map[num] &lt;span style="color:#f92672">==&lt;/span> _t;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unique_ptr&lt;span style="color:#f92672">&amp;lt;&lt;/span>IWindow&lt;span style="color:#f92672">&amp;gt;&lt;/span> _w;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> maxSubarrayLength(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w &lt;span style="color:#f92672">=&lt;/span> make_unique&lt;span style="color:#f92672">&amp;lt;&lt;/span>Window&lt;span style="color:#f92672">&amp;gt;&lt;/span>(k);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> num &lt;span style="color:#f92672">=&lt;/span> nums[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (_w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>check(num)) _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>erase(nums[left&lt;span style="color:#f92672">++&lt;/span>]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>add(num);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right&lt;span style="color:#f92672">-&lt;/span>left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>不囉嗦版&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> cnt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> maxSubarrayLength(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size(), left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> num &lt;span style="color:#f92672">=&lt;/span> nums[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (cnt[num] &lt;span style="color:#f92672">==&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cnt[nums[left&lt;span style="color:#f92672">++&lt;/span>]]&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cnt[num]&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right &lt;span style="color:#f92672">-&lt;/span> left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 1706. Where Will the Ball Fall</title><link>https://intervalrain.github.io/leetcode/1706/</link><pubDate>Tue, 01 Nov 2022 19:02:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/1706/</guid><description>&lt;p>&lt;strong>1706. Where Will the Ball Fall&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Dynamic Programming&lt;/code>、&lt;code>Depth-First Search&lt;/code>、&lt;code>Matrix&lt;/code>、&lt;code>Simulation&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You have a 2-D &lt;code>grid&lt;/code> of size &lt;code>m x n&lt;/code> representing a box, and you have &lt;code>n&lt;/code> balls. The box is open on the top and bottom sides.&lt;br>
Each cell in the box has a diagonal board spanning two corners of the cell that can redirect a ball to the right or to the left.&lt;/p>
&lt;ul>
&lt;li>A board that redirects the ball to the right spans the top-left corner to the bottom-right corner and is represented in the grid as &lt;code>1&lt;/code>.&lt;/li>
&lt;li>A board that redirects the ball to the left spans the top-right corner to the bottom-left corner and is represented in the grid as &lt;code>-1&lt;/code>.&lt;br>
We drop one ball at the top of each column of the box. Each ball can get stuck in the box or fall out of the bottom. A ball get stuck if it hits a &amp;ldquo;V&amp;rdquo; shaped pattern between two boards or if a board redirects the ball into either wall of the box.&lt;br>
Return &lt;em>an array&lt;/em> &lt;code>answer&lt;/code> &lt;em>of size&lt;/em> &lt;code>n&lt;/code> &lt;em>where&lt;/em> &lt;code>answer[i]&lt;/code> &lt;em>is the column that the ball falls out of at the bottom after dropping the ball from the&lt;/em> &lt;code>ith&lt;/code> &lt;em>column at the top, or&lt;/em> &lt;code>-1&lt;/code> &lt;em>if the ball gets stuck in the box.&lt;/em>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;br>
&lt;img alt="ball" loading="lazy" src="https://assets.leetcode.com/uploads/2019/09/26/ball.jpg">&lt;/p></description></item><item><title>[LeetCode] 1695. Maximum Erasure Value</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1695/</link><pubDate>Tue, 01 Nov 2022 19:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1695/</guid><description>&lt;ul>
&lt;li>套不定長的 Sliding Window pattern&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">IWindow&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> add(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">check&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">sum&lt;/span>() &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#f92672">~&lt;/span>IWindow() {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Window&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">public&lt;/span> IWindow {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> _cnt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> add(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">+=&lt;/span> num;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _cnt[num]&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">-=&lt;/span> num;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _cnt[num]&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">check&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> _cnt[num] &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">sum&lt;/span>() &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> curr;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unique_ptr&lt;span style="color:#f92672">&amp;lt;&lt;/span>IWindow&lt;span style="color:#f92672">&amp;gt;&lt;/span> _w;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Solution()&lt;span style="color:#f92672">:&lt;/span> _w(make_unique&lt;span style="color:#f92672">&amp;lt;&lt;/span>Window&lt;span style="color:#f92672">&amp;gt;&lt;/span>()) {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">maximumUniqueSubarray&lt;/span>(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> map;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> num &lt;span style="color:#f92672">=&lt;/span> nums[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (_w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>check(num)) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>erase(nums[left&lt;span style="color:#f92672">++&lt;/span>]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>add(num);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>sum());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>不囉嗦版&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> maximumUniqueSubarray(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> map;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> num &lt;span style="color:#f92672">=&lt;/span> nums[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (map[num] &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> num2 &lt;span style="color:#f92672">=&lt;/span> nums[left&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> map[num2]&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">-=&lt;/span> num2;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> map[num]&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">+=&lt;/span> num;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, curr);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 904. Fruit Into Baskets</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/904/</link><pubDate>Tue, 01 Nov 2022 18:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/904/</guid><description>&lt;ul>
&lt;li>套不定長的 Sliding Window pattern&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">IWindow&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> add(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">check&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#f92672">~&lt;/span>IWindow() {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Window&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">public&lt;/span> IWindow {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> _types;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> _map;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> _curr;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Window(&lt;span style="color:#66d9ef">int&lt;/span> types)&lt;span style="color:#f92672">:&lt;/span> _types(types) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (_map[num]&lt;span style="color:#f92672">++&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _curr&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#f92672">--&lt;/span>_map[num] &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _map.erase(num);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _curr&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">check&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#f92672">!&lt;/span>_map.count(num) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> _curr &lt;span style="color:#f92672">==&lt;/span> _types;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unique_ptr&lt;span style="color:#f92672">&amp;lt;&lt;/span>IWindow&lt;span style="color:#f92672">&amp;gt;&lt;/span> _w;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Solution()&lt;span style="color:#f92672">:&lt;/span> _w(make_unique&lt;span style="color:#f92672">&amp;lt;&lt;/span>Window&lt;span style="color:#f92672">&amp;gt;&lt;/span>(&lt;span style="color:#ae81ff">2&lt;/span>)) {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">totalFruit&lt;/span>(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> fruits) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> fruits.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> num &lt;span style="color:#f92672">=&lt;/span> fruits[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (_w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>check(num)) _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>erase(fruits[left&lt;span style="color:#f92672">++&lt;/span>]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>add(num);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right&lt;span style="color:#f92672">-&lt;/span>left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>不囉嗦版&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> totalFruit(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> fruits) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> fruits.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> map;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> num &lt;span style="color:#f92672">=&lt;/span> fruits[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (curr &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#f92672">!&lt;/span>map.count(num)) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> num2 &lt;span style="color:#f92672">=&lt;/span> fruits[left&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#f92672">--&lt;/span>map[num2] &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> map.erase(num2);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (map[num]&lt;span style="color:#f92672">++&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right&lt;span style="color:#f92672">-&lt;/span>left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 2730. Find the Longest Semi-Repetitive Substring</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2730/</link><pubDate>Tue, 01 Nov 2022 17:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2730/</guid><description>&lt;ul>
&lt;li>先將 s 轉成 prefix 再套不定長的 Sliding Window 套 pattern&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> longestSemiRepetitiveSubstring(string s) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> s.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">auto&lt;/span> trans &lt;span style="color:#f92672">=&lt;/span> [&lt;span style="color:#f92672">&amp;amp;&lt;/span>](string&lt;span style="color:#f92672">&amp;amp;&lt;/span> s) &lt;span style="color:#f92672">-&amp;gt;&lt;/span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> res{&lt;span style="color:#ae81ff">0&lt;/span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res.push_back(s[i&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">==&lt;/span> s[i] &lt;span style="color:#f92672">?&lt;/span> res.back() &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">:&lt;/span> res.back());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> };
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">auto&lt;/span> nums &lt;span style="color:#f92672">=&lt;/span> trans(s);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> num &lt;span style="color:#f92672">=&lt;/span> nums[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (num &lt;span style="color:#f92672">-&lt;/span> nums[left] &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>) left&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right&lt;span style="color:#f92672">-&lt;/span>left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>不用先轉直接處理&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> longestSemiRepetitiveSubstring(string s) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> s.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">auto&lt;/span> check &lt;span style="color:#f92672">=&lt;/span> [&lt;span style="color:#f92672">&amp;amp;&lt;/span>](&lt;span style="color:#66d9ef">int&lt;/span> i) &lt;span style="color:#f92672">-&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">bool&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (i &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) &lt;span style="color:#66d9ef">return&lt;/span> false;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> s[i] &lt;span style="color:#f92672">==&lt;/span> s[i&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> };
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (check(right&lt;span style="color:#f92672">++&lt;/span>)) curr&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (curr &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (check(&lt;span style="color:#f92672">++&lt;/span>left)) curr&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right&lt;span style="color:#f92672">-&lt;/span>left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>左指針快進版&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> longestSemiRepetitiveSubstring(string s) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> s.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">auto&lt;/span> check &lt;span style="color:#f92672">=&lt;/span> [&lt;span style="color:#f92672">&amp;amp;&lt;/span>](&lt;span style="color:#66d9ef">int&lt;/span> i) &lt;span style="color:#f92672">-&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">bool&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (i &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) &lt;span style="color:#66d9ef">return&lt;/span> false;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> s[i] &lt;span style="color:#f92672">==&lt;/span> s[i&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> };
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> last &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> flag &lt;span style="color:#f92672">=&lt;/span> check(right&lt;span style="color:#f92672">++&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (flag) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> left &lt;span style="color:#f92672">=&lt;/span> last;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> last &lt;span style="color:#f92672">=&lt;/span> right&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right&lt;span style="color:#f92672">-&lt;/span>left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 1208. Get Equal Substrings Within Budget</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1208/</link><pubDate>Tue, 01 Nov 2022 16:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1208/</guid><description>&lt;ul>
&lt;li>不定長的 Sliding Window 套 pattern&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">IWindow&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> add(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">check&lt;/span>() &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#f92672">~&lt;/span>IWindow() {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Window&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">public&lt;/span> IWindow {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> _maxCost;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> _curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Window(&lt;span style="color:#66d9ef">int&lt;/span> maxCost)&lt;span style="color:#f92672">:&lt;/span> _maxCost(maxCost) {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _curr &lt;span style="color:#f92672">+=&lt;/span> num;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _curr &lt;span style="color:#f92672">-=&lt;/span> num;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">check&lt;/span>() &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> _curr &lt;span style="color:#f92672">&amp;gt;&lt;/span> _maxCost;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unique_ptr&lt;span style="color:#f92672">&amp;lt;&lt;/span>IWindow&lt;span style="color:#f92672">&amp;gt;&lt;/span> _w;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> equalSubstring(string s, string t, &lt;span style="color:#66d9ef">int&lt;/span> maxCost) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">auto&lt;/span> nums &lt;span style="color:#f92672">=&lt;/span> [&lt;span style="color:#f92672">&amp;amp;&lt;/span>](&lt;span style="color:#66d9ef">int&lt;/span> i) &lt;span style="color:#f92672">-&amp;gt;&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">abs&lt;/span>(s[i] &lt;span style="color:#f92672">-&lt;/span> t[i]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> };
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w &lt;span style="color:#f92672">=&lt;/span> make_unique&lt;span style="color:#f92672">&amp;lt;&lt;/span>Window&lt;span style="color:#f92672">&amp;gt;&lt;/span>(maxCost);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> s.size(), left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>add(nums(right&lt;span style="color:#f92672">++&lt;/span>));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (_w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>check()) _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>erase(nums(left&lt;span style="color:#f92672">++&lt;/span>));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right &lt;span style="color:#f92672">-&lt;/span> left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>簡易版&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> equalSubstring(string s, string t, &lt;span style="color:#66d9ef">int&lt;/span> maxCost) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> s.size(), left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">+=&lt;/span> abs(s[right] &lt;span style="color:#f92672">-&lt;/span> t[right]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> right&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (curr &lt;span style="color:#f92672">&amp;gt;&lt;/span> maxCost) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">-=&lt;/span> abs(s[left] &lt;span style="color:#f92672">-&lt;/span> t[left]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> left&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right &lt;span style="color:#f92672">-&lt;/span> left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 1493. Longest Subarray of 1's After Deleting One Element</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1493/</link><pubDate>Tue, 01 Nov 2022 15:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1493/</guid><description>&lt;ul>
&lt;li>不定長的 Sliding Window 套 pattern&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">IWindow&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> add(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">check&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#f92672">~&lt;/span>IWindow() {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Window&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">public&lt;/span> IWindow {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> cnt &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Window() {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (num &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) cnt&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (num &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) cnt&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">check&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> num &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> cnt &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unique_ptr&lt;span style="color:#f92672">&amp;lt;&lt;/span>IWindow&lt;span style="color:#f92672">&amp;gt;&lt;/span> _w;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Solution()&lt;span style="color:#f92672">:&lt;/span> _w(make_unique&lt;span style="color:#f92672">&amp;lt;&lt;/span>Window&lt;span style="color:#f92672">&amp;gt;&lt;/span>()) {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">longestSubarray&lt;/span>(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size(), left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> num &lt;span style="color:#f92672">=&lt;/span> nums[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (_w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>check(num)) _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>erase(nums[left&lt;span style="color:#f92672">++&lt;/span>]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>add(num);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right&lt;span style="color:#f92672">-&lt;/span>left&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>但其實在 check &amp;amp; 移動左指標這一步可以做優化，左指標可以透過記錄一下一個合法的位置來快速移動。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> last &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> longestSubarray(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size(), left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> num &lt;span style="color:#f92672">=&lt;/span> nums[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (num &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> left &lt;span style="color:#f92672">=&lt;/span> last;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> last &lt;span style="color:#f92672">=&lt;/span> right;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right&lt;span style="color:#f92672">-&lt;/span>left&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 3. Longest Substring Without Repeating Characters</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/3/</link><pubDate>Tue, 01 Nov 2022 14:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/3/</guid><description>&lt;ul>
&lt;li>不定長的 Sliding Window 的 pattern 如下&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Window&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> add(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">find&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#f92672">~&lt;/span>Window() {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Bucket&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">public&lt;/span> Window {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>c
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> _bucketSize;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> _valueDiff;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">index&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> num &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">?&lt;/span> (num &lt;span style="color:#f92672">-&lt;/span> _valueDiff) &lt;span style="color:#f92672">/&lt;/span> _bucketSize
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> : num &lt;span style="color:#f92672">/&lt;/span> _bucketSize;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> _map;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Bucket(&lt;span style="color:#66d9ef">int&lt;/span> valueDiff)&lt;span style="color:#f92672">:&lt;/span> _valueDiff(valueDiff), _bucketSize(valueDiff &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>) {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> idx &lt;span style="color:#f92672">=&lt;/span> index(num);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _map[idx] &lt;span style="color:#f92672">=&lt;/span> num;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> idx &lt;span style="color:#f92672">=&lt;/span> index(num);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _map.erase(idx);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">find&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> idx &lt;span style="color:#f92672">=&lt;/span> index(num);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> _map.count(idx) &lt;span style="color:#f92672">||&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> (_map.count(idx&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> num &lt;span style="color:#f92672">-&lt;/span> _map[idx&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">&amp;lt;=&lt;/span> _valueDiff) &lt;span style="color:#f92672">||&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> (_map.count(idx&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> _map[idx&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">-&lt;/span> num &lt;span style="color:#f92672">&amp;lt;=&lt;/span> _valueDiff);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unique_ptr&lt;span style="color:#f92672">&amp;lt;&lt;/span>Window&lt;span style="color:#f92672">&amp;gt;&lt;/span> _w;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> containsNearbyAlmostDuplicate(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> indexDiff, &lt;span style="color:#66d9ef">int&lt;/span> valueDiff) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> k &lt;span style="color:#f92672">=&lt;/span> indexDiff &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w &lt;span style="color:#f92672">=&lt;/span> make_unique&lt;span style="color:#f92672">&amp;lt;&lt;/span>Bucket&lt;span style="color:#f92672">&amp;gt;&lt;/span>(valueDiff);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (_w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>find(nums[i])) &lt;span style="color:#66d9ef">return&lt;/span> true;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>add(nums[i]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>erase(nums[i&lt;span style="color:#f92672">-&lt;/span>k]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (_w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>find(nums[i])) &lt;span style="color:#66d9ef">return&lt;/span> true;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>add(nums[i]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> false;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>沒有抽象化的 code&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> containsNearbyAlmostDuplicate(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k, &lt;span style="color:#66d9ef">int&lt;/span> t) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> map;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> k&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> idxin &lt;span style="color:#f92672">=&lt;/span> nums[i] &lt;span style="color:#f92672">/&lt;/span> (t&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (nums[i] &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) idxin&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (i &lt;span style="color:#f92672">&amp;gt;=&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> idxout &lt;span style="color:#f92672">=&lt;/span> nums[i&lt;span style="color:#f92672">-&lt;/span>k] &lt;span style="color:#f92672">/&lt;/span> (t&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (nums[i&lt;span style="color:#f92672">-&lt;/span>k] &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) idxout&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> map.erase(idxout);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (map.count(idxin) &lt;span style="color:#f92672">||&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> (map.count(idxin&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> nums[i] &lt;span style="color:#f92672">-&lt;/span> map[idxin&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">&amp;lt;=&lt;/span> t) &lt;span style="color:#f92672">||&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> (map.count(idxin&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> map[idxin&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">-&lt;/span> nums[i] &lt;span style="color:#f92672">&amp;lt;=&lt;/span> t)) &lt;span style="color:#66d9ef">return&lt;/span> true;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> map[idxin] &lt;span style="color:#f92672">=&lt;/span> nums[i];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> false;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 3090. Maximum Length Substring With Two Occurrences</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/3090/</link><pubDate>Tue, 01 Nov 2022 14:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/3090/</guid><description>&lt;ul>
&lt;li>不定長的 Sliding Window 套 pattern&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">IWindow&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> add(&lt;span style="color:#66d9ef">char&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> c) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">char&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> c) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">check&lt;/span>(&lt;span style="color:#66d9ef">char&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> c) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#f92672">~&lt;/span>IWindow() {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Window&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">public&lt;/span> IWindow{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> cnt[&lt;span style="color:#ae81ff">26&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Window() {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> memset(cnt, &lt;span style="color:#ae81ff">0&lt;/span>, &lt;span style="color:#66d9ef">sizeof&lt;/span>(cnt));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span>(&lt;span style="color:#66d9ef">char&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> c) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cnt[c&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>]&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">char&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> c) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cnt[c&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>]&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">check&lt;/span>(&lt;span style="color:#66d9ef">char&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> c) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> cnt[c&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>] &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unique_ptr&lt;span style="color:#f92672">&amp;lt;&lt;/span>IWindow&lt;span style="color:#f92672">&amp;gt;&lt;/span> _w;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Solution()&lt;span style="color:#f92672">:&lt;/span> _w(make_unique&lt;span style="color:#f92672">&amp;lt;&lt;/span>Window&lt;span style="color:#f92672">&amp;gt;&lt;/span>()) {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">maximumLengthSubstring&lt;/span>(string s) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> s.size(), left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">char&lt;/span> c &lt;span style="color:#f92672">=&lt;/span> s[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (_w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>check(c)) _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>erase(s[left&lt;span style="color:#f92672">++&lt;/span>]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>add(c);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right&lt;span style="color:#f92672">-&lt;/span>left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 不定長 Sliding Window Pattern</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/pattern_2/</link><pubDate>Tue, 01 Nov 2022 14:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/pattern_2/</guid><description>&lt;ul>
&lt;li>不定長度的 sliding window pattern&lt;/li>
&lt;li>步驟 &lt;br>
move sliding window&lt;br>
(1) 滑動左指標直到 window 有效
(2) 加入右指標
(3) 更新&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Window&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> add(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">check&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#f92672">~&lt;/span>Window() {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unique_ptr&lt;span style="color:#f92672">&amp;lt;&lt;/span>Window&lt;span style="color:#f92672">&amp;gt;&lt;/span> _w;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Solution()&lt;span style="color:#f92672">:&lt;/span> _w() {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">solve&lt;/span>(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w &lt;span style="color:#f92672">=&lt;/span> make_unique&lt;span style="color:#f92672">&amp;lt;&lt;/span>WindowImpl&lt;span style="color:#f92672">&amp;gt;&lt;/span>(k);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> len &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size(), left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, right &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (right &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> num &lt;span style="color:#f92672">=&lt;/span> nums[right&lt;span style="color:#f92672">++&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (_w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>check(num)) _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>erase(nums[left&lt;span style="color:#f92672">++&lt;/span>]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>add(num);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, right&lt;span style="color:#f92672">-&lt;/span>left);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> len;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 220. Contains Duplicate III</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/220/</link><pubDate>Tue, 01 Nov 2022 13:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/220/</guid><description>&lt;ul>
&lt;li>這是一題是很有趣的一題，會用到 bucket sort 結合 sliding window，時間複雜度是 \(O(n)\)&lt;/li>
&lt;li>我把 sliding window 的部分拆分開來，讓邏輯更清楚。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Window&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> add(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">find&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#f92672">~&lt;/span>Window() {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Bucket&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">public&lt;/span> Window {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>c
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> _bucketSize;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> _valueDiff;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">index&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> num &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">?&lt;/span> (num &lt;span style="color:#f92672">-&lt;/span> _valueDiff) &lt;span style="color:#f92672">/&lt;/span> _bucketSize
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> : num &lt;span style="color:#f92672">/&lt;/span> _bucketSize;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> _map;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Bucket(&lt;span style="color:#66d9ef">int&lt;/span> valueDiff)&lt;span style="color:#f92672">:&lt;/span> _valueDiff(valueDiff), _bucketSize(valueDiff &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>) {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> idx &lt;span style="color:#f92672">=&lt;/span> index(num);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _map[idx] &lt;span style="color:#f92672">=&lt;/span> num;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> idx &lt;span style="color:#f92672">=&lt;/span> index(num);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _map.erase(idx);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">find&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> idx &lt;span style="color:#f92672">=&lt;/span> index(num);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> _map.count(idx) &lt;span style="color:#f92672">||&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> (_map.count(idx&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> num &lt;span style="color:#f92672">-&lt;/span> _map[idx&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">&amp;lt;=&lt;/span> _valueDiff) &lt;span style="color:#f92672">||&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> (_map.count(idx&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> _map[idx&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">-&lt;/span> num &lt;span style="color:#f92672">&amp;lt;=&lt;/span> _valueDiff);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unique_ptr&lt;span style="color:#f92672">&amp;lt;&lt;/span>Window&lt;span style="color:#f92672">&amp;gt;&lt;/span> _w;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> containsNearbyAlmostDuplicate(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> indexDiff, &lt;span style="color:#66d9ef">int&lt;/span> valueDiff) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> k &lt;span style="color:#f92672">=&lt;/span> indexDiff &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w &lt;span style="color:#f92672">=&lt;/span> make_unique&lt;span style="color:#f92672">&amp;lt;&lt;/span>Bucket&lt;span style="color:#f92672">&amp;gt;&lt;/span>(valueDiff);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (_w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>find(nums[i])) &lt;span style="color:#66d9ef">return&lt;/span> true;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>add(nums[i]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>erase(nums[i&lt;span style="color:#f92672">-&lt;/span>k]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (_w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>find(nums[i])) &lt;span style="color:#66d9ef">return&lt;/span> true;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>add(nums[i]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> false;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>沒有抽象化的 code&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> containsNearbyAlmostDuplicate(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k, &lt;span style="color:#66d9ef">int&lt;/span> t) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> map;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> k&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> idxin &lt;span style="color:#f92672">=&lt;/span> nums[i] &lt;span style="color:#f92672">/&lt;/span> (t&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (nums[i] &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) idxin&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (i &lt;span style="color:#f92672">&amp;gt;=&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> idxout &lt;span style="color:#f92672">=&lt;/span> nums[i&lt;span style="color:#f92672">-&lt;/span>k] &lt;span style="color:#f92672">/&lt;/span> (t&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (nums[i&lt;span style="color:#f92672">-&lt;/span>k] &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) idxout&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> map.erase(idxout);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (map.count(idxin) &lt;span style="color:#f92672">||&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> (map.count(idxin&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> nums[i] &lt;span style="color:#f92672">-&lt;/span> map[idxin&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">&amp;lt;=&lt;/span> t) &lt;span style="color:#f92672">||&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> (map.count(idxin&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> map[idxin&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">-&lt;/span> nums[i] &lt;span style="color:#f92672">&amp;lt;=&lt;/span> t)) &lt;span style="color:#66d9ef">return&lt;/span> true;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> map[idxin] &lt;span style="color:#f92672">=&lt;/span> nums[i];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> false;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 1984. Minimum Difference Between Highest and Lowest of K Scores</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1984/</link><pubDate>Tue, 01 Nov 2022 12:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1984/</guid><description>&lt;ul>
&lt;li>這是一題簡單的定長度 sliding window。先排序再用滑動窗口求值。時間複雜度是 \(O(n\log(n))\)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> minimumDifference(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sort(nums.begin(), nums.end());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> INT_MAX;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> nums.size() &lt;span style="color:#f92672">-&lt;/span> k &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> min(res, nums[i&lt;span style="color:#f92672">+&lt;/span>k&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>] &lt;span style="color:#f92672">-&lt;/span> nums[i]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 2269. Find the K-Beauty of a Number</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2269/</link><pubDate>Tue, 01 Nov 2022 12:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2269/</guid><description>&lt;ul>
&lt;li>這是一題簡單的定長度 sliding window。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> divisorSubstrings(&lt;span style="color:#66d9ef">int&lt;/span> num, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string s &lt;span style="color:#f92672">=&lt;/span> to_string(num);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> s.size()&lt;span style="color:#f92672">-&lt;/span>k&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> div &lt;span style="color:#f92672">=&lt;/span> stoi(s.substr(i, k));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (div &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> num &lt;span style="color:#f92672">%&lt;/span> div &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) res&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>用原本的 pattern 來做，但要注意 1e9 * 10 會爆掉，整數的範圍大概只有 2e9 (2147483647)。可改用先減再 shift 的方式處理。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> divisorSubstrings(&lt;span style="color:#66d9ef">int&lt;/span> num, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string s &lt;span style="color:#f92672">=&lt;/span> to_string(num);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> pk &lt;span style="color:#f92672">=&lt;/span> pow(&lt;span style="color:#ae81ff">10&lt;/span>, k&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">=&lt;/span> curr &lt;span style="color:#f92672">*&lt;/span> &lt;span style="color:#ae81ff">10&lt;/span> &lt;span style="color:#f92672">+&lt;/span> (s[i] &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#e6db74">&amp;#39;0&amp;#39;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (curr &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> num &lt;span style="color:#f92672">%&lt;/span> curr &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) res&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> s.size(); i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">10&lt;/span> &lt;span style="color:#f92672">*&lt;/span> (curr &lt;span style="color:#f92672">-&lt;/span> (s[i&lt;span style="color:#f92672">-&lt;/span>k] &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#e6db74">&amp;#39;0&amp;#39;&lt;/span>) &lt;span style="color:#f92672">*&lt;/span> pk) &lt;span style="color:#f92672">+&lt;/span> (s[i] &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#e6db74">&amp;#39;0&amp;#39;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (curr &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> num &lt;span style="color:#f92672">%&lt;/span> curr &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) res&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 766. Toeplitz Matrix</title><link>https://intervalrain.github.io/leetcode/766/</link><pubDate>Tue, 01 Nov 2022 00:40:55 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/766/</guid><description>&lt;p>&lt;strong>766. Toeplitz Matrix&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Matrix&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an &lt;code>m x n&lt;/code> &lt;code>matrix&lt;/code>, return &lt;em>&lt;code>true&lt;/code> if the matrix is Toeplitz. Otherwise, return &lt;code>false&lt;/code>&lt;/em>. A matrix is &lt;strong>Toeplitz&lt;/strong> if every diagonal from top-left to bottom-right has the same elements.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;br>
&lt;img alt="ex1" loading="lazy" src="https://assets.leetcode.com/uploads/2020/11/04/ex1.jpg">&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> matrix = [[1,2,3,4],[5,1,2,3],[9,5,1,2]]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> true&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong>&lt;br>
In the above grid, the diagonals are:&lt;br>
&amp;ldquo;[9]&amp;rdquo;, &amp;ldquo;[5, 5]&amp;rdquo;, &amp;ldquo;[1, 1, 1]&amp;rdquo;, &amp;ldquo;[2, 2, 2]&amp;rdquo;, &amp;ldquo;[3, 3]&amp;rdquo;, &amp;ldquo;[4]&amp;rdquo;.&lt;br>
In each diagonal all elements are the same, so the answer is True.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>
&lt;img alt="ex2" loading="lazy" src="https://assets.leetcode.com/uploads/2020/11/04/ex2.jpg">&lt;/p></description></item><item><title>[LeetCode] 1016. Binary String With Substrings Representing 1 To N</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1016/</link><pubDate>Mon, 31 Oct 2022 12:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1016/</guid><description>&lt;ul>
&lt;li>這一題是滿有趣的一題，我的靈感來自於 zkw 的線段樹(但沒有用到線段樹)。&lt;/li>
&lt;li>觀察 &lt;code>1 ~ n&lt;/code> 的樹，並將它排成 zkw 的線段樹，可以發現以下規則：
&lt;ul>
&lt;li>滿足樹的子葉，則必定可以滿足其父節點，例如：找到 &lt;code>&amp;quot;1010&amp;quot;&lt;/code>，則可以滿足 &lt;code>&amp;quot;101&amp;quot;&lt;/code>、&lt;code>&amp;quot;10&amp;quot;&lt;/code>、&lt;code>&amp;quot;1&amp;quot;&lt;/code>。&lt;/li>
&lt;li>所以可以得到一個數學結論是：我們只需要找到 &lt;code>n ~ n/2+1&lt;/code> 的數即可。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span> [&lt;span style="color:#ae81ff">1&lt;/span>] len &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> [&lt;span style="color:#ae81ff">10&lt;/span>] &lt;span style="color:#ae81ff">11&lt;/span> len &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">100&lt;/span> [&lt;span style="color:#ae81ff">101&lt;/span>] &lt;span style="color:#ae81ff">110&lt;/span> &lt;span style="color:#ae81ff">111&lt;/span> len &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">3&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">1000&lt;/span> &lt;span style="color:#ae81ff">1001&lt;/span> [&lt;span style="color:#ae81ff">1010&lt;/span>] &lt;span style="color:#ae81ff">1011&lt;/span> &lt;span style="color:#ae81ff">1100&lt;/span> &lt;span style="color:#ae81ff">1101&lt;/span> &lt;span style="color:#ae81ff">1110&lt;/span> &lt;span style="color:#ae81ff">1111&lt;/span> len &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">4&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> (&lt;span style="color:#ae81ff">8&lt;/span>) num mask
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">^&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#f92672">&amp;lt;&amp;lt;&lt;/span>&lt;span style="color:#ae81ff">3&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>solution:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> queryString(string s, &lt;span style="color:#66d9ef">int&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (n &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">1979&lt;/span>) &lt;span style="color:#66d9ef">return&lt;/span> false; &lt;span style="color:#75715e">// 剪枝：當 n 太大時必為 false, 證明在下面
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> len &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">32&lt;/span> &lt;span style="color:#f92672">-&lt;/span> __builtin_clz(n); &lt;span style="color:#75715e">// n 的位元長度
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span> (s.size() &lt;span style="color:#f92672">&amp;lt;&lt;/span> len) &lt;span style="color:#66d9ef">return&lt;/span> false; &lt;span style="color:#75715e">// s 長度連 window 都不夠時 return false
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> mask &lt;span style="color:#f92672">=&lt;/span> (&lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">&amp;lt;&amp;lt;&lt;/span> len) &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>; &lt;span style="color:#75715e">// 遮罩 用來控制 window 長度
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> unordered_set&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> seen; &lt;span style="color:#75715e">// 用來記錄數字是否出現過
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> valid &lt;span style="color:#f92672">=&lt;/span> n &lt;span style="color:#f92672">-&lt;/span> n&lt;span style="color:#f92672">/&lt;/span>&lt;span style="color:#ae81ff">2&lt;/span>; &lt;span style="color:#75715e">// 總共需要收集到的數目
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// init
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> len; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">=&lt;/span> ((curr &lt;span style="color:#f92672">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">|&lt;/span> (s[i] &lt;span style="color:#f92672">&amp;amp;&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (curr &lt;span style="color:#f92672">&amp;lt;=&lt;/span> n &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> curr &lt;span style="color:#f92672">&amp;gt;&lt;/span> n&lt;span style="color:#f92672">/&lt;/span>&lt;span style="color:#ae81ff">2&lt;/span>) seen.insert(curr);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (seen.size() &lt;span style="color:#f92672">==&lt;/span> valid) &lt;span style="color:#66d9ef">return&lt;/span> true;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// rolling
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> len; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> s.size(); i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">=&lt;/span> ((curr &lt;span style="color:#f92672">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">|&lt;/span> (s[i] &lt;span style="color:#f92672">&amp;amp;&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>)) &lt;span style="color:#f92672">&amp;amp;&lt;/span> mask;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (curr &lt;span style="color:#f92672">&amp;lt;=&lt;/span> n &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> curr &lt;span style="color:#f92672">&amp;gt;&lt;/span> n&lt;span style="color:#f92672">/&lt;/span>&lt;span style="color:#ae81ff">2&lt;/span>) seen.insert(curr);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (seen.size() &lt;span style="color:#f92672">==&lt;/span> valid) &lt;span style="color:#66d9ef">return&lt;/span> true;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> false;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>剪枝的證明：
我來說明 1979 這個臨界值的計算過程：&lt;/li>
&lt;/ul>
&lt;p>當字串長度 = 1000 時，我們需要找到滿足以下條件的最大 n：&lt;/p></description></item><item><title>[LeetCode] 19. Remove Nth Node From End of List</title><link>https://intervalrain.github.io/leetcode/19/</link><pubDate>Mon, 31 Oct 2022 00:05:10 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/19/</guid><description>&lt;p>&lt;strong>19. Remove Nth Node From End of List&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Linked List&lt;/code>、&lt;code>Two Pointers&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given the &lt;code>head&lt;/code> of a linked list, remove the &lt;code>nth&lt;/code> node from the end of the list and return its head.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;br>
&lt;img alt="remove_ex1" loading="lazy" src="https://assets.leetcode.com/uploads/2020/10/03/remove_ex1.jpg">&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> head = [1,2,3,4,5], n = 2&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [1,2,3,5]&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> head = [1], n = 1&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> []&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 3:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> head = [1,2], n = 1&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [1]&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Constraints:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 1293. Shortest Path in a Grid with Obstacles Elimination</title><link>https://intervalrain.github.io/leetcode/1293/</link><pubDate>Sun, 30 Oct 2022 21:29:37 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/1293/</guid><description>&lt;p>&lt;strong>1293. Shortest Path in a Grid with Obstacles Elimination&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Breadth-First Search&lt;/code>、&lt;code>Matrix&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given an &lt;code>m x n&lt;/code> integer matrix &lt;code>grid&lt;/code> where each cell is either &lt;code>0&lt;/code> (empty) or &lt;code>1&lt;/code> (obstacles). You can move up, down, left, or right from and to an empty cell in &lt;strong>one step&lt;/strong>.&lt;br>
Return &lt;em>the minimum number of&lt;/em> &lt;em>&lt;strong>steps&lt;/strong>&lt;/em> &lt;em>to walk from the upper left corner&lt;/em> &lt;code>(0, 0)&lt;/code> &lt;em>to the lower right conrer&lt;/em> &lt;code>m-1, n-1&lt;/code> &lt;em>given that you can eliminate&lt;/em> &lt;em>&lt;strong>at most&lt;/strong>&lt;/em> &lt;code>k&lt;/code> &lt;em>obstacles&lt;/em>. If it is not possible to find such walk return &lt;code>-1&lt;/code>.&lt;/p></description></item><item><title>[LeetCode] 2953. Count Complete Substrings</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2953/</link><pubDate>Sun, 30 Oct 2022 12:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2953/</guid><description>&lt;ul>
&lt;li>難度分: 2449&lt;/li>
&lt;li>這題是一個定長的 sliding window，比較難想的是 window size 是 k * 1, k * 2, &amp;hellip; 到 k * 26，因為只有 26 個英文字母，所以最多只可能到 26 * k 的長度。&lt;/li>
&lt;li>額外需要檢查相鄰的字母是否距離 &amp;lt;= 2，我使用的方法是找到一個 &lt;code>j&lt;/code> 記錄最大的不符合的索引值，所以直要 window 不包含該 &lt;code>j&lt;/code>，window 內的所字元都會滿足。&lt;/li>
&lt;li>所以 pesudo code 會是
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> c &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>; c &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#ae81ff">26&lt;/span>; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// window size
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> windowSize &lt;span style="color:#f92672">=&lt;/span> c &lt;span style="color:#f92672">*&lt;/span> k;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// construct window
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> windowSize; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 處理 j
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#75715e">// 計算進入 window
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 確認初始的 window 是否滿足
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// rolling windo
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> windowSize; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 處理 j
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#75715e">// 計算進入 window
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#75715e">// 計算離開 window
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// 確認 window 是否滿足
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> countCompleteSubstrings(string s, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> s.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> idx &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>; idx &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#ae81ff">26&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> idx &lt;span style="color:#f92672">*&lt;/span> k &lt;span style="color:#f92672">&amp;lt;=&lt;/span> n; idx&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> len &lt;span style="color:#f92672">=&lt;/span> idx &lt;span style="color:#f92672">*&lt;/span> k;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> j &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> cnt(&lt;span style="color:#ae81ff">26&lt;/span>, &lt;span style="color:#ae81ff">0&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> valid &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> len; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (i &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> abs(s[i] &lt;span style="color:#f92672">-&lt;/span> s[i&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>]) &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> j &lt;span style="color:#f92672">=&lt;/span> i&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#f92672">++&lt;/span>cnt[s[i]&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>] &lt;span style="color:#f92672">==&lt;/span> k) valid&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (valid &lt;span style="color:#f92672">==&lt;/span> idx &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> j &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> len; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (abs(s[i] &lt;span style="color:#f92672">-&lt;/span> s[i&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>]) &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> j &lt;span style="color:#f92672">=&lt;/span> i&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#f92672">++&lt;/span>cnt[s[i]&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>] &lt;span style="color:#f92672">==&lt;/span> k) valid&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (cnt[s[i&lt;span style="color:#f92672">-&lt;/span>len]&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>]&lt;span style="color:#f92672">--&lt;/span> &lt;span style="color:#f92672">==&lt;/span> k) valid&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (valid &lt;span style="color:#f92672">==&lt;/span> idx &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> i&lt;span style="color:#f92672">-&lt;/span>len &lt;span style="color:#f92672">&amp;gt;=&lt;/span> j) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 2136. Earliest Possible Day of Full Bloom</title><link>https://intervalrain.github.io/leetcode/2136/</link><pubDate>Sun, 30 Oct 2022 00:25:25 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2136/</guid><description>&lt;p>&lt;strong>2136. Earliest Possible Day of Full Bloom&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Greedy&lt;/code>、&lt;code>Sorting&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You have &lt;code>n&lt;/code> flower seeds. Every seed must be planted first before it can begin to grow, then bloom. Planting a seed take time and so does the growth of a seed. You are given two &lt;strong>0-indexed&lt;/strong> integer arrays &lt;code>plantTime&lt;/code> and &lt;code>growTime&lt;/code>, of length &lt;code>n&lt;/code> each:&lt;/p>
&lt;ul>
&lt;li>&lt;code>plantTime[i]&lt;/code> is the number of &lt;strong>full days&lt;/strong> it takes you to &lt;strong>plant&lt;/strong> the &lt;code>ith&lt;/code> seed. Every day, you can work on planting exactly one seed. You &lt;strong>do not&lt;/strong> have to work on planting the same seed on consecutive days, but the planting of a seed is not complete &lt;strong>until&lt;/strong> you have worked &lt;code>plantTime[i]&lt;/code> days on planting it in total.&lt;/li>
&lt;li>&lt;code>growTime[i]&lt;/code> is the number of &lt;strong>full days&lt;/strong> it takes the &lt;code>ith&lt;/code> seed to grow after being completely planted. &lt;strong>After&lt;/strong> the last day of its growth, the flower &lt;strong>blooms&lt;/strong> and stays bloomed forever.
From the beginning of day &lt;code>0&lt;/code>, you can plant the seeds in &lt;strong>any&lt;/strong> order.&lt;br>
Return &lt;em>the&lt;/em> &lt;em>&lt;strong>earliest&lt;/strong>&lt;/em> &lt;em>possible day where&lt;/em> &lt;em>&lt;strong>all&lt;/strong>&lt;/em> &lt;em>seeds are blooming&lt;/em>.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;br>
&lt;img alt="growplant1" loading="lazy" src="https://assets.leetcode.com/uploads/2021/12/21/1.png">&lt;/p></description></item><item><title>[LeetCode] 2156. Find Substring With Given Hash Value</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2156/</link><pubDate>Sat, 29 Oct 2022 12:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2156/</guid><description>&lt;ul>
&lt;li>
&lt;p>難度分: 2063&lt;/p>
&lt;/li>
&lt;li>
&lt;p>這題是 rolling hash，同樣樣到 sliding window 的概念，由左至右需要處理除法問題，會使問題的難度增加，所以這題逆其道而行，從右至左，那就可以把除法問題變成乘法問題了。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在處理商數時，要小心處理負數，由於商數 d 必定介於 0~k之間，可以利用
$$
\boxed{\mod(\mod(a)-\mod(b)+k)}
$$&lt;/p>
&lt;ul>
&lt;li>證明：
$$
\boxed{
\begin{array}{ll}
0\le\mod(a)&amp;lt;k \\
0\le\mod(b)&amp;lt;k \\
-k&amp;lt;\mod(a)-\mod(b)&amp;lt;k &amp;amp; 在取 \mod 前先整理成正數\\
0&amp;lt;\mod(a)-\mod(b)+k&amp;lt; 2k \\
0&amp;lt;\mod(\mod(a)-\mod(b)+k) &amp;lt; k
\end{array}
}
$$&lt;/li>
&lt;/ul>
&lt;p>令 &lt;code>str = dcba&lt;/code>，&lt;code>k = 3&lt;/code>，已知 &lt;code>curr = mod(ap^2+bp+c, m)&lt;/code> 求 &lt;code>mod(bp^2+cp+d, m)&lt;/code>&lt;/p>
&lt;ul>
&lt;li>\(\mod(bp^2+cp+d)\)&lt;/li>
&lt;li>\(\quad = \mod((ap^2+bp+c)\times p +d-ax^3)\)&lt;/li>
&lt;li>\(\quad = \mod(\mod(ap^2+bp+c)\times p +d+m-\mod(ax^3))\)&lt;/li>
&lt;li>\(\quad = \mod(\text{curr}\times p +d+m-\mod(ax^3))\)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string subStrHash(string s, &lt;span style="color:#66d9ef">int&lt;/span> p, &lt;span style="color:#66d9ef">int&lt;/span> mod, &lt;span style="color:#66d9ef">int&lt;/span> k, &lt;span style="color:#66d9ef">int&lt;/span> val) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> s.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">long&lt;/span> pk &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>, curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">=&lt;/span> (curr &lt;span style="color:#f92672">*&lt;/span> p &lt;span style="color:#f92672">+&lt;/span> (s[n&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#f92672">-&lt;/span>i]&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>)) &lt;span style="color:#f92672">%&lt;/span> mod;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pk &lt;span style="color:#f92672">=&lt;/span> (pk &lt;span style="color:#f92672">*&lt;/span> p) &lt;span style="color:#f92672">%&lt;/span> mod;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> j &lt;span style="color:#f92672">=&lt;/span> n&lt;span style="color:#f92672">-&lt;/span>k;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">=&lt;/span> (curr &lt;span style="color:#f92672">*&lt;/span> p &lt;span style="color:#f92672">+&lt;/span> (s[n&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#f92672">-&lt;/span>i]&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">+&lt;/span> mod &lt;span style="color:#f92672">-&lt;/span> ((s[n&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#f92672">-&lt;/span>i&lt;span style="color:#f92672">+&lt;/span>k]&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>) &lt;span style="color:#f92672">*&lt;/span> pk) &lt;span style="color:#f92672">%&lt;/span> mod) &lt;span style="color:#f92672">%&lt;/span> mod;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (curr &lt;span style="color:#f92672">==&lt;/span> val) j &lt;span style="color:#f92672">=&lt;/span> n&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#f92672">-&lt;/span>i;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> s.substr(j, k);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 18. 4Sum</title><link>https://intervalrain.github.io/leetcode/18/</link><pubDate>Fri, 28 Oct 2022 23:58:48 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/18/</guid><description>&lt;p>&lt;strong>18. 4Sum&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Two Pointer&lt;/code>、&lt;code>Sorting&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an array &lt;code>nums&lt;/code> of &lt;code>n&lt;/code> integers, return &lt;em>an array of all the&lt;/em> &lt;em>&lt;strong>unique&lt;/strong>&lt;/em> quadruplets &lt;code>[nums[a], nums[b], nums[c], nums[d]]&lt;/code> such that:&lt;/p>
&lt;ul>
&lt;li>&lt;code>0 &amp;lt;= a, b, c, d &amp;lt; n&lt;/code>&lt;/li>
&lt;li>&lt;code>a&lt;/code>, &lt;code>b&lt;/code>, &lt;code>c&lt;/code> and &lt;code>d&lt;/code> are &lt;strong>distinct&lt;/strong>.&lt;/li>
&lt;li>&lt;code>nums[a] + nums[b] + nums[c] + nums[d] == target&lt;/code>
You may return the answer in &lt;strong>any order&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> nums = [1,0,-1,0,-2,2], target = 0&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [[-2,-1,1,2],[-2,0,0,2],[-1,0,0,1]]&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 17. Letter Combinations of a Phone Number</title><link>https://intervalrain.github.io/leetcode/17/</link><pubDate>Fri, 28 Oct 2022 22:59:22 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/17/</guid><description>&lt;p>&lt;strong>17. Letter Combinations of a Phone Number&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Hash Table&lt;/code>,&lt;code>String&lt;/code>,&lt;code>Backtracking&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given a string containing digits from &lt;code>2-9&lt;/code> inclusive, return all possible letter combinations that the number could represent. Return the answer in &lt;strong>any order&lt;/strong>&lt;br>
A mapping of digits to letters (just like on the telephone buttons) is given below. Note that 1 does not map to any letters.&lt;br>
&lt;img alt="1200px-telephone-keypad2svg" loading="lazy" src="https://assets.leetcode.com/uploads/2022/03/15/1200px-telephone-keypad2svg.png">&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> digits = &amp;ldquo;23&amp;rdquo;&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [&amp;ldquo;ad&amp;rdquo;,&amp;ldquo;ae&amp;rdquo;,&amp;ldquo;af&amp;rdquo;,&amp;ldquo;bd&amp;rdquo;,&amp;ldquo;be&amp;rdquo;,&amp;ldquo;bf&amp;rdquo;,&amp;ldquo;cd&amp;rdquo;,&amp;ldquo;ce&amp;rdquo;,&amp;ldquo;cf&amp;rdquo;]&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 16. 3Sum Closet</title><link>https://intervalrain.github.io/leetcode/16/</link><pubDate>Fri, 28 Oct 2022 21:51:20 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/16/</guid><description>&lt;p>&lt;strong>no. &lt;Title>&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Two Pointers&lt;/code>、&lt;code>Sorting&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an integer array &lt;code>nums&lt;/code> of length &lt;code>n&lt;/code> and an integer &lt;code>target&lt;/code>, find three integers in &lt;code>nums&lt;/code> such that the sum is closet to &lt;code>target&lt;/code>.&lt;br>
Return *the sum of the three integers`.&lt;br>
You may assume that each input would have exactly one solution.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> nums = [-1,2,1,-4], target = 1&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 2&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> The sum that is closet to the target is 2. (-1 + 2 + 1 = 2).&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 15. 3Sum</title><link>https://intervalrain.github.io/leetcode/15/</link><pubDate>Fri, 28 Oct 2022 13:30:19 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/15/</guid><description>&lt;p>&lt;strong>15. 3Sum&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Two Pointer&lt;/code>、&lt;code>Sorting&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an integer array nums, return all the triplets &lt;code>[nums[i], nums[j], nums[k]]&lt;/code> such that &lt;code>i != j&lt;/code>, &lt;code>i != k&lt;/code>, &lt;code>j != k&lt;/code>, and &lt;code>nums[i] + nums[j] + nums[k] == 0&lt;/code>.&lt;br>
Notice that the solution set must not contain duplicate triplets.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> nums = [-1,0,1,2,-1,-4]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [[-1,-1,2],[-1,0,1]]&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong>&lt;br>
nums[0] + nums[1] + nums[2] = (-1) + 0 + 1 = 0.&lt;br>
nums[1] + nums[2] + nums[4] = 0 + 1 + (-1) = 0.&lt;br>
nums[0] + nums[3] + nums[4] = (-1) + 2 + (-1) = 0.&lt;br>
The distinct triplets are [-1,0,1] and [-1,-1,2].&lt;br>
Notice that the order of the output and the order of the triplets does not matter.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 30. Substring with Concatenation of All Words</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/30/</link><pubDate>Fri, 28 Oct 2022 12:30:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/30/</guid><description>&lt;ul>
&lt;li>這一題與 567 類似，差別是將字元比較改成字串比較。&lt;/li>
&lt;li>注意因為字串比較不一定是從 0 開始，所以還要多一個 &lt;code>for start in range(0, wordLen)&lt;/code> 的迴圈來調整起始位置&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> findSubstring(string s, vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>string&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> words) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>string, &lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> cnt1, cnt2;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#66d9ef">auto&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> word : words) cnt1[word]&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> wordLen &lt;span style="color:#f92672">=&lt;/span> words[&lt;span style="color:#ae81ff">0&lt;/span>].size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> k &lt;span style="color:#f92672">=&lt;/span> words.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (s.size() &lt;span style="color:#f92672">&amp;lt;&lt;/span> wordLen &lt;span style="color:#f92672">*&lt;/span> k) &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> start &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; start &lt;span style="color:#f92672">&amp;lt;&lt;/span> wordLen; start&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cnt2.clear();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> valid &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> start; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k &lt;span style="color:#f92672">*&lt;/span> wordLen; i &lt;span style="color:#f92672">+=&lt;/span> wordLen) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string sin &lt;span style="color:#f92672">=&lt;/span> s.substr(i, wordLen);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (cnt1.count(sin) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#f92672">++&lt;/span>cnt2[sin] &lt;span style="color:#f92672">==&lt;/span> cnt1[sin]) valid&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (valid &lt;span style="color:#f92672">==&lt;/span> cnt1.size()) res.push_back(start);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> start &lt;span style="color:#f92672">+&lt;/span> k &lt;span style="color:#f92672">*&lt;/span> wordLen; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> s.size(); i &lt;span style="color:#f92672">+=&lt;/span> wordLen) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string sin &lt;span style="color:#f92672">=&lt;/span> s.substr(i, wordLen);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (cnt1.count(sin) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#f92672">++&lt;/span>cnt2[sin] &lt;span style="color:#f92672">==&lt;/span> cnt1[sin]) valid&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string sout &lt;span style="color:#f92672">=&lt;/span> s.substr(i&lt;span style="color:#f92672">-&lt;/span>k&lt;span style="color:#f92672">*&lt;/span>wordLen, wordLen);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (cnt1.count(sout) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> cnt2[sout]&lt;span style="color:#f92672">--&lt;/span> &lt;span style="color:#f92672">==&lt;/span> cnt1[sout]) valid&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (valid &lt;span style="color:#f92672">==&lt;/span> cnt1.size()) res.push_back(i&lt;span style="color:#f92672">-&lt;/span>(k&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>)&lt;span style="color:#f92672">*&lt;/span>wordLen);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 438. Find All Anagrams in a String</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/438/</link><pubDate>Fri, 28 Oct 2022 12:20:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/438/</guid><description>&lt;ul>
&lt;li>這一題與 567 類似，是找 anagram 題題目，令 p 長度為 window size，即可解。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> findAnagrams(string s, string p) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> k &lt;span style="color:#f92672">=&lt;/span> p.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> s.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (n &lt;span style="color:#f92672">&amp;lt;&lt;/span> k) &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">char&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> cnt1, cnt2;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#66d9ef">auto&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> c : p) cnt1[c]&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> valid &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (cnt1.count(s[i]) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#f92672">++&lt;/span>cnt2[s[i]] &lt;span style="color:#f92672">==&lt;/span> cnt1[s[i]]) valid&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (valid &lt;span style="color:#f92672">==&lt;/span> cnt1.size()) res.push_back(&lt;span style="color:#ae81ff">0&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (cnt1.count(s[i]) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#f92672">++&lt;/span>cnt2[s[i]] &lt;span style="color:#f92672">==&lt;/span> cnt1[s[i]]) valid&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (cnt1.count(s[i&lt;span style="color:#f92672">-&lt;/span>k]) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> cnt2[s[i&lt;span style="color:#f92672">-&lt;/span>k]]&lt;span style="color:#f92672">--&lt;/span> &lt;span style="color:#f92672">==&lt;/span> cnt1[s[i&lt;span style="color:#f92672">-&lt;/span>k]]) valid&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (valid &lt;span style="color:#f92672">==&lt;/span> cnt1.size()) res.push_back(i&lt;span style="color:#f92672">-&lt;/span>k&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 567. Permutation in String</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/567/</link><pubDate>Fri, 28 Oct 2022 12:10:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/567/</guid><description>&lt;ul>
&lt;li>這一題同樣是定長度的 sliding window，window size 為 s1.size()&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> checkInclusion(string s1, string s2) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">char&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> map, map2;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> k &lt;span style="color:#f92672">=&lt;/span> s1.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> s2.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (k &lt;span style="color:#f92672">&amp;gt;&lt;/span> n) &lt;span style="color:#66d9ef">return&lt;/span> false;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> valid &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">const&lt;/span> &lt;span style="color:#66d9ef">auto&lt;/span>&lt;span style="color:#f92672">&amp;amp;&lt;/span> c : s1) map[c]&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#f92672">!&lt;/span>map.count(s2[i])) &lt;span style="color:#66d9ef">continue&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#f92672">++&lt;/span>map2[s2[i]] &lt;span style="color:#f92672">==&lt;/span> map[s2[i]]) valid&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (valid &lt;span style="color:#f92672">==&lt;/span> map.size()) &lt;span style="color:#66d9ef">return&lt;/span> true;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (map.count(s2[i]) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#f92672">++&lt;/span>map2[s2[i]] &lt;span style="color:#f92672">==&lt;/span> map[s2[i]]) valid&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (map.count(s2[i&lt;span style="color:#f92672">-&lt;/span>k]) &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> map2[s2[i&lt;span style="color:#f92672">-&lt;/span>k]]&lt;span style="color:#f92672">--&lt;/span> &lt;span style="color:#f92672">==&lt;/span> map[s2[i&lt;span style="color:#f92672">-&lt;/span>k]]) valid&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (valid &lt;span style="color:#f92672">==&lt;/span> map.size()) &lt;span style="color:#66d9ef">return&lt;/span> true;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> false;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 1888. Minimum Number of Flips to Make the Binary String Alternating</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1888/</link><pubDate>Fri, 28 Oct 2022 12:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1888/</guid><description>&lt;ul>
&lt;li>難度分: 2006&lt;/li>
&lt;li>這一題如果沒有條件一，則很簡單，根據奇偶數索引位置，判斷是否要 flip 就可以了。
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">minFlips&lt;/span>(string s) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> s.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> ans1 &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, ans2 &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> ((i &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> s[i] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;1&amp;#39;&lt;/span>) &lt;span style="color:#f92672">||&lt;/span> (i &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> s[i] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;0&amp;#39;&lt;/span>)) &lt;span style="color:#f92672">++&lt;/span>ans1;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> ((i &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> s[i] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;0&amp;#39;&lt;/span>) &lt;span style="color:#f92672">||&lt;/span> (i &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> s[i] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;1&amp;#39;&lt;/span>)) &lt;span style="color:#f92672">++&lt;/span>ans2;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> ans &lt;span style="color:#f92672">=&lt;/span> min(ans1, ans2);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>但這一題加上條件一，可以用很精巧的手法，把它轉成 sliding window 的問題，將字串重覆兩次，以原字串長度作為 window size，可解這題。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> minFlips(string s) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> k &lt;span style="color:#f92672">=&lt;/span> s.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> s &lt;span style="color:#f92672">+=&lt;/span> s;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> ans1 &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, ans2 &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> ((i &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> s[i] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;1&amp;#39;&lt;/span>) &lt;span style="color:#f92672">||&lt;/span> (i &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> s[i] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;0&amp;#39;&lt;/span>)) &lt;span style="color:#f92672">++&lt;/span>ans1;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> ((i &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> s[i] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;0&amp;#39;&lt;/span>) &lt;span style="color:#f92672">||&lt;/span> (i &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> s[i] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;1&amp;#39;&lt;/span>)) &lt;span style="color:#f92672">++&lt;/span>ans2;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> ans &lt;span style="color:#f92672">=&lt;/span> min(ans1, ans2);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> s.size(); i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> ((i &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> s[i] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;1&amp;#39;&lt;/span>) &lt;span style="color:#f92672">||&lt;/span> (i &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> s[i] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;0&amp;#39;&lt;/span>)) &lt;span style="color:#f92672">++&lt;/span>ans1;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> ((i &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> s[i] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;0&amp;#39;&lt;/span>) &lt;span style="color:#f92672">||&lt;/span> (i &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> s[i] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;1&amp;#39;&lt;/span>)) &lt;span style="color:#f92672">++&lt;/span>ans2;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (((i &lt;span style="color:#f92672">-&lt;/span> k) &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> s[i &lt;span style="color:#f92672">-&lt;/span> k] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;1&amp;#39;&lt;/span>) &lt;span style="color:#f92672">||&lt;/span> ((i &lt;span style="color:#f92672">-&lt;/span> k) &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> s[i &lt;span style="color:#f92672">-&lt;/span> k] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;0&amp;#39;&lt;/span>)) &lt;span style="color:#f92672">--&lt;/span>ans1;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (((i &lt;span style="color:#f92672">-&lt;/span> k) &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> s[i &lt;span style="color:#f92672">-&lt;/span> k] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;0&amp;#39;&lt;/span>) &lt;span style="color:#f92672">||&lt;/span> ((i &lt;span style="color:#f92672">-&lt;/span> k) &lt;span style="color:#f92672">%&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> s[i &lt;span style="color:#f92672">-&lt;/span> k] &lt;span style="color:#f92672">!=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;1&amp;#39;&lt;/span>)) &lt;span style="color:#f92672">--&lt;/span>ans2;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ans &lt;span style="color:#f92672">=&lt;/span> min({ans1, ans2, ans});
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> ans;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[Leetcode] 14. Longest Common Prefix</title><link>https://intervalrain.github.io/leetcode/14/</link><pubDate>Fri, 28 Oct 2022 00:00:08 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/14/</guid><description>&lt;p>&lt;strong>14. Longest Common Prefix&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>String&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Write a function to find the longest common prefix string amongst an array of strings.&lt;br>
If there is no common prefix, return an empty string &lt;code>&amp;quot;&amp;quot;&lt;/code>.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> strs = [&amp;ldquo;flower&amp;rdquo;, &amp;ldquo;flow&amp;rdquo;, &amp;ldquo;flight&amp;rdquo;]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> &amp;ldquo;fl&amp;rdquo;&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> strs = [&amp;ldquo;dog&amp;rdquo;, &amp;ldquo;racecar&amp;rdquo;, &amp;ldquo;car&amp;rdquo;]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> &amp;quot;&amp;quot;&lt;/li>
&lt;li>&lt;strong>Explanation&lt;/strong>: There is no common prefix among the input strings.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Constraints:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>1 &amp;lt;= strs.length &amp;lt;= 200&lt;/code>&lt;/li>
&lt;li>&lt;code>0 &amp;lt;= strs[i].length &amp;lt;= 200&lt;/code>&lt;/li>
&lt;li>&lt;code>strs[i]&lt;/code> consists of only lowercase English letters.&lt;/li>
&lt;/ul>
&lt;h3 id="二分析">二、分析&lt;/h3>
&lt;ul>
&lt;li>簡單的字串比對問題。&lt;/li>
&lt;li>需熟悉 &lt;code>string&lt;/code> 的函數 &lt;code>substr()&lt;/code> 的使用方式，常用以下兩種
&lt;ul>
&lt;li>&lt;code>s.substr(int start, int len)&lt;/code>，從 &lt;code>start&lt;/code> 起取長度為 &lt;code>len&lt;/code> 的子字串。&lt;/li>
&lt;li>&lt;code>s.substr(int start)&lt;/code> 從 &lt;code>start&lt;/code> 起取到字串的結尾。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="三解題">三、解題&lt;/h3>
&lt;h4 id="1-string">1. String&lt;/h4>
&lt;ul>
&lt;li>Time complexity: \(O(m\times n)，\text{m }為\text{ strs }的長度，\text{n }為\text{ strs[i] }的長度\)，&lt;/li>
&lt;li>Space complexity: \(O(1)\)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-C++" data-lang="C++">&lt;span style="display:flex;">&lt;span>string &lt;span style="color:#a6e22e">longestCommonPrefix&lt;/span>(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>string&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> strs) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string res &lt;span style="color:#f92672">=&lt;/span> strs[&lt;span style="color:#ae81ff">0&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> strs.size(); i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> j &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (; j &lt;span style="color:#f92672">&amp;lt;&lt;/span> min(strs[i].length(), res.length()); j&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (strs[i][j] &lt;span style="color:#f92672">!=&lt;/span> res[j]) &lt;span style="color:#66d9ef">break&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> res.substr(&lt;span style="color:#ae81ff">0&lt;/span>, j);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;a href="https://intervalrain.github.io/leetcode">回目錄 Catalog&lt;/a>&lt;/p></description></item><item><title>[Leetcode] 13. Roman to Integer</title><link>https://intervalrain.github.io/leetcode/13/</link><pubDate>Thu, 27 Oct 2022 21:58:08 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/13/</guid><description>&lt;p>&lt;strong>13. Roman to Integer&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Hash Table&lt;/code>、&lt;code>Math&lt;/code>、&lt;code>String&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Roman numerals are represented by seven different symbols: &lt;code>I&lt;/code>, &lt;code>V&lt;/code>, &lt;code>X&lt;/code>, &lt;code>L&lt;/code>, &lt;code>C&lt;/code>, &lt;code>D&lt;/code>, and &lt;code>M&lt;/code>.&lt;br>
\(\boxed{\begin{array}{ll}
\textbf{Symbol}&amp;amp;\textbf{Value}\\
\texttt{I}&amp;amp;1\\
\texttt{V}&amp;amp;5\\
\texttt{X}&amp;amp;10\\
\texttt{L}&amp;amp;50\\
\texttt{C}&amp;amp;100\\
\texttt{D}&amp;amp;500\\
\texttt{M}&amp;amp;1000\\
\end{array}}\)&lt;br>
For example, &lt;code>2&lt;/code> is written as &lt;code>II&lt;/code> in Roman numeral, just two one&amp;rsquo;s added together. &lt;code>12&lt;/code> is written as &lt;code>XII&lt;/code>, which is simply &lt;code>X + II&lt;/code>. The number &lt;code>27&lt;/code> is written as &lt;code>XXVII&lt;/code>, which is &lt;code>XX + V + II&lt;/code>.&lt;br>
Roman numerals are usually written largest to smallest from left to right. However, the numeral for four is not &lt;code>IIII&lt;/code>. Instead the number four is written as &lt;code>IV&lt;/code>. Because the one is before the five we subtract it making four. The same principle applies to the number nine, which is written as &lt;code>IX&lt;/code>. There are six instances where subtraction is used:&lt;/p></description></item><item><title>[Leetcode] 835. Image Overlap</title><link>https://intervalrain.github.io/leetcode/835/</link><pubDate>Thu, 27 Oct 2022 17:35:25 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/835/</guid><description>&lt;p>&lt;strong>835. Image Overlap&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Matrix&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given two images, &lt;code>img1&lt;/code> and &lt;code>img2&lt;/code>, represented as binary, square matrices of size &lt;code>n x n&lt;/code>. A binary matrix has only &lt;code>0&lt;/code>s and &lt;code>1&lt;/code>s as values.&lt;br>
We &lt;strong>translate&lt;/strong> one image however we choose by sliding all the &lt;code>1&lt;/code> bits left, right, up, and/or down any number of units. We then place it on top of the other image. We can then calculate the &lt;strong>overlap&lt;/strong> by counting the number of positions that have a &lt;code>1&lt;/code> in &lt;strong>both&lt;/strong> images.
Note also that a translation does &lt;strong>not&lt;/strong> include any kind of rotation. Any &lt;code>1&lt;/code> bits that are translated outside of the matrix bordered are erased.&lt;br>
Return &lt;em>the largest possible overlap&lt;/em>.&lt;/p></description></item><item><title>[LeetCode] 2653. Sliding Subarray Beauty</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2653/</link><pubDate>Thu, 27 Oct 2022 12:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2653/</guid><description>&lt;ul>
&lt;li>難度分: 1786&lt;/li>
&lt;li>我覺得這一題稍有難度，主要在處理 &lt;code>findKth&lt;/code> 方法時，有一些技巧，如果單純用 vector 來記錄 window，會 LTE，因為 &lt;code>nums[i]&lt;/code> 的範圍滿小的(-50~50之間)，可以用 &lt;code>bucket sort&lt;/code>，如果數字再更大一點，可以使用 &lt;code>fenwick tree&lt;/code> 或是 &lt;code>segment tree&lt;/code> 範圍求和，使 &lt;code>update&lt;/code> 與 &lt;code>query&lt;/code> 的複雜度都是 \(\log(n)\)&lt;/li>
&lt;li>Bucket Sort&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">NumberTracker&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> update(&lt;span style="color:#66d9ef">int&lt;/span> num, &lt;span style="color:#66d9ef">int&lt;/span> delta) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">findKth&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> k) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#f92672">~&lt;/span>NumberTracker() {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">BucketSort&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">public&lt;/span> NumberTracker {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> cnt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left_;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> right_;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n_;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> BucketSort(&lt;span style="color:#66d9ef">int&lt;/span> left, &lt;span style="color:#66d9ef">int&lt;/span> right) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> left_ &lt;span style="color:#f92672">=&lt;/span> left;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> right_ &lt;span style="color:#f92672">=&lt;/span> right;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> n_ &lt;span style="color:#f92672">=&lt;/span> right &lt;span style="color:#f92672">-&lt;/span> left &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cnt.assign(n_, &lt;span style="color:#ae81ff">0&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">update&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num, &lt;span style="color:#66d9ef">int&lt;/span> delta) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cnt[num &lt;span style="color:#f92672">-&lt;/span> left_] &lt;span style="color:#f92672">+=&lt;/span> delta;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">findKth&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> k) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> total &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;=&lt;/span> n_; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> total &lt;span style="color:#f92672">+=&lt;/span> cnt[i];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (total &lt;span style="color:#f92672">&amp;gt;=&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> i &lt;span style="color:#f92672">+&lt;/span> left_;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unique_ptr&lt;span style="color:#f92672">&amp;lt;&lt;/span>NumberTracker&lt;span style="color:#f92672">&amp;gt;&lt;/span> tracker;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Solution() &lt;span style="color:#f92672">:&lt;/span> tracker(make_unique&lt;span style="color:#f92672">&amp;lt;&lt;/span>BucketSort&lt;span style="color:#f92672">&amp;gt;&lt;/span>(&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">50&lt;/span>, &lt;span style="color:#ae81ff">50&lt;/span>)) {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> getSubarrayBeauty(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k, &lt;span style="color:#66d9ef">int&lt;/span> x) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tracker&lt;span style="color:#f92672">-&amp;gt;&lt;/span>update(nums[i], &lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> ans &lt;span style="color:#f92672">=&lt;/span> tracker&lt;span style="color:#f92672">-&amp;gt;&lt;/span>findKth(x);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res.push_back(min(ans, &lt;span style="color:#ae81ff">0&lt;/span>));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tracker&lt;span style="color:#f92672">-&amp;gt;&lt;/span>update(nums[i&lt;span style="color:#f92672">-&lt;/span>k], &lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tracker&lt;span style="color:#f92672">-&amp;gt;&lt;/span>update(nums[i], &lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ans &lt;span style="color:#f92672">=&lt;/span> tracker&lt;span style="color:#f92672">-&amp;gt;&lt;/span>findKth(x);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res.push_back(min(ans, &lt;span style="color:#ae81ff">0&lt;/span>));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Fenwick Tree&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">FenwickTree&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">public&lt;/span> NumberTracker {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left_;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> right_;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n_;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> bit;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">lowbit&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> a) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> a &lt;span style="color:#f92672">&amp;amp;&lt;/span> (&lt;span style="color:#f92672">-&lt;/span>a);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">add&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> idx, &lt;span style="color:#66d9ef">int&lt;/span> diff) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> idx&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> bit.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (idx &lt;span style="color:#f92672">&amp;lt;&lt;/span> n) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> bit[idx] &lt;span style="color:#f92672">+=&lt;/span> diff;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> idx &lt;span style="color:#f92672">+=&lt;/span> lowbit(idx);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">query&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> idx) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> sum &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> idx&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (idx &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> bit[idx];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> idx &lt;span style="color:#f92672">-=&lt;/span> lowbit(idx);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> sum;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> FenwickTree(&lt;span style="color:#66d9ef">int&lt;/span> left, &lt;span style="color:#66d9ef">int&lt;/span> right) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> left_ &lt;span style="color:#f92672">=&lt;/span> left;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> right_ &lt;span style="color:#f92672">=&lt;/span> right;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> n_ &lt;span style="color:#f92672">=&lt;/span> right &lt;span style="color:#f92672">-&lt;/span> left &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> bit.assign(n_ &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>, &lt;span style="color:#ae81ff">0&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">update&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num, &lt;span style="color:#66d9ef">int&lt;/span> delta) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> num &lt;span style="color:#f92672">-=&lt;/span> left_;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> add(num, delta);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">findKth&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> left &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> right &lt;span style="color:#f92672">=&lt;/span> n_;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (left &lt;span style="color:#f92672">&amp;lt;&lt;/span> right) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> mid &lt;span style="color:#f92672">=&lt;/span> (left &lt;span style="color:#f92672">+&lt;/span> right) &lt;span style="color:#f92672">&amp;gt;&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (query(mid) &lt;span style="color:#f92672">&amp;gt;=&lt;/span> k)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> right &lt;span style="color:#f92672">=&lt;/span> mid;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">else&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> left &lt;span style="color:#f92672">=&lt;/span> mid &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> min(&lt;span style="color:#ae81ff">0&lt;/span>, left &lt;span style="color:#f92672">+&lt;/span> left_);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Segment Tree (zkw tree)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">NumberTracker&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> build(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> nums) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">update&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num, &lt;span style="color:#66d9ef">int&lt;/span> delta) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">findKth&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> k) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#f92672">~&lt;/span>NumberTracker() {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">SegmentTree&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#66d9ef">public&lt;/span> NumberTracker {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n_;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> m_;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> tree_;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> num_to_idx;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> idx_to_num;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">lowbit&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> a) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> a &lt;span style="color:#f92672">&amp;amp;&lt;/span> (&lt;span style="color:#f92672">-&lt;/span>a);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> SegmentTree() {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">build&lt;/span>(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> nums) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sort(nums.begin(), nums.end());
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>, j &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> nums.size(); i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (i &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> nums[i] &lt;span style="color:#f92672">==&lt;/span> nums[i&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>]) &lt;span style="color:#66d9ef">continue&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> num_to_idx[nums[i]] &lt;span style="color:#f92672">=&lt;/span> j;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> idx_to_num[j&lt;span style="color:#f92672">++&lt;/span>] &lt;span style="color:#f92672">=&lt;/span> nums[i];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (n_ &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>; n_ &lt;span style="color:#f92672">&amp;lt;&lt;/span> num_to_idx.size(); n_ &lt;span style="color:#f92672">&amp;lt;&amp;lt;=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> m_ &lt;span style="color:#f92672">=&lt;/span> n_ &lt;span style="color:#f92672">&amp;lt;&amp;lt;&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tree_.assign(m_, &lt;span style="color:#ae81ff">0&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">update&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num, &lt;span style="color:#66d9ef">int&lt;/span> delta) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> idx &lt;span style="color:#f92672">=&lt;/span> num_to_idx[num];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> idx &lt;span style="color:#f92672">+=&lt;/span> n_;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (idx &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tree_[idx] &lt;span style="color:#f92672">+=&lt;/span> delta;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> idx &lt;span style="color:#f92672">&amp;gt;&amp;gt;=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">findKth&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> k) &lt;span style="color:#66d9ef">override&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> idx &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">while&lt;/span> (idx &lt;span style="color:#f92672">&amp;lt;&lt;/span> n_) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> idx &lt;span style="color:#f92672">&amp;lt;&amp;lt;=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (tree_[idx] &lt;span style="color:#f92672">&amp;lt;&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> k &lt;span style="color:#f92672">-=&lt;/span> tree_[idx];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> idx&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> idx_to_num[idx &lt;span style="color:#f92672">-&lt;/span> n_];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unique_ptr&lt;span style="color:#f92672">&amp;lt;&lt;/span>NumberTracker&lt;span style="color:#f92672">&amp;gt;&lt;/span> tracker;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> Solution() &lt;span style="color:#f92672">:&lt;/span> tracker(make_unique&lt;span style="color:#f92672">&amp;lt;&lt;/span>SegmentTree&lt;span style="color:#f92672">&amp;gt;&lt;/span>()) {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> getSubarrayBeauty(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k, &lt;span style="color:#66d9ef">int&lt;/span> x) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tracker&lt;span style="color:#f92672">-&amp;gt;&lt;/span>build(nums);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tracker&lt;span style="color:#f92672">-&amp;gt;&lt;/span>update(nums[i], &lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> ans &lt;span style="color:#f92672">=&lt;/span> tracker&lt;span style="color:#f92672">-&amp;gt;&lt;/span>findKth(x);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res.push_back(min(ans, &lt;span style="color:#ae81ff">0&lt;/span>));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tracker&lt;span style="color:#f92672">-&amp;gt;&lt;/span>update(nums[i&lt;span style="color:#f92672">-&lt;/span>k], &lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tracker&lt;span style="color:#f92672">-&amp;gt;&lt;/span>update(nums[i], &lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ans &lt;span style="color:#f92672">=&lt;/span> tracker&lt;span style="color:#f92672">-&amp;gt;&lt;/span>findKth(x);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res.push_back(min(ans, &lt;span style="color:#ae81ff">0&lt;/span>));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[Leetcode] 12. Integer to Roman</title><link>https://intervalrain.github.io/leetcode/12/</link><pubDate>Wed, 26 Oct 2022 20:36:08 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/12/</guid><description>&lt;p>&lt;strong>12. Integer to Roman&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Hash Table&lt;/code>、&lt;code>Math&lt;/code>、&lt;code>String&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Roman numerals are represented by seven different symbols: &lt;code>I&lt;/code>, &lt;code>V&lt;/code>, &lt;code>X&lt;/code>, &lt;code>L&lt;/code>, &lt;code>C&lt;/code>, &lt;code>D&lt;/code>, and &lt;code>M&lt;/code>.&lt;br>
\(\boxed{\begin{array}{ll}
\textbf{Symbol}&amp;amp;\textbf{Value}\\
\texttt{I}&amp;amp;1\\
\texttt{V}&amp;amp;5\\
\texttt{X}&amp;amp;10\\
\texttt{L}&amp;amp;50\\
\texttt{C}&amp;amp;100\\
\texttt{D}&amp;amp;500\\
\texttt{M}&amp;amp;1000\\
\end{array}}\)&lt;br>
For example, &lt;code>2&lt;/code> is written as &lt;code>II&lt;/code> in Roman numeral, just two one&amp;rsquo;s added together. &lt;code>12&lt;/code> is written as &lt;code>XII&lt;/code>, which is simply &lt;code>X + II&lt;/code>. The number &lt;code>27&lt;/code> is written as &lt;code>XXVII&lt;/code>, which is &lt;code>XX + V + II&lt;/code>.&lt;br>
Roman numerals are usually written largest to smallest from left to right. However, the numeral for four is not &lt;code>IIII&lt;/code>. Instead the number four is written as &lt;code>IV&lt;/code>. Because the one is before the five we subtract it making four. The same principle applies to the number nine, which is written as &lt;code>IX&lt;/code>. There are six instances where subtraction is used:&lt;/p></description></item><item><title>[Leetcode] 11. Container With Most Water</title><link>https://intervalrain.github.io/leetcode/11/</link><pubDate>Wed, 26 Oct 2022 19:36:06 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/11/</guid><description>&lt;p>&lt;strong>11. Container With Most Water&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Two Pointer&lt;/code>、&lt;code>Greedy&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given an integer array &lt;code>height&lt;/code> of length &lt;code>n&lt;/code>. There are &lt;code>n&lt;/code> vertical lines drawn such that the two endpoints of the &lt;code>ith&lt;/code> line are &lt;code>(i, 0)&lt;/code> and &lt;code>(i, height[i])&lt;/code>.&lt;br>
Find two lines that together with the x-axis form a container, such that the container contains the most water.&lt;br>
Return &lt;em>the maximum amount of water a container can store&lt;/em>.&lt;br>
&lt;strong>Notive&lt;/strong> that you may not slant the container.&lt;/p></description></item><item><title>[Leetcode] 10. Regular Expression Matching</title><link>https://intervalrain.github.io/leetcode/10/</link><pubDate>Wed, 26 Oct 2022 18:36:01 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/10/</guid><description>&lt;p>&lt;strong>10. Regular Expression Matching&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>String&lt;/code>、&lt;code>Dynamic Programming&lt;/code>、&lt;code>Recursion&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an input string &lt;code>s&lt;/code> and a pattern &lt;code>p&lt;/code>, implement regular expression matching with support for &lt;code>'.'&lt;/code> and &lt;code>'*'&lt;/code> where:&lt;/p>
&lt;ul>
&lt;li>&lt;code>'.'&lt;/code> Matches any single character.&lt;/li>
&lt;li>&lt;code>'*'&lt;/code> Matches zero or more of the preceding element.&lt;br>
The matching should cover the &lt;strong>entire&lt;/strong> input string (not partial).&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> s = &amp;ldquo;aa&amp;rdquo;, p = &amp;ldquo;a&amp;rdquo;&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> false&lt;/li>
&lt;li>&lt;strong>Explanation&lt;/strong>: &amp;ldquo;a&amp;rdquo; does not match the entire string &amp;ldquo;aa&amp;rdquo;.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2134. Minimum Swaps to Group All 1's Together II</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2134/</link><pubDate>Wed, 26 Oct 2022 12:00:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2134/</guid><description>&lt;ul>
&lt;li>難度分: 1748&lt;/li>
&lt;li>遇到 circular 的問題都可以換位思考，這題可以想成「min swaps to group all 1」或「min swaps to group all 0」&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> minSwaps(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> k &lt;span style="color:#f92672">=&lt;/span> accumulate(nums.begin(), nums.end(), &lt;span style="color:#ae81ff">0&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">min&lt;/span>(minSwapsHelper(nums, &lt;span style="color:#ae81ff">1&lt;/span>, k), minSwapsHelper(nums, &lt;span style="color:#ae81ff">0&lt;/span>, n&lt;span style="color:#f92672">-&lt;/span>k));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">minSwapsHelper&lt;/span>(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> target, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (nums[i] &lt;span style="color:#f92672">==&lt;/span> target) curr&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> cnt &lt;span style="color:#f92672">=&lt;/span> curr;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (nums[i] &lt;span style="color:#f92672">==&lt;/span> target) curr&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (nums[i&lt;span style="color:#f92672">-&lt;/span>k] &lt;span style="color:#f92672">==&lt;/span> target) curr&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cnt &lt;span style="color:#f92672">=&lt;/span> max(cnt, curr);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> k &lt;span style="color:#f92672">-&lt;/span> cnt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[Leetcode] 9. Palindrome Number</title><link>https://intervalrain.github.io/leetcode/9/</link><pubDate>Wed, 26 Oct 2022 10:20:08 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/9/</guid><description>&lt;p>&lt;strong>9. Palindrome Number&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Math&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an integer &lt;code>x&lt;/code>, return &lt;code>true&lt;/code> if &lt;code>x&lt;/code> is palindrome number.&lt;br>
An integer is a &lt;strong>palindrome&lt;/strong> when it reads the same backward as forward.&lt;/p>
&lt;ul>
&lt;li>For example, &lt;code>121&lt;/code> is a palindrome while &lt;code>123&lt;/code> is not.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> x = 121&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> true&lt;/li>
&lt;li>&lt;strong>Explanation&lt;/strong>: 121 reads as 121 from left to right and from right to left.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> x = -121&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> false&lt;/li>
&lt;li>&lt;strong>Explanation&lt;/strong>: From left to right, it reads -121. From right to left, it becomes 121-. Therefore it is not a palindrome.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 3:&lt;/strong>&lt;/p></description></item><item><title>[Leetcode] 8. String to Integer (atoi)</title><link>https://intervalrain.github.io/leetcode/8/</link><pubDate>Wed, 26 Oct 2022 00:21:56 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/8/</guid><description>&lt;p>&lt;strong>8. String to Integer (atoi)&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>String&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Implement the &lt;code>myAtoi(string s)&lt;/code> function, which converts a string to a 32-bit signed integer (similar to C/C++&amp;rsquo;s &lt;code>atoi&lt;/code> function).&lt;br>
The algorithm for &lt;code>myAtoi(string s)&lt;/code> is as follows:&lt;/p>
&lt;ol>
&lt;li>Read in and ignore any leading whitespace.&lt;/li>
&lt;li>Check if the next character (if not already at the end of the string) is &lt;code>'-'&lt;/code> or &lt;code>'+'&lt;/code>. Read this character in if it is either. This determines if the final result is negative or positive respectively. Assume the result is positive if neither is present.&lt;/li>
&lt;li>Read in next the characters until the next non-digit character or the end of the input is reached. The rest of the string is ignored.&lt;/li>
&lt;li>Convert these digits into an integer (i.e. &lt;code>&amp;quot;123&amp;quot; -&amp;gt; 123&lt;/code>, &lt;code>&amp;quot;0032&amp;quot; -&amp;gt; 32&lt;/code>). If no digits were read, then the integer is &lt;code>0&lt;/code>. Change the sign as necessary (from step 2).&lt;/li>
&lt;li>If the integer is out of the 32-bit signed integer range &lt;code>[-2^31, 2^31-1]&lt;/code>, then clamp the integer so that it remains in the range. Specifically, integers less than &lt;code>-2^31&lt;/code> should be clamped to &lt;code>-2^31&lt;/code>, and integer greater than &lt;code>2^31-1&lt;/code> should be clamped to &lt;code>2^31-1&lt;/code>.&lt;/li>
&lt;li>Return the integer as the final result.&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>Note:&lt;/strong>&lt;/p></description></item><item><title>[Leetcode] 7. Reverse Integer</title><link>https://intervalrain.github.io/leetcode/7/</link><pubDate>Tue, 25 Oct 2022 23:47:53 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/7/</guid><description>&lt;p>&lt;strong>7. Reverse Integer&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Math&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given a signed 32-bit integer &lt;code>x&lt;/code>, return &lt;code>x&lt;/code> &lt;em>with its digits reversed&lt;/em>. If reversing &lt;code>x&lt;/code> causes the value to go outside the signed 32-bit integer range &lt;code>[-2^31, 2^31-1]&lt;/code>, then return &lt;code>0&lt;/code>.&lt;br>
&lt;strong>Assume the environment does not allow you to store 64-bit integers (signed or unsigned).&lt;/strong>&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> x = 123&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 321&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> x = -123&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> -321&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 3:&lt;/strong>&lt;/p></description></item><item><title>[Leetcode] 6. Zigzag Conversion</title><link>https://intervalrain.github.io/leetcode/6/</link><pubDate>Tue, 25 Oct 2022 21:40:24 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/6/</guid><description>&lt;p>&lt;strong>6. Zigzag Conversion&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>String&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>The string &lt;code>&amp;quot;PAYPALISHIRING&amp;quot;&lt;/code> is written in a zigzag pattern on a given number of rows like this: (you may want to dispaly this pattern in a fixed font for better legibility)&lt;br>
\(
\quad\texttt{P A H N}\\
\quad\texttt{APLSIIG}\\
\quad\texttt{Y I R}\\
\)&lt;br>
And then read line by line: &lt;code>&amp;quot;PAHNAPLSIIGYIR&amp;quot;&lt;/code>&lt;br>
Write the code that will take a string and make this conversion given a number of rows:
&lt;code>string convert(string s, int numRows&lt;/code>&lt;/p></description></item><item><title>[LeetCode] 5. Longest Palindromic Substring</title><link>https://intervalrain.github.io/leetcode/5/</link><pubDate>Tue, 25 Oct 2022 16:32:51 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/5/</guid><description>&lt;p>&lt;strong>5. Longest Substring Without Repeating Characters&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>String&lt;/code>、&lt;code>Dynamic Programming&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given a string &lt;code>s&lt;/code>, return &lt;em>the longest palindromic substring&lt;/em> in &lt;code>s&lt;/code>.&lt;br>
A string is called a palindrome string if the reverse of that string is the same of the original string.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> s = &amp;ldquo;babad&amp;rdquo;&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> &amp;ldquo;bab&amp;rdquo;&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> &amp;ldquo;aba&amp;rdquo; is also a valid answer.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> s = &amp;ldquo;cbbd&amp;rdquo;&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> &amp;ldquo;bb&amp;rdquo;&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Constraints:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>1 &amp;lt;= s.length &amp;lt;= 1000&lt;/code>&lt;/li>
&lt;li>&lt;code>s&lt;/code> consists of only digits and English letters.&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="二分析">二、分析&lt;/h3>
&lt;ul>
&lt;li>注意 palindrome string 的特性：
&lt;ul>
&lt;li>當長度為 &lt;code>1&lt;/code> 時，必為 palindrome string&lt;/li>
&lt;li>當長度為 &lt;code>2&lt;/code> 時，兩個字元必須相同才為 palindrome string&lt;/li>
&lt;li>當長度 &lt;code>&amp;gt;2&lt;/code> 時，palindrome string 必須滿足
&lt;ol>
&lt;li>最左邊的字元等於最右邊的字元，即 &lt;code>s[left] == s[right]&lt;/code>&lt;/li>
&lt;li>除去最左邊的字元跟最右邊的字元，必須為 palindrome string，&lt;br>
即 &lt;code>s.substr(left+1, len-2)&lt;/code> 為 palindromic。&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="三解題">三、解題&lt;/h3>
&lt;h4 id="1-dynamic-prograimming">1. Dynamic Prograimming&lt;/h4>
&lt;ul>
&lt;li>Time complexity: \(O(n^2)\)&lt;/li>
&lt;li>Space complexity: \(O(n^2)\)&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-C++" data-lang="C++">&lt;span style="display:flex;">&lt;span>string &lt;span style="color:#a6e22e">longestPalindrome&lt;/span>(string s) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> s.length();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> dp[n][n];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> memset(dp, false, &lt;span style="color:#66d9ef">sizeof&lt;/span>(dp));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> len &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> j &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; j &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; j&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;=&lt;/span> j; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (i &lt;span style="color:#f92672">==&lt;/span> j) { &lt;span style="color:#75715e">// 長度為 1
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> dp[i][j] &lt;span style="color:#f92672">=&lt;/span> true;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> } &lt;span style="color:#66d9ef">else&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span> (j &lt;span style="color:#f92672">-&lt;/span> i &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>) { &lt;span style="color:#75715e">// 長度為 2
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> dp[i][j] &lt;span style="color:#f92672">=&lt;/span> s[i] &lt;span style="color:#f92672">==&lt;/span> s[j];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> } &lt;span style="color:#66d9ef">else&lt;/span> { &lt;span style="color:#75715e">// 長度 &amp;gt; 2
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> dp[i][j] &lt;span style="color:#f92672">=&lt;/span> s[i] &lt;span style="color:#f92672">==&lt;/span> s[j] &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> dp[i&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>][j&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (dp[i][j] &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> j &lt;span style="color:#f92672">-&lt;/span> i &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">&amp;gt;&lt;/span> len) { &lt;span style="color:#75715e">// 比較長度
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> len &lt;span style="color:#f92672">=&lt;/span> j &lt;span style="color:#f92672">-&lt;/span> i &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> s.substr(i, len);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;a href="https://intervalrain.github.io/leetcode">回目錄 Catalog&lt;/a>&lt;/p></description></item><item><title>[LeetCode] 4. Median of Two Sorted Arrays</title><link>https://intervalrain.github.io/leetcode/4/</link><pubDate>Tue, 25 Oct 2022 14:52:18 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/4/</guid><description>&lt;p>&lt;strong>4. Median of Two Sorted Arrays&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Binary Search&lt;/code>、&lt;code>Divide and Conquer&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given two sorted arrays &lt;code>nums1&lt;/code> and &lt;code>nums2&lt;/code> of size &lt;code>m&lt;/code> and &lt;code>n&lt;/code> respectively, return &lt;strong>the median&lt;/strong> of the sorted arrays.&lt;br>
The overall run time complexity should be &lt;code>O(log (m+n))&lt;/code>.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> nums1 = [1,3], nums2 = [2]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 2.00000&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> merged array = [1,2,3] and median is 2.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> nums1 = [1,2], nums2 = [3,4]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 2.50000&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> merged array = [1,2,3,4] and median is (2 + 3) / 2 = 2.5.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Constraints:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 3. Longest Substring Without Repeating Characters</title><link>https://intervalrain.github.io/leetcode/3/</link><pubDate>Tue, 25 Oct 2022 14:20:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/3/</guid><description>&lt;p>&lt;strong>3. Longest Substring Without Repeating Characters&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Hash Table&lt;/code>、&lt;code>String&lt;/code>、&lt;code>Sliding Window&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given a string &lt;code>s&lt;/code>, find the length of the &lt;strong>longest substring&lt;/strong> without repeating characters.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> s = &amp;ldquo;abcabcbb&amp;rdquo;&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 3&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> The answer is &amp;ldquo;abc&amp;rdquo;, with the length of 3.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> s = &amp;ldquo;bbbbb&amp;rdquo;&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 1&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> The answer is &amp;ldquo;b&amp;rdquo;, with the length of 1.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 3:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> s = &amp;ldquo;pwwkew&amp;rdquo;&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> 3&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> The answer is &amp;ldquo;wke&amp;rdquo;, with the length of 3. Notice that the answer must be a substring, &amp;ldquo;pwke&amp;rdquo; is a subsequence and not a substring.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Constraints:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 2. Add Two Numbers</title><link>https://intervalrain.github.io/leetcode/2/</link><pubDate>Tue, 25 Oct 2022 13:38:00 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/2/</guid><description>&lt;p>&lt;strong>2. Add Two Numbers&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Linked List&lt;/code>、&lt;code>Math&lt;/code>、&lt;code>Recursion&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>You are given two &lt;strong>non-empty&lt;/strong> linked lists representing two non-negative integers. The digits are stored in &lt;strong>reverse order&lt;/strong>, and each of their nodes contains a single digit. Add the two numbers and return the sum as a linked list.&lt;br>
You may assume the two numbers do not contain any leading zero, except the number 0 itself.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;br>
&lt;img alt="addtwonumber1" loading="lazy" src="https://assets.leetcode.com/uploads/2020/10/02/addtwonumber1.jpg">&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> l1 = [2,4,3], l2 = [5,6,4]&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [7,0,8]&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> 342 + 465 = 807&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 1297. Maximum Number of Occurrences of a Substring</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1297/</link><pubDate>Tue, 25 Oct 2022 12:43:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1297/</guid><description>&lt;ul>
&lt;li>難度分: 1748&lt;/li>
&lt;li>這題的 minSize 和 maxSize 在 26 以內，範圍不會太大，可以用定長度的 sliding window 硬解。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> maxFreq(string s, &lt;span style="color:#66d9ef">int&lt;/span> maxLetters, &lt;span style="color:#66d9ef">int&lt;/span> minSize, &lt;span style="color:#66d9ef">int&lt;/span> maxSize) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> minSize; i &lt;span style="color:#f92672">&amp;lt;=&lt;/span> maxSize; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, maxFreqWithWindowSize(s, maxLetters, i));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> &lt;span style="color:#a6e22e">maxFreqWithWindowSize&lt;/span>(string&lt;span style="color:#f92672">&amp;amp;&lt;/span> s, &lt;span style="color:#66d9ef">int&lt;/span> th, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> s.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> cnt[&lt;span style="color:#ae81ff">26&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> memset(cnt, &lt;span style="color:#ae81ff">0&lt;/span>, &lt;span style="color:#66d9ef">sizeof&lt;/span>(cnt));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> uq &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>string, &lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> map;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (cnt[s[i]&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>]&lt;span style="color:#f92672">++&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) uq&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (uq &lt;span style="color:#f92672">&amp;lt;=&lt;/span> th) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> map[s.substr(&lt;span style="color:#ae81ff">0&lt;/span>, k)]&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> };
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (cnt[s[i]&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>]&lt;span style="color:#f92672">++&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) uq&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#f92672">--&lt;/span>cnt[s[i&lt;span style="color:#f92672">-&lt;/span>k]&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>] &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) uq&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (uq &lt;span style="color:#f92672">&amp;lt;=&lt;/span> th) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> string t &lt;span style="color:#f92672">=&lt;/span> s.substr(i&lt;span style="color:#f92672">-&lt;/span>k&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>, k);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, &lt;span style="color:#f92672">++&lt;/span>map[t]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 1652. Defuse the Bomb</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1652/</link><pubDate>Tue, 25 Oct 2022 12:42:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1652/</guid><description>&lt;ul>
&lt;li>這題要用 sliding window 解需要處理 circular iteration&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> decrypt(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> code, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> code.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> res(n, &lt;span style="color:#ae81ff">0&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (k &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> m &lt;span style="color:#f92672">=&lt;/span> abs(k);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> start &lt;span style="color:#f92672">=&lt;/span> k &lt;span style="color:#f92672">&amp;gt;&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#f92672">?&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span> &lt;span style="color:#f92672">:&lt;/span> n&lt;span style="color:#f92672">+&lt;/span>k;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> sum &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> m; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> code[(start &lt;span style="color:#f92672">+&lt;/span> i) &lt;span style="color:#f92672">%&lt;/span> n];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res[&lt;span style="color:#ae81ff">0&lt;/span>] &lt;span style="color:#f92672">=&lt;/span> sum;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> m, j &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> m &lt;span style="color:#f92672">+&lt;/span> n &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>; i&lt;span style="color:#f92672">++&lt;/span>, j&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> in &lt;span style="color:#f92672">=&lt;/span> (start &lt;span style="color:#f92672">+&lt;/span> i) &lt;span style="color:#f92672">%&lt;/span> n;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> out &lt;span style="color:#f92672">=&lt;/span> (start &lt;span style="color:#f92672">+&lt;/span> i &lt;span style="color:#f92672">-&lt;/span> k) &lt;span style="color:#f92672">%&lt;/span> n;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> (code[(start &lt;span style="color:#f92672">+&lt;/span> i) &lt;span style="color:#f92672">%&lt;/span> n] &lt;span style="color:#f92672">-&lt;/span> code[(start &lt;span style="color:#f92672">+&lt;/span> i &lt;span style="color:#f92672">-&lt;/span> m) &lt;span style="color:#f92672">%&lt;/span> n]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res[j] &lt;span style="color:#f92672">=&lt;/span> sum;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 1. Two Sum</title><link>https://intervalrain.github.io/leetcode/1/</link><pubDate>Tue, 25 Oct 2022 12:41:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/1/</guid><description>&lt;p>&lt;strong>1. Two Sum&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{green}\textsf{Easy}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Hash Table&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an array of integers &lt;code>nums&lt;/code> and an integer &lt;code>target&lt;/code>, return &lt;em>indices of the two numbers such that they add up to &lt;code>target&lt;/code>&lt;/em>.&lt;br>
You may assume that each input would have &lt;strong>exactly one solution&lt;/strong>, and you may not use the &lt;em>same&lt;/em> element twice.&lt;br>
You can return the answer in any order.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> nums = [2,7,11,15], taget = 9&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [0,1]&lt;/li>
&lt;li>&lt;strong>Explanation:&lt;/strong> Because nums[0] + nums[1] == 9, we return [0,1].&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p></description></item><item><title>[LeetCode] 1423. Maximum Points You Can Obtain from Cards</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1423/</link><pubDate>Tue, 25 Oct 2022 12:41:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1423/</guid><description>&lt;ul>
&lt;li>難度分: 1574&lt;/li>
&lt;li>這題同樣是定長度的 sliding window，但要透過一點轉換，變成求 &lt;code>window = n - k&lt;/code> 的最小和&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> maxScore(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> cardPoints, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> cardPoints.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> m &lt;span style="color:#f92672">=&lt;/span> n&lt;span style="color:#f92672">-&lt;/span>k;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> sum &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> m; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> cardPoints[i];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> total &lt;span style="color:#f92672">=&lt;/span> sum;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> min_window_sum &lt;span style="color:#f92672">=&lt;/span> sum;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> m; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> (cardPoints[i] &lt;span style="color:#f92672">-&lt;/span> cardPoints[i&lt;span style="color:#f92672">-&lt;/span>m]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> total &lt;span style="color:#f92672">+=&lt;/span> cardPoints[i];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> min_window_sum &lt;span style="color:#f92672">=&lt;/span> min(min_window_sum, sum);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> total &lt;span style="color:#f92672">-&lt;/span> min_window_sum;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 2461. Maximum Sum of Distinct Subarrays With Length K</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2461/</link><pubDate>Tue, 25 Oct 2022 12:40:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2461/</guid><description>&lt;ul>
&lt;li>難度分: 1553&lt;/li>
&lt;li>定長度的 sliding window，搭配對 window 檢查是否滿足條件&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">long&lt;/span> &lt;span style="color:#66d9ef">long&lt;/span> maximumSubarraySum(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>, &lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> cnt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">long&lt;/span> &lt;span style="color:#66d9ef">long&lt;/span> sum &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> valid &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> nums[i];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (cnt[nums[i]]&lt;span style="color:#f92672">++&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) valid&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">long&lt;/span> &lt;span style="color:#66d9ef">long&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> valid &lt;span style="color:#f92672">==&lt;/span> k &lt;span style="color:#f92672">?&lt;/span> sum : &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> (nums[i] &lt;span style="color:#f92672">-&lt;/span> nums[i&lt;span style="color:#f92672">-&lt;/span>k]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (cnt[nums[i]]&lt;span style="color:#f92672">++&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) valid&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#f92672">--&lt;/span>cnt[nums[i&lt;span style="color:#f92672">-&lt;/span>k]] &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) valid&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (valid &lt;span style="color:#f92672">==&lt;/span> k) res &lt;span style="color:#f92672">=&lt;/span> max(res, sum);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 2841. Maximum Sum of Almost Unique Subarray</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2841/</link><pubDate>Tue, 25 Oct 2022 12:39:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2841/</guid><description>&lt;ul>
&lt;li>難度分: 1546&lt;/li>
&lt;li>定長度的 sliding window，搭配對 window 檢查是否滿足條件&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">long&lt;/span> &lt;span style="color:#66d9ef">long&lt;/span> maxSum(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> m, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_map&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>,&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> cnt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">long&lt;/span> &lt;span style="color:#66d9ef">long&lt;/span> sum &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">long&lt;/span> &lt;span style="color:#66d9ef">long&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> valid &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> nums[i];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (cnt[nums[i]]&lt;span style="color:#f92672">++&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) valid&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (valid &lt;span style="color:#f92672">&amp;gt;=&lt;/span> m) res &lt;span style="color:#f92672">=&lt;/span> sum;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> (nums[i] &lt;span style="color:#f92672">-&lt;/span> nums[i&lt;span style="color:#f92672">-&lt;/span>k]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (cnt[nums[i]]&lt;span style="color:#f92672">++&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) valid&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#f92672">--&lt;/span>cnt[nums[i&lt;span style="color:#f92672">-&lt;/span>k]] &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>) valid&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (valid &lt;span style="color:#f92672">&amp;gt;=&lt;/span> m) res &lt;span style="color:#f92672">=&lt;/span> max(res, sum);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 1461. Check If a String Contains All Binary Codes of Size K</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1461/</link><pubDate>Tue, 25 Oct 2022 12:38:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1461/</guid><description>&lt;ul>
&lt;li>難度分: 1504&lt;/li>
&lt;li>比較簡單的解法，使用 unordered_set&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> hasAllCodes(string s, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_set&lt;span style="color:#f92672">&amp;lt;&lt;/span>string&lt;span style="color:#f92672">&amp;gt;&lt;/span> set;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">+&lt;/span> k &lt;span style="color:#f92672">&amp;lt;=&lt;/span> s.size(); i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> set.insert(s.substr(i, k));
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> set.size() &lt;span style="color:#f92672">==&lt;/span> pow(&lt;span style="color:#ae81ff">2&lt;/span>, k);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>使用 sliding window，並運用移位運算子&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> hasAllCodes(string s, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (s.size() &lt;span style="color:#f92672">&amp;lt;&lt;/span> k) &lt;span style="color:#66d9ef">return&lt;/span> false;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> pow(&lt;span style="color:#ae81ff">2&lt;/span>, k);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">bool&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> used(n, false);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> curr &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">&amp;lt;&amp;lt;=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">+=&lt;/span> (s[i] &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#e6db74">&amp;#39;0&amp;#39;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> used[curr] &lt;span style="color:#f92672">=&lt;/span> true;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> s.size(); i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">&amp;lt;&amp;lt;=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">+=&lt;/span> (s[i] &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#e6db74">&amp;#39;0&amp;#39;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> curr &lt;span style="color:#f92672">%=&lt;/span> n;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> used[curr] &lt;span style="color:#f92672">=&lt;/span> true;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">all_of&lt;/span>(used.begin(), used.end(), [](&lt;span style="color:#66d9ef">int&lt;/span> x) { &lt;span style="color:#66d9ef">return&lt;/span> x; });
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 1052. Grumpy Bookstore Owner</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1052/</link><pubDate>Tue, 25 Oct 2022 12:36:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1052/</guid><description>&lt;ul>
&lt;li>難度分: 1418&lt;/li>
&lt;li>定長度的 sliding window，秒殺&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> maxSatisfied(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> customers, vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> grumpy, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> customers.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> sum &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#f92672">!&lt;/span>grumpy[i]) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> customers[i];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> customers[i] &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> customers[i];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> sum;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> (customers[i] &lt;span style="color:#f92672">-&lt;/span> customers[i&lt;span style="color:#f92672">-&lt;/span>k]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, sum);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 2379. Minimum Recolors to Get K Consecutive Black Blocks</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2379/</link><pubDate>Tue, 25 Oct 2022 12:35:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2379/</guid><description>&lt;ul>
&lt;li>難度分: 1360&lt;/li>
&lt;li>定長度的 sliding window，秒殺&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> minimumRecolors(string blocks, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> cnt &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (blocks[i] &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#e6db74">&amp;#39;B&amp;#39;&lt;/span>) cnt&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> k&lt;span style="color:#f92672">-&lt;/span>cnt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> blocks.size(); i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (blocks[i] &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#e6db74">&amp;#39;B&amp;#39;&lt;/span>) cnt&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (blocks[i&lt;span style="color:#f92672">-&lt;/span>k] &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#e6db74">&amp;#39;B&amp;#39;&lt;/span>) cnt&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> min(res, k&lt;span style="color:#f92672">-&lt;/span>cnt);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 2090. K Radius Subarray Averages</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2090/</link><pubDate>Tue, 25 Oct 2022 12:34:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2090/</guid><description>&lt;ul>
&lt;li>難度分: 1358
&lt;img alt="sample" loading="lazy" src="https://assets.leetcode.com/uploads/2021/11/07/eg1.png">&lt;/li>
&lt;li>這題一樣是定長度的 sliding window，但要做一下轉換，半徑為 &lt;code>k&lt;/code>，代表 window_size 為 &lt;code>2k+1&lt;/code>。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> getAverages(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> m &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">2&lt;/span>&lt;span style="color:#f92672">*&lt;/span>k&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> res(n, &lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (m &lt;span style="color:#f92672">&amp;gt;&lt;/span> n) &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">long&lt;/span> &lt;span style="color:#66d9ef">long&lt;/span> sum &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> m; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> nums[i];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res[k] &lt;span style="color:#f92672">=&lt;/span> sum &lt;span style="color:#f92672">/&lt;/span> m;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> m, j &lt;span style="color:#f92672">=&lt;/span> k&lt;span style="color:#f92672">+&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>, j&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> (nums[i] &lt;span style="color:#f92672">-&lt;/span> nums[i&lt;span style="color:#f92672">-&lt;/span>m]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res[j] &lt;span style="color:#f92672">=&lt;/span> sum &lt;span style="color:#f92672">/&lt;/span> m;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 1343. Number of Sub-arrays of Size K and Average Greater than or Equal to Threshold</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1343/</link><pubDate>Tue, 25 Oct 2022 12:33:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1343/</guid><description>&lt;ul>
&lt;li>難度分: 1317&lt;/li>
&lt;li>定長度的 sliding window，秒殺&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> numOfSubarrays(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> arr, &lt;span style="color:#66d9ef">int&lt;/span> k, &lt;span style="color:#66d9ef">int&lt;/span> threshold) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> threshold &lt;span style="color:#f92672">*=&lt;/span> k;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> sum &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> arr[i];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (sum &lt;span style="color:#f92672">&amp;gt;=&lt;/span> threshold) res&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> arr.size(); i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> (arr[i] &lt;span style="color:#f92672">-&lt;/span> arr[i&lt;span style="color:#f92672">-&lt;/span>k]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (sum &lt;span style="color:#f92672">&amp;gt;=&lt;/span> threshold) res&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 643. Maximum Average Subarray I</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/643/</link><pubDate>Tue, 25 Oct 2022 12:32:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/643/</guid><description>&lt;ul>
&lt;li>定長度的 sliding window，秒殺&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">double&lt;/span> findMaxAverage(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> sum &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> nums[i];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> sum;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> nums.size(); i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">+=&lt;/span> nums[i];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sum &lt;span style="color:#f92672">-=&lt;/span> nums[i&lt;span style="color:#f92672">-&lt;/span>k];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, sum);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res&lt;span style="color:#f92672">/&lt;/span>(&lt;span style="color:#66d9ef">double&lt;/span>)k;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 1456. Maximum Number of Vowels in a Substring of Given Length</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1456/</link><pubDate>Tue, 25 Oct 2022 12:31:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1456/</guid><description>&lt;ul>
&lt;li>難度分: 1263&lt;/li>
&lt;li>定長度的 sliding window，秒殺&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> maxVowels(string s, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> cnt &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unordered_set&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">char&lt;/span>&lt;span style="color:#f92672">&amp;gt;&lt;/span> set &lt;span style="color:#f92672">=&lt;/span> {&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;e&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;i&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;o&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;u&amp;#39;&lt;/span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> k; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (set.count(s[i])) cnt&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> res &lt;span style="color:#f92672">=&lt;/span> cnt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> k; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> s.size(); i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (set.count(s[i])) cnt&lt;span style="color:#f92672">++&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (set.count(s[i&lt;span style="color:#f92672">-&lt;/span>k])) cnt&lt;span style="color:#f92672">--&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> res &lt;span style="color:#f92672">=&lt;/span> max(res, cnt);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> res;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] 定長 Sliding Window Pattern</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/pattern_1/</link><pubDate>Tue, 25 Oct 2022 12:31:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/pattern_1/</guid><description>&lt;ul>
&lt;li>定長度的 sliding window pattern&lt;/li>
&lt;li>步驟
&lt;ol>
&lt;li>construct sliding window + check condition&lt;/li>
&lt;li>move sliding window&lt;br>
(1) remove item&lt;br>
(2) check condition&lt;br>
(3) add item&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-cpp" data-lang="cpp">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Window&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> add(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">erase&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#66d9ef">bool&lt;/span> &lt;span style="color:#a6e22e">check&lt;/span>(&lt;span style="color:#66d9ef">int&lt;/span> num) &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">virtual&lt;/span> &lt;span style="color:#f92672">~&lt;/span>Window() {}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">Solution&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">private&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> unique_ptr&lt;span style="color:#f92672">&amp;lt;&lt;/span>Window&lt;span style="color:#f92672">&amp;gt;&lt;/span> _w;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">public&lt;/span>&lt;span style="color:#f92672">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">bool&lt;/span> solve(vector&lt;span style="color:#f92672">&amp;lt;&lt;/span>&lt;span style="color:#66d9ef">int&lt;/span>&lt;span style="color:#f92672">&amp;gt;&amp;amp;&lt;/span> nums, &lt;span style="color:#66d9ef">int&lt;/span> k) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w &lt;span style="color:#f92672">=&lt;/span> make_unique&lt;span style="color:#f92672">&amp;lt;&lt;/span>WindowImpl&lt;span style="color:#f92672">&amp;gt;&lt;/span>(k);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">int&lt;/span> n &lt;span style="color:#f92672">=&lt;/span> nums.size();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> (&lt;span style="color:#66d9ef">int&lt;/span> i &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>; i &lt;span style="color:#f92672">&amp;lt;&lt;/span> n; i&lt;span style="color:#f92672">++&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (i &lt;span style="color:#f92672">&amp;gt;=&lt;/span> k) _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>erase(nums[i&lt;span style="color:#f92672">-&lt;/span>k]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> (_w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>check(nums[i])) &lt;span style="color:#66d9ef">return&lt;/span> true;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> _w&lt;span style="color:#f92672">-&amp;gt;&lt;/span>add(nums[i]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">return&lt;/span> false;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>[LeetCode] Sliding Window and Double Pointer 科學刷題</title><link>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/</link><pubDate>Tue, 25 Oct 2022 12:30:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/</guid><description>&lt;h1 id="1-定長滑動窗口">1. 定長滑動窗口&lt;/h1>
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/pattern_1">定長滑動窗口 pattern&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="11-基礎">1.1 基礎&lt;/h2>
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1456">1456. Maximum Number of Vowels in a Substring of Given Length&lt;/a>(1263)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/643">643. Maximum Average Subarray I&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1343">1343. Number of Sub-arrays of Size K and Average Greater than or Equal to Threshold&lt;/a>(1317)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2090">2090. K Radius Subarray Averages&lt;/a>(1358)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2379">2379. Minimum Recolors to Get K Consecutive Black Blocks&lt;/a>(1360)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1052">1052. Grumpy Bookstore Owner&lt;/a>(1418)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1461">1461. Check If a String Contains All Binary Codes of Size K&lt;/a>(1504)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2841">2841. Maximum Sum of Almost Unique Subarray&lt;/a>(1546)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2461">2461. Maximum Sum of Distinct Subarrays With Length K&lt;/a>(1553)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1423">1423. Maximum Points You Can Obtain from Cards&lt;/a>(1574)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1652">1652. Defuse the Bomb&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1297">1297. Maximum Number of Occurrences of a Substring&lt;/a>(1748)&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 1176. Diet Plan Performance(會員題)&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 1100. Find K-Length Substrings With No Repeated Characters(會員題)&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 1852. Distinct Numbers in Each Subarray(會員題)&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 1151. Minimum Swaps to Group All 1&amp;rsquo;s Together(會員題)&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 2107. Number of Unique Flavors After sharing K Candies(會員題)&lt;/li>
&lt;/ul>
&lt;h2 id="12-進階">1.2 進階&lt;/h2>
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2134">2134. Minimum Swaps to Group All 1&amp;rsquo;s Together II&lt;/a>(1748)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2653">2653. Sliding Subarray Beauty&lt;/a>(1786)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1888">1888. Minimum Number of Flips to Make the Binary String Alternating&lt;/a>(2006)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/567">567. Permutation in String&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/438">438. Find All Anagrams in a String&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/30">30. Substring with Concatenation of All Words&lt;/a>&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2156">2156. Find Substring With Given Hash Value&lt;/a>(2063)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2953">2953. Count Complete Substrings&lt;/a>(2449)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1016">1016. Binary String With Substrings Representing 1 To N&lt;/a>&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 683. K Empty Slots(會員題)&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 2067. Number of Equal Count Substrings(會員題)&lt;/li>
&lt;li>&lt;input disabled="" type="checkbox"> 2524. Maximum Frequency Score of a substring(會員題)&lt;/li>
&lt;/ul>
&lt;h2 id="13-其它">1.3 其它&lt;/h2>
&lt;ul>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/2269">2269. Find the K-Beauty of a Number&lt;/a>(1280)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/1984">1984. Minimum Difference Between Highest and Lowest of K Scores&lt;/a>(1306)&lt;/li>
&lt;li>&lt;input checked="" disabled="" type="checkbox"> &lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr/220">220. Contains Duplicate III&lt;/a>&lt;/li>
&lt;/ul>
&lt;h1 id="2-不定長滑動窗口">2. 不定長滑動窗口&lt;/h1>
&lt;blockquote>
&lt;p>不定長滑動窗口主要分為三類：求最長子數組、求最短子數組，以及求子數組個數。&lt;/p></description></item><item><title>[LeetCode] Catalog</title><link>https://intervalrain.github.io/leetcode/</link><pubDate>Tue, 25 Oct 2022 11:30:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/</guid><description>&lt;p>&lt;a href="https://intervalrain.github.io/leetcode_list">科學刷題&lt;/a>&lt;/p>
&lt;h2 id="catalog">&lt;strong>Catalog&lt;/strong>&lt;/h2>
&lt;h2 id="一依題號">一、依題號&lt;/h2>
&lt;h3 id="1-50045">1-500(45)&lt;/h3>
&lt;p>&lt;a href="https://intervalrain.github.io/leetcode/1">1. Two Sum&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/2">2. Add Two Numbers&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/3">3. Longest Substring Without Repeating Characters&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/4">4. Median of Two Sorted Array&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/5">5. Longest Palindromic Substring&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/6">6. Zigzag Conversion&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/7">7. Reverse Integer&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/8">8. String to Integer (atoi)&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/9">9. Palindrome Number&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/10">10. Regular Expression Matching&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/11">11. Container With Most Water&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/12">12. Integer to Roman&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/13">13. Roman to Integer&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/14">14. Longest Common Prefix&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/15">15. 3Sum&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/16">16. 3Sum Closet&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/17">17. Letter Combinations of a Phone Number&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/18">18. 4Sum&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/19">19. Remove Nth Node From End of List&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/20">20. Valid Parentheses&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/21">21. Merge Two Sorted Lists&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/22">22. Generate Parentheses&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/23">23. Merge k Sorted Lists&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/24">24. Swap Nodes in Pairs&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/25">25. Reverse Nodes in k-Group&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/53">53. Maximum Subarray&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/70">70. Climbing Stairs&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/79">79. Word Search&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/100">100. Same Tree&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/124">124. Binary Tree Maximum Path Sum&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/132">132. Palindrome Partitioning II&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/149">149. Max Points on a Line&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/151">151. Reverse Words in a String&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/198">198. House Robber&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/212">212. Word Search II&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/213">213. House Robber II&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/223">223. Rectangle Area&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/279">279. Perfect Squares&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/290">290. Word Pattern&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/300">300. Longest Increasing Subsequence&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/322">322. Coin Change&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/328">328. Odd Even Linked List&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/337">337. House Robber III&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/347">347. Top K Frequent Elements&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/374">374. Guess Number Higher or Lower II&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/433">433. Minimum Genetic Mutation&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/446">446. Arithmetic Slices II - Subsequence&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode/452">452. Minimum Number of Arrows to Burst Balloons&lt;/a>&lt;/p></description></item><item><title>[LeetCode] 分類清單</title><link>https://intervalrain.github.io/leetcode_list/</link><pubDate>Tue, 25 Oct 2022 11:30:32 +0800</pubDate><guid>https://intervalrain.github.io/leetcode_list/</guid><description>&lt;h2 id="分類清單">分類清單&lt;/h2>
&lt;p>&lt;a href="https://intervalrain.github.io/leetcode_list/sliding_window_dblptr">1. 滑動窗口與雙指針（定長／不定長／單序列／雙序列／三指針／分組循環）&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode_list/binary_search">2. 二分演算法（二分答案／最小化最大值／最大化最小值／Kth）&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode_list/monotonic_stack">3. 單調棧（基礎／矩形面積／貢獻法／最小字典序）&lt;/a>
&lt;a href="https://intervalrain.github.io/leetcode_list/grid">4. 網格圖（DFS／BFS／綜合應用）&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode_list/bit_manipulation">5. 位運算（基礎／性質／拆位／試填／恆等式／思維）&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode_list/graph">6. 圖論演算法（DFS／BFS／拓撲排序／最短路／最小生成樹／二分圖／基環樹／歐拉路徑）&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode_list/dynamic_programming">7. 動態規劃（入門／背包／狀態機／劃分／區間／狀壓／數位／數據結構優化／樹形／博弈／概率期望）&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode_list/common_data_structure">8. 常用數據結構（前綴和／差分／棧／佇列／堆／字典樹／並查集／樹狀樹組／線段樹）&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode_list/math">9. 數學演算法（數論／組合／概率期望／博弈／計算幾何／隨機算法）&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode_list/greedy">10. 貪心與思維（基本貪心策略／反悔／區間／字典序／數學／思維／腦筋急轉彎／構造）&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode_list/linked_list_binary_tree">11. 鏈表、二叉樹與回溯（前後指針／快慢指針／DFS／BFS／直徑／LCA／一般樹）&lt;/a>&lt;br>
&lt;a href="https://intervalrain.github.io/leetcode_list/string">12. 字串（KMP／Z函數／Manacher／字串Hash／AC自動機／後綴數組／子序列自動機）&lt;/a> 　&lt;/p></description></item><item><title>[Problem] Version Query</title><link>https://intervalrain.github.io/leetcode/versionquery/</link><pubDate>Thu, 20 Oct 2022 22:29:15 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/versionquery/</guid><description>&lt;p>&lt;strong>Version Query&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{red}\textsf{Hard}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Binary Search&lt;/code>、&lt;code>Segment Tree&lt;/code>、&lt;code>Heap (Priority Queue&lt;/code>、&lt;code>Hash Table&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an information of application(APK) about its range of versions, find its corresponding OS version. If APK versions are probable for two or more OS versions, it must be belong to the latest OS version.&lt;br>
The given apk_info structure is given as below.&lt;br>
&lt;strong>struct apk_info {&lt;/strong>&lt;br>
　　&lt;strong>int apk_version;&lt;/strong>&lt;br>
　　&lt;strong>int min_version = 1;&lt;/strong>&lt;br>
　　&lt;strong>int max_version = INT_MAX;&lt;/strong>&lt;br>
&lt;strong>}&lt;/strong>&lt;/p></description></item><item><title>[C++] Segment Tree</title><link>https://intervalrain.github.io/c++/segtree/</link><pubDate>Tue, 18 Oct 2022 23:14:38 +0800</pubDate><guid>https://intervalrain.github.io/c++/segtree/</guid><description>用 C++ 介紹資料結構線段樹</description></item><item><title>[C++] stringstream 類範例 - split 與 concat</title><link>https://intervalrain.github.io/c++/stringstream/</link><pubDate>Fri, 14 Oct 2022 00:21:23 +0800</pubDate><guid>https://intervalrain.github.io/c++/stringstream/</guid><description>C++ 中字拆的 split 實作與 concatenate 實作</description></item><item><title>[Algo] 0-1. 複雜度分析 Algorithmic complexity / Big-O / Asymptotic analysis</title><link>https://intervalrain.github.io/cs/algo/bigo/</link><pubDate>Thu, 06 Oct 2022 23:00:28 +0800</pubDate><guid>https://intervalrain.github.io/cs/algo/bigo/</guid><description>演算法的複雜度分析，與複雜度的表示法</description></item><item><title>[Algo] 0-4. 二叉樹(Binary Tree)</title><link>https://intervalrain.github.io/cs/algo/binary_tree/</link><pubDate>Thu, 06 Oct 2022 23:00:28 +0800</pubDate><guid>https://intervalrain.github.io/cs/algo/binary_tree/</guid><description>演算法思維，介紹二叉樹這種資料結構以及如何使用它與 Leetcode 相關範例介紹</description></item><item><title>[Algo] 0-3. 鏈表(Linked List)</title><link>https://intervalrain.github.io/cs/algo/linked_list/</link><pubDate>Thu, 06 Oct 2022 22:30:28 +0800</pubDate><guid>https://intervalrain.github.io/cs/algo/linked_list/</guid><description>演算法結構介紹，介紹鏈表的遍歷，與常見的經典考題與常用到的操作手法</description></item><item><title>[Algo] 0-2. 算法思維</title><link>https://intervalrain.github.io/cs/algo/concept/</link><pubDate>Thu, 06 Oct 2022 22:15:28 +0800</pubDate><guid>https://intervalrain.github.io/cs/algo/concept/</guid><description>演算法的思維，在深入 Leetcode 世界前的一些基礎引導</description></item><item><title>CS 學習筆記</title><link>https://intervalrain.github.io/csindex/</link><pubDate>Thu, 06 Oct 2022 22:01:48 +0800</pubDate><guid>https://intervalrain.github.io/csindex/</guid><description>rainhu的資工學習筆記</description></item><item><title>[DS] 演算法筆記</title><link>https://intervalrain.github.io/cs/algo/</link><pubDate>Thu, 06 Oct 2022 22:00:28 +0800</pubDate><guid>https://intervalrain.github.io/cs/algo/</guid><description>演算法筆記，提供各式各樣的程式設計演算法，並以 leetcode 題目或是實際案例出發，介紹並分析解法。</description></item><item><title>[IT] 動態鏈結庫(DDL)</title><link>https://intervalrain.github.io/it/ddl/</link><pubDate>Sun, 18 Sep 2022 22:45:56 +0800</pubDate><guid>https://intervalrain.github.io/it/ddl/</guid><description>Command to construct DDL</description></item><item><title>[IT] MySQL Functions</title><link>https://intervalrain.github.io/it/mysql/</link><pubDate>Thu, 01 Sep 2022 13:28:14 +0800</pubDate><guid>https://intervalrain.github.io/it/mysql/</guid><description>Built-in function in MySQL</description></item><item><title>[IT] SQL</title><link>https://intervalrain.github.io/it/sql/</link><pubDate>Thu, 01 Sep 2022 13:28:14 +0800</pubDate><guid>https://intervalrain.github.io/it/sql/</guid><description>Base command of SQL</description></item><item><title>[Leetcode] 347. Top K Frequent Elements</title><link>https://intervalrain.github.io/leetcode/347/</link><pubDate>Sat, 23 Jul 2022 23:48:15 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/347/</guid><description>&lt;p>&lt;strong>347. Top K Frequent Elements&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Hardness: \(\color{orange}\textsf{Medium}\)&lt;/li>
&lt;li>Ralated Topics: &lt;code>Array&lt;/code>、&lt;code>Hash Table&lt;/code>、&lt;code>Divide and Conquer&lt;/code>、&lt;code>Sorting&lt;/code>、&lt;code>Heap (Priority Queue)&lt;/code>、&lt;code>Bucket Sort&lt;/code>、&lt;code>Counting&lt;/code>、&lt;code>Quickselect&lt;/code>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h3 id="一題目">一、題目&lt;/h3>
&lt;p>Given an integer array &lt;code>nums&lt;/code> and an integer &lt;code>k&lt;/code>, return the &lt;code>k&lt;/code> &lt;em>most frequent elements&lt;/em>. You may return the answer in &lt;strong>any order&lt;/strong>.&lt;/p>
&lt;p>&lt;strong>Example 1:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> nums = [1,1,1,2,2,3], k = 2&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [1,2]&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Example 2:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Input:&lt;/strong> nums = [1], k = 1&lt;/li>
&lt;li>&lt;strong>Output:&lt;/strong> [1]&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Constraints:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>1 &amp;lt;= nums.length &amp;lt;= 10^5&lt;/code>&lt;/li>
&lt;li>&lt;code>-10^4 &amp;lt;= nums[i] &amp;lt;= 10^4&lt;/code>&lt;/li>
&lt;li>&lt;code>k&lt;/code> is in the range &lt;code>[1, the number of unique elements in the array]&lt;/code>.&lt;/li>
&lt;li>It is &lt;strong>guaranteed&lt;/strong> that the answer is &lt;strong>unique&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Follow up:&lt;/strong> Your algorithm&amp;rsquo;s time complexity must be better than &lt;code>O(n log n)&lt;/code>, where n is the array&amp;rsquo;s size.&lt;/p></description></item><item><title>[Life] July's plan</title><link>https://intervalrain.github.io/life/prepare/</link><pubDate>Sat, 16 Jul 2022 17:48:09 +0800</pubDate><guid>https://intervalrain.github.io/life/prepare/</guid><description>Study plan for July</description></item><item><title>[統計] 統計學概要</title><link>https://intervalrain.github.io/device/statistics/</link><pubDate>Sat, 09 Jul 2022 20:02:28 +0800</pubDate><guid>https://intervalrain.github.io/device/statistics/</guid><description>用自身工經驗簡述實務上應用的統計學</description></item><item><title>[CA] 記憶體</title><link>https://intervalrain.github.io/cs/ca/memory/</link><pubDate>Sun, 03 Jul 2022 01:54:06 +0800</pubDate><guid>https://intervalrain.github.io/cs/ca/memory/</guid><description>&lt;h1 id="準備中">準備中&lt;/h1></description></item><item><title>[CA] Pipeline</title><link>https://intervalrain.github.io/cs/ca/pipeline/</link><pubDate>Sun, 03 Jul 2022 01:54:02 +0800</pubDate><guid>https://intervalrain.github.io/cs/ca/pipeline/</guid><description>&lt;h1 id="準備中">準備中&lt;/h1></description></item><item><title>[CA] 處理器</title><link>https://intervalrain.github.io/cs/ca/processor/</link><pubDate>Sun, 03 Jul 2022 01:54:02 +0800</pubDate><guid>https://intervalrain.github.io/cs/ca/processor/</guid><description>&lt;h1 id="準備中">準備中&lt;/h1></description></item><item><title>[CA] 計算機算術</title><link>https://intervalrain.github.io/cs/ca/arithmetic/</link><pubDate>Sun, 03 Jul 2022 01:53:50 +0800</pubDate><guid>https://intervalrain.github.io/cs/ca/arithmetic/</guid><description>&lt;h1 id="準備中">準備中&lt;/h1></description></item><item><title>[CA] 指令集架構</title><link>https://intervalrain.github.io/cs/ca/isa/</link><pubDate>Sun, 03 Jul 2022 01:53:45 +0800</pubDate><guid>https://intervalrain.github.io/cs/ca/isa/</guid><description>&lt;h1 id="準備中">準備中&lt;/h1></description></item><item><title>[作業系統] 計算機組織與結構</title><link>https://intervalrain.github.io/cs/ca/</link><pubDate>Sun, 03 Jul 2022 01:39:35 +0800</pubDate><guid>https://intervalrain.github.io/cs/ca/</guid><description>&lt;h1 id="計算機組織與結構">計算機組織與結構&lt;/h1>
&lt;ul>
&lt;li>&lt;a href="https://intervalrain.github.io/cs/ca/abstraction">計算機抽象化與科技&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://intervalrain.github.io/cs/ca/isa">指令集架構&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://intervalrain.github.io/cs/ca/arithmetic">計算機算術&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://intervalrain.github.io/cs/ca/processor">處理器&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://intervalrain.github.io/cs/ca/pipeline">Pipeline&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://intervalrain.github.io/cs/ca/memory">記憶體&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="參考資料">參考資料&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://ocw.nthu.edu.tw/ocw/index.php?page=course&amp;amp;cid=76">黃婷婷 清大開放式課程 計算機結構&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://mropengate.blogspot.tw/">Mr. opengate&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>CPU 個數、CPU 核心數、CPU 執行緒數</title><link>https://intervalrain.github.io/cs/os/cpucorethread/</link><pubDate>Sat, 02 Jul 2022 21:43:15 +0800</pubDate><guid>https://intervalrain.github.io/cs/os/cpucorethread/</guid><description>Introduction to CPU, core and thread</description></item><item><title>[作業系統] 計算機作業系統</title><link>https://intervalrain.github.io/cs/os/</link><pubDate>Sat, 02 Jul 2022 04:00:55 +0800</pubDate><guid>https://intervalrain.github.io/cs/os/</guid><description>&lt;h1 id="計算機作業系統">計算機作業系統&lt;/h1>
&lt;ul>
&lt;li>&lt;a href="https://intervalrain.github.io/cs/os/intro">概述&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://intervalrain.github.io/cs/os/processmanagement">進程管理&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://intervalrain.github.io/cs/os/deadlock">死鎖&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://intervalrain.github.io/cs/os/memorymanagement">記憶體管理&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://intervalrain.github.io/cs/os/equipmentmanagement">設備管理&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://intervalrain.github.io/cs/os/link">鏈接&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="參考資料">參考資料&lt;/h2>
&lt;ul>
&lt;li>&lt;a href="https://github.com/CyC2018/CS-Notes">cyc2018&lt;/a>&lt;/li>
&lt;li>&lt;a href="http://mropengate.blogspot.tw/">Mr. opengate&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>[計算機作業系統] 死鎖</title><link>https://intervalrain.github.io/cs/os/deadlock/</link><pubDate>Sat, 02 Jul 2022 04:00:55 +0800</pubDate><guid>https://intervalrain.github.io/cs/os/deadlock/</guid><description>&lt;h1 id="準備中">準備中&lt;/h1></description></item><item><title>[計算機作業系統] 記憶體管理</title><link>https://intervalrain.github.io/cs/os/memorymanagement/</link><pubDate>Sat, 02 Jul 2022 04:00:55 +0800</pubDate><guid>https://intervalrain.github.io/cs/os/memorymanagement/</guid><description>&lt;h1 id="準備中">準備中&lt;/h1></description></item><item><title>[計算機作業系統] 設備管理</title><link>https://intervalrain.github.io/cs/os/equipmentmanagement/</link><pubDate>Sat, 02 Jul 2022 04:00:55 +0800</pubDate><guid>https://intervalrain.github.io/cs/os/equipmentmanagement/</guid><description>&lt;h1 id="準備中">準備中&lt;/h1></description></item><item><title>[計算機作業系統] 進程管理</title><link>https://intervalrain.github.io/cs/os/processmanagement/</link><pubDate>Sat, 02 Jul 2022 04:00:55 +0800</pubDate><guid>https://intervalrain.github.io/cs/os/processmanagement/</guid><description>&lt;h1 id="進程管理">進程管理&lt;/h1>
&lt;h2 id="進程與執行緒">進程與執行緒&lt;/h2>
&lt;h3 id="1-進程process">1. 進程(process)&lt;/h3>
&lt;ul>
&lt;li>進程是資源分配的基本單位。&lt;/li>
&lt;li>進程控制塊(Process Control Block, PCB)描述進程的基本訊息和運行狀態，所謂的創建進程和撤銷進程，都是指對 PCB 的操作。
&lt;img alt="PCB" loading="lazy" src="https://www.usna.edu/Users/cs/bilzor/ic411/calendar.php?key=c8bc3778e1e290e4a99e60360fa8c03a340b21ad&amp;type=class&amp;event=6">&lt;/li>
&lt;/ul>
&lt;h3 id="2-執行緒thread">2. 執行緒(thread)&lt;/h3>
&lt;ul>
&lt;li>執行緒又稱線程，是獨立調度的基本單位。&lt;/li>
&lt;li>一個進程可以有多個執行緒，它們共享進程資源。&lt;/li>
&lt;li>以瀏覽器(browser)為例，瀏覽器進程有很多執行緒，如 HTTP 請求(request)、事件響應、渲染。執行緒的並行處理(concurrent)使得瀏覽器中點擊一個新的超連結從而發起 HTTP 請求時，瀏覽器還可以響應用戶的其它事件。
&lt;img alt="thread" loading="lazy" src="https://4.bp.blogspot.com/-QyEW1jszBJM/UnUsSC-mVOI/AAAAAAAAABY/Z94NgDcWTb4/s640/process-thread.png">&lt;/li>
&lt;/ul>
&lt;h3 id="3-區別">3. 區別&lt;/h3>
&lt;ol>
&lt;li>擁有資源
&lt;ul>
&lt;li>進程是資源分配的基本單位，但是執行緒不擁有資源，而是訪問隸屬進程的資源。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>調度
&lt;ul>
&lt;li>執行緒是獨立調度的基本單位，在同一進程中，執行緒的切換不會引起進程切換，從一個進程中的執行緒切換到另一個進程中的執行緒時，才會進行進程的切換。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>系統開銷
&lt;ul>
&lt;li>由於創建或撤銷進程時，系統都要為之分配或回收資源，如硬碟中的記憶體、I/O 設備等，所付出的開銷遠大於創建或撤銷執行緒時的開銷。&lt;/li>
&lt;li>同樣的，在進行進程切換時，涉及當前執行進程 CPU 環境的保存及新調度進程 CPU 環境的設置，而執行緒切換只需保存和設置少量暫存器的內容，開銷較小。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>通訊
&lt;ul>
&lt;li>執行緒可以通過直接讀寫同一個進程中的數據進行通訊，但是進程的通訊需要借助 IPC(inter-process communication)。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h2 id="進程狀態的切換">進程狀態的切換&lt;/h2>
&lt;p>&lt;img alt="process state" loading="lazy" src="https://jingtao.fun/images/%E8%AF%BB%E4%B9%A6-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20201102105129598.png">&lt;/p>
&lt;ul>
&lt;li>就緒就態(ready)：等待被調度&lt;/li>
&lt;li>執行狀態(running)&lt;/li>
&lt;li>阻塞狀態(waiting)：等待資源
&lt;ul>
&lt;li>只有就緒狀態和執行狀態可以相互轉換，其它的都是單向轉換。就緒狀態的進程通過調度演算法從而獲得 CPU Time，轉為執行狀態；而執行狀態的進程，在分配給它的 CPU Time 片段用完之後就會轉為就緒狀態，等待下一次調度。&lt;/li>
&lt;li>阻塞狀態是缺少需要的資源從而由執行狀態轉換而來，但是該資源不包括 CPU Time, 缺少 CPU Time 會從執行狀態轉換為就緒狀態。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="進程調度演算法">進程調度演算法&lt;/h2>
&lt;ul>
&lt;li>不同環境的調度演算法目標不同，因此需要針對不同環境來討論調度演算法。&lt;/li>
&lt;/ul>
&lt;h3 id="1-批次處理系統batch-system">1. 批次處理系統(batch system)&lt;/h3>
&lt;ul>
&lt;li>批次處理系統沒有太多的用戶操作，在該系統中，調度演算法目標是保証吞吐量和周轉時間(從提交到終止的時間)。&lt;/li>
&lt;/ul>
&lt;h4 id="11-先來先服務first-come-first-served-fcfs">1.1 先來先服務(first-come first-served, FCFS)&lt;/h4>
&lt;ul>
&lt;li>非搶占式的調度，按照請求的順序進行調度。&lt;/li>
&lt;li>有利於長作業，不利於短作業，因為短作業必須一直等待前面的長作業執行完畢才能執行，而長作業又需要執行很長時間，造成短作業等待時間過長&lt;/li>
&lt;/ul>
&lt;h4 id="12-短作業優先shortest-job-first-sjf">1.2 短作業優先(shortest job first, SJF)&lt;/h4>
&lt;ul>
&lt;li>非搶占式的調度算法，按估計運行時間最短的順序進行調度。&lt;/li>
&lt;li>長作業有可能會永遠做不完，處於一直等待短作業執行完畢的狀態。因為如果一直有短作業到來，那麼長作業永遠得不到調度。&lt;/li>
&lt;/ul>
&lt;h4 id="13-最短剩餘時間優先shortest-remaining-time-next-srtn">1.3 最短剩餘時間優先(shortest remaining time next, SRTN)&lt;/h4>
&lt;ul>
&lt;li>最短作業優先的搶占式版本，按剩餘運行時間的順序進行調度。當一個新的作業到達時，其整個運行時間與當前進程的剩餘時間作比較。如果新的進程需要的時間更少，則夠停當下進程，運行新的進程；否則則讓新的進程進入等待。&lt;/li>
&lt;/ul>
&lt;h3 id="2-交互式系統time-sharing-system">2. 交互式系統(time-sharing system)&lt;/h3>
&lt;ul>
&lt;li>交互式系統有大量的用戶交互操作，在該系統中調度演算法的目標是快速地進行響應。&lt;/li>
&lt;/ul>
&lt;h4 id="21-時間片段輪轉robin-round-scheduling-rr">2.1 時間片段輪轉(robin round scheduling, RR)&lt;/h4>
&lt;ul>
&lt;li>將所有就緒進程按 FCFS 的原則排成一個佇列，每次調度時，把 CPU 時間分配給佇首進程，該進程可以執行一個時間片段，當時間片段用完時，由計時器發出時鐘中斷，調度程序便停止該進程的執行，並將它送往就緒佇尾，同時繼續把 CPU 時間分配給佇首的進程。&lt;/li>
&lt;li>時間片段輪轉演算法的效率和時間片段的大小很有關係：
&lt;ul>
&lt;li>因為進程切換都要保存進程的訊息並且載入新進程的訊息，如果時間片段太小，會導致頻繁地切換進程，導致時間浪費。&lt;/li>
&lt;li>而如果時間片段過長，那麼實時性就不能得到保証。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h4 id="22-優先級調度priority-scheduling">2.2 優先級調度(priority scheduling)&lt;/h4>
&lt;ul>
&lt;li>為每個進程分配一個優先級，按優先級進行調度。&lt;/li>
&lt;li>為了防止低優先級的進程永遠等不到調度，可以隨著時間的推移增加等待進程的優先級。&lt;/li>
&lt;/ul>
&lt;h4 id="23-多級反饋佇列multilevel-feedback-queue-scheduling-mlfq">2.3 多級反饋佇列(Multilevel Feedback-Queue Scheduling, MLFQ)&lt;/h4>
&lt;ul>
&lt;li>一個進程需要執行 100 個時間片段，如果採用時間片段輪轉調度演算法，那麼需要交換 100 次。&lt;/li>
&lt;li>多級佇列是為這種需要連續執行多個時間片段的進程考慮，它設置了多個佇列，每個佇列時間片段大小都不同，例如 1, 2, 4, 8,&amp;hellip;。進程在第一個佇列沒執行完，就會被移到下一個佇列。這種方式下，之前的進程只需要交換 7 次。&lt;/li>
&lt;li>每個佇列優先權也不同，最上面的優先權最高。因此只有上一個佇列沒有進程在排隊，才能調度當前佇列上的進程。可以將這種調度算法看成是時間片段輪轉調度算法和優先級調度算法的結合。
&lt;img alt="MLFQ" loading="lazy" src="https://i.pinimg.com/736x/9e/56/96/9e5696a52f10453be9717470b28a44c7--round-robin-robins.jpg">&lt;/li>
&lt;/ul>
&lt;h3 id="3-實時系統real-time-system">3. 實時系統(real time system)&lt;/h3>
&lt;ul>
&lt;li>實時系統要求一個請求在一個確定時間內得到響應。&lt;/li>
&lt;li>分為硬實時和軟實時，前者必須滿足絕對的截止時間，後者可以容忍一定的超時。&lt;/li>
&lt;/ul>
&lt;h2 id="進程同步">進程同步&lt;/h2>
&lt;h3 id="1-臨界區">1. 臨界區&lt;/h3>
&lt;ul>
&lt;li>對臨界資源進行訪問的那段代碼稱為臨界區。&lt;/li>
&lt;li>為了互斥訪問臨界資源，每個進程在進入臨界區之前，需要先進行檢查。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-C++" data-lang="C++">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// entry section
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// crtical section;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// exit section
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="2-同步與互斥synchronization-and-mutex">2. 同步與互斥(synchronization and mutex)&lt;/h3>
&lt;ul>
&lt;li>同步(synchronization)：多個進程因為合作產生的直接制約關係，使得進程有一定的先後執行關係。&lt;/li>
&lt;li>互斥(mutual exclusion, mutex)：多個進程在同一時刻只有一個進程能進入臨界區。&lt;/li>
&lt;/ul>
&lt;h3 id="3-號誌semaphore">3. 號誌(Semaphore)&lt;/h3>
&lt;ul>
&lt;li>號誌，或稱信號量，是一個整數變數，可以對其執行 down 和 up 操作，也就是常見的 P 和 V 操作。
&lt;ul>
&lt;li>&lt;strong>down&lt;/strong>：如果號誌量大於 0，執行 -1 操作；如果號誌等於 0，進程睡眠，等待號誌大於 0。&lt;/li>
&lt;li>&lt;strong>up&lt;/strong>：對號誌執行 +1 操作，喚醒睡眠的進程讓其完成 down 操作。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>down 和 up 操作需要被設計成原語，不可分割，通常的做法是在執行這些操作的時候屏蔽中斷。&lt;br>
如果號誌的取值只能為 0 或者 1，那麼就成為了互斥(mutex)，0 表示臨界區已經加鎖，1 表示臨界區解鎖。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-C++" data-lang="C++">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">typedef&lt;/span> &lt;span style="color:#66d9ef">int&lt;/span> semaphore;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>semaphore mutex &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">P1&lt;/span>(){
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> down(&lt;span style="color:#f92672">&amp;amp;&lt;/span>mutex);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// critical section
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> up(&lt;span style="color:#f92672">&amp;amp;&lt;/span>mutex);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">void&lt;/span> &lt;span style="color:#a6e22e">P2&lt;/span>(){
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> down(&lt;span style="color:#f92672">&amp;amp;&lt;/span>mutex);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">// critical section
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span> up(&lt;span style="color:#f92672">&amp;amp;&lt;/span>mutex);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;p>&lt;strong>使用號誌實現生產者-消費者問題&lt;/strong>
&lt;img alt="producer-consumer-problem" loading="lazy" src="https://th.bing.com/th/id/R.dbbe36e7d63143d6defdab98ece8fff8?rik=J8NwPrcsGHP7jw&amp;pid=ImgRaw&amp;r=0">&lt;/p></description></item><item><title>[計算機作業系統] 概述</title><link>https://intervalrain.github.io/cs/os/intro/</link><pubDate>Sat, 02 Jul 2022 04:00:55 +0800</pubDate><guid>https://intervalrain.github.io/cs/os/intro/</guid><description>&lt;h1 id="作業系統">作業系統&lt;/h1>
&lt;h2 id="簡介">簡介&lt;/h2>
&lt;p>&lt;img alt="computer os" loading="lazy" src="https://2.bp.blogspot.com/-gzomOqKpa74/VLPwd72Q8KI/AAAAAAAAk-E/mnLR8NAJfLY/s640/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%2B2014-12-12%2B%E4%B8%8B%E5%8D%882.48.33-17.png">&lt;/p>
&lt;ul>
&lt;li>
&lt;p>電腦系統主要可分成四個部分，或分成&lt;strong>硬體(hardware)&lt;/strong>、&lt;strong>軟體(software)&lt;/strong>、&lt;strong>數據(data)&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>硬體(hardware)：為系統提供基本的計算資源。
&lt;ol>
&lt;li>中央處理器(central processing unit, CPU)&lt;/li>
&lt;li>記憶體(memory)&lt;/li>
&lt;li>I/O 裝置&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>應用程式(Application programs)：定義資源如何用來解決使用者的計算問題。&lt;/li>
&lt;li>使用者(users)&lt;/li>
&lt;li>作業系統(Operating system, OS)：&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>作業系統(Operating system, OS) 是管理電腦硬體與軟體資源的電腦程式，同時也是電腦系統的核心與基石。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>OS 最主要的兩個功能是：&lt;/p>
&lt;ul>
&lt;li>資源分配：根據需求調配資源分配率(resource utilization)與效能(performance)&lt;/li>
&lt;li>監控使用者程式的執行，避免不正常的運作造成對系統的危害。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>一個標準的 PC 作業系統應該提供以下的功能：&lt;/p>
&lt;ul>
&lt;li>行程管理(Processing management)&lt;/li>
&lt;li>記憶體管理(Memory management)&lt;/li>
&lt;li>檔案系統(File system)&lt;/li>
&lt;li>網路通訊(Networking)&lt;/li>
&lt;li>安全機制(Security)&lt;/li>
&lt;li>使用者介面(User interface)&lt;/li>
&lt;li>驅動程式(Device drivers)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="pc-基本特徵">PC 基本特徵&lt;/h2>
&lt;h3 id="1-並行計算concurrent-computing">1. 並行計算(Concurrent computing)&lt;/h3>
&lt;ul>
&lt;li>Concurrent computing 是指宏觀上在一段時間內能同時運行多個進程，微觀上是交替發生的；而&lt;strong>平行計算(parallel computing)&lt;/strong> 則指同一個時間內能運行多個指令。&lt;/li>
&lt;li>平行計算需要硬體支持，如多線程(multi-thread)、多核處理器(multi-core processor)或者分散式計算機系統(distributed OS)。&lt;/li>
&lt;li>作業系統通過引入進程(process)與線程(thread)，使程式能夠並行運作。&lt;/li>
&lt;/ul>
&lt;h3 id="2-分享sharing">2. 分享(Sharing)&lt;/h3>
&lt;ul>
&lt;li>共享是指系統中的資源可以被多個並行進程共同使用。&lt;/li>
&lt;li>有兩種共享方式：互斥共享(mutual exclusion)與同時訪問(time sharing)。&lt;/li>
&lt;li>互斥共享的資源稱為臨界資源(critical resources)，例如印表機等，在同一時間內只允許一個進程訪問，需要用同步機制來實現互斥訪問。&lt;/li>
&lt;/ul>
&lt;h3 id="3-虛擬virtual">3. 虛擬(Virtual)&lt;/h3>
&lt;ul>
&lt;li>虛擬技術把一個物理實體轉換為多個邏輯實體。&lt;/li>
&lt;li>主要有兩種虛擬技術：分時技術(time sharing)、空間分享技術。&lt;/li>
&lt;li>多個進程能在同一個處理器上並行處理使用了分時技術，讓每個進程輪流占用處理器，每次只執行一小個時間片段並快速切換。&lt;/li>
&lt;li>虛擬記憶體使用了空間分享技術，它將物理記憶體抽象化為地址空間，每個進程都有各自的地址空間。地址空間的頁被映射到物理記憶體中，地址空間的頁並不需要全部在物理記憶體中，當使用到一個沒有物理記憶體的頁時，執行頁面置換演算法，將該頁置換到記憶體中。&lt;/li>
&lt;/ul>
&lt;h3 id="4-異步asynchronous">4. 異步(Asynchronous)&lt;/h3>
&lt;ul>
&lt;li>異步指進程不是一次性執行完畢，而是走走停停，以不可知的速度向前推進。&lt;/li>
&lt;/ul>
&lt;h2 id="基本功能">基本功能&lt;/h2>
&lt;h3 id="1-進程管理process-management">1. 進程管理(Process management)&lt;/h3>
&lt;ul>
&lt;li>進程管理、進程同步、進程通信、死鎖處理、處理調度等。&lt;/li>
&lt;/ul>
&lt;h3 id="2-記憶體管理memory-management">2. 記憶體管理(Memory management)&lt;/h3>
&lt;ul>
&lt;li>記憶體分配、地址映射、記憶體保護與共享、虛擬記憶體等。&lt;/li>
&lt;/ul>
&lt;h3 id="3-文件管理file-management">3. 文件管理(File management)&lt;/h3>
&lt;ul>
&lt;li>文件儲存空間的管理、目錄管理、文件讀寫管理和保護等。&lt;/li>
&lt;/ul>
&lt;h3 id="4-設備管理equipment-management">4. 設備管理(Equipment management)&lt;/h3>
&lt;ul>
&lt;li>完成用戶的 I/O 請求，方便用戶使用各種設備，並提高設備的利用率。&lt;/li>
&lt;li>主要包含緩衝管理、設備分配、設備處理、虛擬設備等。&lt;/li>
&lt;/ul>
&lt;h2 id="系統調用">系統調用&lt;/h2>
&lt;ul>
&lt;li>如果一個進程在用戶模式(user mode)需要使用內核模式(kernel mode)的功能，就進行系統調用從而陷入內核，由作業系統代為完成。
&lt;img alt="interface" loading="lazy" src="https://camo.githubusercontent.com/e6e9338fcb2f8c849b5ed9798862d27937d80c94721948dd87c5dec1e739c2c6/68747470733a2f2f63732d6e6f7465732d313235363130393739362e636f732e61702d6775616e677a686f752e6d7971636c6f75642e636f6d2f74475056302e706e67">&lt;/li>
&lt;li>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Linux 的系統調用主要有以下這些：&lt;/th>
&lt;th>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>Task&lt;/strong>&lt;/td>
&lt;td>&lt;strong>Commands&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>進程控制&lt;/td>
&lt;td>fork(); exit(); wait();&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>進程通信&lt;/td>
&lt;td>pipe(); shmget(); mmap();&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>文件操作&lt;/td>
&lt;td>open(); read(); write();&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>設備操作&lt;/td>
&lt;td>ioctl(); read(); write();&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>訊息維護&lt;/td>
&lt;td>getpid(); alarm(); sleep();&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>安全&lt;/td>
&lt;td>chmod(); umask(); chown();&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;/li>
&lt;/ul>
&lt;h2 id="內核與微內核">內核與微內核&lt;/h2>
&lt;p>&lt;img alt="ring" loading="lazy" src="https://th.bing.com/th/id/R.859db91aeb8ec96109d43097bd911459?rik=lA7Jg6HrEIuyFA&amp;riu=http%3a%2f%2fresources.infosecinstitute.com%2fwp-content%2fuploads%2fKernelDebugging-03012013.jpg&amp;ehk=XDpXoi61cf6s%2fX4BOz3ghmFHsUIdfRiN8q%2f82rDn8%2fM%3d&amp;risl=&amp;pid=ImgRaw&amp;r=0">&lt;/p></description></item><item><title>[計算機作業系統] 鏈接</title><link>https://intervalrain.github.io/cs/os/link/</link><pubDate>Sat, 02 Jul 2022 04:00:55 +0800</pubDate><guid>https://intervalrain.github.io/cs/os/link/</guid><description>&lt;h1 id="準備中">準備中&lt;/h1></description></item><item><title>[ML] introduction</title><link>https://intervalrain.github.io/ml/lec0/</link><pubDate>Sun, 19 Jun 2022 18:18:52 +0800</pubDate><guid>https://intervalrain.github.io/ml/lec0/</guid><description>Introduction to Machine Learning</description></item><item><title>[Life] Some change of road to SWE</title><link>https://intervalrain.github.io/life/nikita_kothari/</link><pubDate>Tue, 14 Jun 2022 22:43:59 +0800</pubDate><guid>https://intervalrain.github.io/life/nikita_kothari/</guid><description>Suggestion from Nikita Kothari at LinkedIn</description></item><item><title>[C++] The C++ Standard Template Library(STL) - deque</title><link>https://intervalrain.github.io/c++/stl_deque/</link><pubDate>Sun, 12 Jun 2022 01:36:18 +0800</pubDate><guid>https://intervalrain.github.io/c++/stl_deque/</guid><description>C++ 中 STL 的 deque 函式與使用範例</description></item><item><title>[C++] Custom Comparator</title><link>https://intervalrain.github.io/c++/custom_comparator/</link><pubDate>Sat, 11 Jun 2022 10:07:49 +0800</pubDate><guid>https://intervalrain.github.io/c++/custom_comparator/</guid><description>C++ 中陣列與優先佇列的自定義排序使用方法</description></item><item><title>[C++] The C++ Standard Template Library(STL) - pair</title><link>https://intervalrain.github.io/c++/stl_pair/</link><pubDate>Thu, 02 Jun 2022 01:23:15 +0800</pubDate><guid>https://intervalrain.github.io/c++/stl_pair/</guid><description>C++ 中 STL 的 pair 的函式與使用範例</description></item><item><title>[VHDL] HDLbits 1 - Getting Started</title><link>https://intervalrain.github.io/verilog/hdlbits1/</link><pubDate>Sat, 28 May 2022 00:10:20 +0800</pubDate><guid>https://intervalrain.github.io/verilog/hdlbits1/</guid><description>Verilog tutorial</description></item><item><title>[VHDL] HDLbits 2 - Verilog Language</title><link>https://intervalrain.github.io/verilog/hdlbits2/</link><pubDate>Sat, 28 May 2022 00:10:20 +0800</pubDate><guid>https://intervalrain.github.io/verilog/hdlbits2/</guid><description>Verilog tutorial</description></item><item><title>[VHDL] HDLbits 3 - Circuits</title><link>https://intervalrain.github.io/verilog/hdlbits3/</link><pubDate>Sat, 28 May 2022 00:10:20 +0800</pubDate><guid>https://intervalrain.github.io/verilog/hdlbits3/</guid><description>Verilog tutorial</description></item><item><title>[VHDL] HDLbits 4 - Verification: Reading Simulations</title><link>https://intervalrain.github.io/verilog/hdlbits4/</link><pubDate>Sat, 28 May 2022 00:10:20 +0800</pubDate><guid>https://intervalrain.github.io/verilog/hdlbits4/</guid><description>Verilog tutorial</description></item><item><title>[VHDL] HDLbits 5 - Verification: Writing Testbenches</title><link>https://intervalrain.github.io/verilog/hdlbits5/</link><pubDate>Sat, 28 May 2022 00:10:20 +0800</pubDate><guid>https://intervalrain.github.io/verilog/hdlbits5/</guid><description>Verilog tutorial</description></item><item><title>[VHDL] HDLbits 6 - CS450</title><link>https://intervalrain.github.io/verilog/hdlbits6/</link><pubDate>Sat, 28 May 2022 00:10:20 +0800</pubDate><guid>https://intervalrain.github.io/verilog/hdlbits6/</guid><description>Verilog tutorial</description></item><item><title>[TCAD] 模擬收斂問題</title><link>https://intervalrain.github.io/device/simulationconvergece/</link><pubDate>Wed, 25 May 2022 22:52:15 +0800</pubDate><guid>https://intervalrain.github.io/device/simulationconvergece/</guid><description>TCAD simulation convergence problem</description></item><item><title>[VHDL] Verilog Hardware Description Language</title><link>https://intervalrain.github.io/verilog/intro/</link><pubDate>Sun, 01 May 2022 17:37:22 +0800</pubDate><guid>https://intervalrain.github.io/verilog/intro/</guid><description>&lt;h1 id="1-verilog-hdl">1 Verilog HDL&lt;/h1>
&lt;h2 id="11-verilog-簡介">1.1 Verilog 簡介&lt;/h2>
&lt;ul>
&lt;li>一套硬體描述語言
&lt;ul>
&lt;li>輔助設計&lt;strong>數位系統&lt;/strong>&lt;/li>
&lt;li>描述電路的行為&lt;/li>
&lt;li>電子自動化工具&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>類似C語言的硬體描述語言
&lt;ul>
&lt;li>易學、容易接受&lt;/li>
&lt;li>高階行為描述&lt;/li>
&lt;li>切勿使用軟體思維(循序)撰寫(硬體描述語言多是並行的)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>支援多種硬體層級的描述方式
&lt;ul>
&lt;li>從低階到高階模式&lt;/li>
&lt;li>依照不同的方法設計&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>支援階層式的設計方法
&lt;ul>
&lt;li>樹狀式的設計結構&lt;/li>
&lt;li>由繁化簡&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="12-verilog-的模型">1.2 Verilog 的模型&lt;/h2>
&lt;h3 id="121-電晶體層級">1.2.1 電晶體層級&lt;/h3>
&lt;ul>
&lt;li>Transistor Level&lt;/li>
&lt;li>或低階交換層次模型(Switch Level Model)&lt;/li>
&lt;li>Verilog 最低階的層次模型&lt;/li>
&lt;li>電路是由開關與電晶體所組成&lt;/li>
&lt;li>一般不會採取低階的層級來進行設計&lt;/li>
&lt;/ul>
&lt;h3 id="122-邏輯閘層級">1.2.2 邏輯閘層級&lt;/h3>
&lt;ul>
&lt;li>Gate Level&lt;/li>
&lt;li>使用基本的邏輯閘元件&lt;/li>
&lt;li>AND、OR、NOT&lt;/li>
&lt;li>邏輯電路圖&lt;/li>
&lt;/ul>
&lt;h3 id="123-資料流層級">1.2.3 資料流層級&lt;/h3>
&lt;ul>
&lt;li>Data Flow Level&lt;/li>
&lt;li>描述電路中資料的處理方式&lt;/li>
&lt;li>資料如何在電路中運算及傳送&lt;/li>
&lt;li>輸入持續驅動輸出&lt;/li>
&lt;li>運算式
&lt;ul>
&lt;li>如：&lt;code>out = a + b + c&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="124-行為模型">1.2.4 行為模型&lt;/h3>
&lt;ul>
&lt;li>Behavior Level&lt;/li>
&lt;li>Verilog 最高階的層次模型&lt;/li>
&lt;li>不需考慮硬體元件的特型，只需放在模組的功能描述&lt;/li>
&lt;li>很像 C 語言&lt;/li>
&lt;li>合成軟體工具&lt;/li>
&lt;/ul>
&lt;h3 id="125-結構式模型">1.2.5 結構式模型&lt;/h3>
&lt;ul>
&lt;li>Structure Level&lt;/li>
&lt;li>引用硬體模組的模式&lt;/li>
&lt;li>類似邏輯閘層次模型&lt;/li>
&lt;li>支援階層式設計法
&lt;ul>
&lt;li>將複雜電路分為層狀結構&lt;/li>
&lt;li>架構上類似樹狀結構
&lt;ul>
&lt;li>Bottom-up：元件→子模組→設計目標&lt;/li>
&lt;li>Top-Down：設計目標→子模組→元件&lt;/li>
&lt;li>Mixed：設計目標→子模組←元件(常用於大型複雜系統)
&lt;ul>
&lt;li>\(
\boxed{\text{Full Adder}}
\begin{cases}
\boxed{\text{Half Adder}}
\begin{cases}
\boxed{\text{XOR}}\\
\boxed{\text{AND}}
\end{cases}\\
\boxed{\text{Half Adder}}
\begin{cases}
\boxed{\text{XOR}}\\
\boxed{\text{AND}}
\end{cases}\\
\boxed{\text{OR}}
\end{cases}\\
\text{設計目標}\qquad\qquad\text{子模組}\qquad\text{元件}
\)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="13-verilog-語法詞彙">1.3 Verilog 語法詞彙&lt;/h2>
&lt;ul>
&lt;li>由一連串的標記(token)所組成
&lt;ul>
&lt;li>識別字(identifiers)&lt;/li>
&lt;li>關鍵字(keywords)&lt;/li>
&lt;li>字串(strings)&lt;/li>
&lt;li>註解(comments)&lt;/li>
&lt;li>空白(whitespace)&lt;/li>
&lt;li>數值(numbers)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="131-識別字identifiers">1.3.1 識別字(identifiers)&lt;/h3>
&lt;ul>
&lt;li>描述電路行為所使用的自訂物件
&lt;ul>
&lt;li>不違反命名規則，工程師自行定義的物件名稱&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>命名規則
&lt;ul>
&lt;li>字母、數字、底線&lt;code>_&lt;/code>或是錢字號&lt;code>$&lt;/code>所組合而成。&lt;/li>
&lt;li>開頭只能使用字母或底線。&lt;/li>
&lt;li>識別字是有&lt;strong>大小寫&lt;/strong>之分的。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>舉例
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-plaintext" data-lang="plaintext">&lt;span style="display:flex;">&lt;span>Shift_reg_b (Valid)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>_bus123 (Valid)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$error_condition (Invalid)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>NT$899 (Valid)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>3_bit_data (Invalid)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="132-關鍵字keywords">1.3.2 關鍵字(keywords)&lt;/h3>
&lt;ul>
&lt;li>描述電路語法所保留的一組特殊名稱的標記&lt;/li>
&lt;li>定義語言的結構來描述電路
&lt;ul>
&lt;li>輸入(input)、輸出(output)&lt;/li>
&lt;li>資料型態、電路行為&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>所有關鍵字都必須使用小寫表示&lt;/li>
&lt;li>不可當作識別字使用&lt;/li>
&lt;li>常見關鍵字
\(\begin{array}{|l|l|l|l|l|l|}\hline
\text{always}&amp;amp;\text{and}&amp;amp;\text{assign}&amp;amp;\text{begin}&amp;amp;\text{buf}&amp;amp;\text{bufif0}\\\hline
\text{bufif1}&amp;amp;\text{case}&amp;amp;\text{casex}&amp;amp;\text{casez}&amp;amp;\text{cmos}&amp;amp;\text{default}\\\hline
\text{defparam}&amp;amp;\text{else}&amp;amp;\text{end}&amp;amp;\text{endcase}&amp;amp;\text{endfunction}&amp;amp;\text{endmodule}\\\hline
\text{endtask}&amp;amp;\text{event}&amp;amp;\text{for}&amp;amp;\text{forever}&amp;amp;\text{fork}&amp;amp;\text{function}\\\hline
\text{highz0}&amp;amp;\text{highz1}&amp;amp;\text{if}&amp;amp;\text{initial}&amp;amp;\text{inout}&amp;amp;\text{input}\\\hline
\text{integer}&amp;amp;\text{join}&amp;amp;\text{module}&amp;amp;\text{nand}&amp;amp;\text{negedge}&amp;amp;\text{nmos}\\\hline
\text{nor}&amp;amp;\text{not}&amp;amp;\text{notif0}&amp;amp;\text{notif1}&amp;amp;\text{or}&amp;amp;\text{output}\\\hline
\text{parameter}&amp;amp;\text{pmos}&amp;amp;\text{posedge}&amp;amp;\text{pull0}&amp;amp;\text{pull1}&amp;amp;\text{pulldown}\\\hline
\text{pullup}&amp;amp;\text{rcmos}&amp;amp;\text{real}&amp;amp;\text{realtime}&amp;amp;\text{reg}&amp;amp;\text{repeat}\\\hline
\text{rnmos}&amp;amp;\text{rpmos}&amp;amp;\text{rtran}&amp;amp;\text{rtranif0}&amp;amp;\text{rtranif1}&amp;amp;\text{strong0}\\\hline
\text{string1}&amp;amp;\text{supply0}&amp;amp;\text{supply1}&amp;amp;\text{task}&amp;amp;\text{time}&amp;amp;\text{tran}\\\hline
\text{tranif0}&amp;amp;\text{tranif1}&amp;amp;\text{tri}&amp;amp;\text{tri0}&amp;amp;\text{tri1}&amp;amp;\text{triand}\\\hline
\text{trior}&amp;amp;\text{trireg}&amp;amp;\text{wait}&amp;amp;\text{wand}&amp;amp;\text{weak0}&amp;amp;\text{weak1}\\\hline
\text{while}&amp;amp;\text{wire}&amp;amp;\text{wor}&amp;amp;\text{xnor}&amp;amp;\text{xor}\\\hline
\end{array}\)&lt;/li>
&lt;/ul>
&lt;h3 id="133-字串strings">1.3.3 字串(strings)&lt;/h3>
&lt;ul>
&lt;li>一連串字元(character)組成的單一個體&lt;/li>
&lt;li>可含有字母、數字、及一些特殊字元&lt;/li>
&lt;li>字串的所有字元必須在同一行上，並在&lt;strong>雙引號&lt;/strong>之間&lt;/li>
&lt;/ul>
&lt;h3 id="134-註解comments">1.3.4 註解(comments)&lt;/h3>
&lt;ul>
&lt;li>程式碼中加入說明文字
&lt;ul>
&lt;li>可讀性(readability)&lt;/li>
&lt;li>文件化(documentation)&lt;/li>
&lt;li>版權宣告(license declaration)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>以&lt;code>//&lt;/code>開頭的單行註解(one-line comment)&lt;/li>
&lt;li>以&lt;code>/*&lt;/code>為開頭，並以&lt;code>*/&lt;/code>為結尾的多行註解(multiple-line comment)&lt;/li>
&lt;li>多行註解不支援巢狀結構&lt;/li>
&lt;/ul>
&lt;h3 id="135-空白whitespace">1.3.5 空白(whitespace)&lt;/h3>
&lt;ul>
&lt;li>區隔不同物件&lt;/li>
&lt;li>空格(blank spaces，\b)&lt;/li>
&lt;li>欄位(tabs，\t)&lt;/li>
&lt;li>換行(newlines，\n)&lt;/li>
&lt;li>除字串內空白，註解與空白在編譯與合成時會被忽略&lt;/li>
&lt;/ul>
&lt;h3 id="136-數值numbers">1.3.6 數值(numbers)&lt;/h3>
&lt;ul>
&lt;li>Verilog 有兩種數值表示法
&lt;ul>
&lt;li>固定長度(sized): 定義位元寬度
&lt;ul>
&lt;li>&lt;code>&amp;lt;size&amp;gt;'&amp;lt;bsase format&amp;gt;&amp;lt;number&amp;gt;&lt;/code>
&lt;ul>
&lt;li>&lt;code>&amp;lt;size&amp;gt;&lt;/code>：十進位來表示此數的位元數(bits)&lt;/li>
&lt;li>&lt;code>&amp;lt;base format&amp;gt;&lt;/code>：定義進制
&lt;ul>
&lt;li>&lt;code>'H&lt;/code>|&lt;code>'h&lt;/code>：十六進制&lt;/li>
&lt;li>&lt;code>'D&lt;/code>|&lt;code>'d&lt;/code>：十進制&lt;/li>
&lt;li>&lt;code>'O&lt;/code>|&lt;code>'p&lt;/code>：八進制&lt;/li>
&lt;li>&lt;code>'B&lt;/code>|&lt;code>'b&lt;/code>：二進制&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>&amp;lt;number&amp;gt;&lt;/code>：用&lt;code>&amp;lt;base format&amp;gt;&lt;/code>來表示數值&lt;/li>
&lt;li>若為負號，將&lt;code>-&lt;/code>放在&lt;code>&amp;lt;size&amp;gt;&lt;/code>前面&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>舉例：
&lt;ul>
&lt;li>&lt;code>18'h47CB&lt;/code>：18 bits 的十六進位數 47CB&lt;/li>
&lt;li>&lt;code>13'h47CB&lt;/code>：13 bits 的十六進位數(因未給定高位元自動補0) 7CB&lt;/li>
&lt;li>&lt;code>12'd1023&lt;/code>：12 bits 的十進位數 1023&lt;/li>
&lt;li>&lt;code>9'o723&lt;/code>：9 bits 的八進位數 723&lt;/li>
&lt;li>&lt;code>5'b11101&lt;/code>：5bits 的二進位數 11101&lt;/li>
&lt;li>&lt;code>5'b1xx01&lt;/code>：含有 unknown values 的表示法&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>不定長度(unsized): 未定義位元寬度
&lt;ul>
&lt;li>&amp;lsquo;&lt;code>&amp;lt;base format&amp;gt;&amp;lt;number&lt;/code>
&lt;ul>
&lt;li>不使用&lt;code>&amp;lt;size&amp;gt;&lt;/code>規定位元長度&lt;/li>
&lt;li>使用 HDL 編譯器內定的長度(32bit的寬度)&lt;/li>
&lt;li>沒有寫明&lt;code>&amp;lt;base format&amp;gt;&lt;/code>，則&lt;strong>內定為十進制&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>舉例：
&lt;ul>
&lt;li>&lt;code>'h47CB&lt;/code>：32 bits 的十六進位數 47CB&lt;/li>
&lt;li>&lt;code>1023&lt;/code>：32 bits 的十進位數 1023&lt;/li>
&lt;li>&lt;code>'o723&lt;/code>：32 bits 的八進位數 723&lt;/li>
&lt;li>&lt;code>'b11101&lt;/code>：32 bits 的二進位數 11101&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Verilog 有四種數值位準(value level)
&lt;ul>
&lt;li>\(\begin{array}{|c|l|}\hline
\text{數值位準}&amp;amp;\text{實際電路狀態}\\\hline
\text{0}&amp;amp;\text{邏輯0，假(false)，接地}\\\hline
\text{1}&amp;amp;\text{邏輯1，真(true)，接壓電源}\\\hline
\text{x}&amp;amp;\text{不確定值(unknown value)}\\\hline
\text{z}&amp;amp;\text{高阻抗(high impedance)，浮接狀態(floating state)}\\\hline
\end{array}
\)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="14-verilog-資料物件與型態">1.4 Verilog 資料物件與型態&lt;/h2>
&lt;ul>
&lt;li>資料物件(data objects)
&lt;ul>
&lt;li>描述行為過程中所使用的訊號載具&lt;/li>
&lt;li>一個物件經過處理再傳到另一個物件&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>資料型態(data type)
&lt;ul>
&lt;li>定義資料物件的類型&lt;/li>
&lt;li>接線、暫存器、參數等&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="141-接線nets">1.4.1 接線(Nets)&lt;/h3>
&lt;ul>
&lt;li>接線(nets)是連接實體元件的連接線&lt;/li>
&lt;li>要被驅動才能改變其內部的值&lt;/li>
&lt;li>最主要的關鍵字是 &lt;code>wire&lt;/code>
&lt;ul>
&lt;li>一個位元的純量(scalar)&lt;/li>
&lt;li>多位元長度的向量(vector)&lt;/li>
&lt;li>內定值為 &lt;code>z&lt;/code>(高阻抗、浮接)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>宣告方式
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Verilog" data-lang="Verilog">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">wire&lt;/span> w; &lt;span style="color:#75715e">// 宣告一條接線，命名為w，內定預設值為z
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">wire&lt;/span> x &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#ae81ff">&amp;#39;b0&lt;/span>; &lt;span style="color:#75715e">// 宣告一條接線，命名為x，並指定x為邏輯0
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">wire&lt;/span> a, b, c &lt;span style="color:#75715e">// 宣告三條接線，命名為a, b, c
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="142-暫存器registers">1.4.2 暫存器(Registers)&lt;/h3>
&lt;ul>
&lt;li>抽象的資料儲存物件(有別於實體暫存器 D flip-flop)&lt;/li>
&lt;li>保留一個數值直到下一次指定新值為止&lt;/li>
&lt;li>觀念類似 C 語言中的變數&lt;/li>
&lt;li>主要的關鍵字是 &lt;code>reg&lt;/code>
&lt;ul>
&lt;li>一個位元的純量(scalar)&lt;/li>
&lt;li>多位元長度的向量(vector)&lt;/li>
&lt;li>內定值為 &lt;code>x&lt;/code>(未知)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>\(\begin{array}{|l|l|}\hline
\text{reg}&amp;amp;\text{可變動位元寬度的無號整數(unsigned integer variable)}\\\hline
\text{integer}&amp;amp;\text{32位元寬度的有號整數(signed 32-bit integer variable)，}\\
&amp;amp;\text{算術運算產生2補數結果(2&amp;rsquo;s complement results))}\\\hline
\text{real}&amp;amp;\text{雙倍精確度之有號浮點數}\\
&amp;amp;\text{(signed floating-point variable with double precision)}\\\hline
\text{time}&amp;amp;\text{64位元寬度的無號整數(unsigned 64-bit integer variable)}\\\hline
\end{array}\)
&lt;ul>
&lt;li>設計電路請以&lt;code>reg&lt;/code>為主，其他類型合成器可能不支援。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>宣告方式
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Verilog" data-lang="Verilog">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">reg&lt;/span> a; &lt;span style="color:#75715e">// 宣告 1 個 1 位元暫存器為 a，定位值為 1 位元的 x
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">reg&lt;/span> x, y; &lt;span style="color:#75715e">// 宣告 2 個宣存器，命名為 x, y
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">integer&lt;/span> count; &lt;span style="color:#75715e">// 宣告 1 個整數為 count，值可以為正負
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">real&lt;/span> fraction; &lt;span style="color:#75715e">// 宣告 1 個浮點數為 fraction，值含小數點
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="143-純量與向量scalar-and-vector">1.4.3 純量與向量(scalar and vector)&lt;/h3>
&lt;ul>
&lt;li>純量(scalar)
&lt;ul>
&lt;li>一個位元的物件&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>向量(vector)
&lt;ul>
&lt;li>多個位元的物件&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>接線(ex. wire) 與 reg
&lt;ul>
&lt;li>內定一位元&lt;/li>
&lt;li>&lt;code>[大數字:小數字]&lt;/code>、&lt;code>[小數字:大數字]&lt;/code>→&lt;code>[MSB:LSB]&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>宣告方式
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Verilog" data-lang="Verilog">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">wire&lt;/span> a; &lt;span style="color:#75715e">// 宣告 1 個 1-bits 接線
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">wire&lt;/span> [&lt;span style="color:#ae81ff">4&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>] x; &lt;span style="color:#75715e">// 宣告 1 個 5-bits 接線
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">reg&lt;/span> b; &lt;span style="color:#75715e">// 宣告 1 個 1-bits 暫存器
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">reg&lt;/span> [&lt;span style="color:#ae81ff">0&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#ae81ff">7&lt;/span>] y; &lt;span style="color:#75715e">// 宣告 1 個 8-bits 暫存器
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">reg&lt;/span> [&lt;span style="color:#ae81ff">31&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>] z; &lt;span style="color:#75715e">// 宣告 1 個 32-bits 暫存器
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="144-陣列array">1.4.4 陣列(Array)&lt;/h3>
&lt;ul>
&lt;li>多個暫存器、接線的聚合體&lt;/li>
&lt;li>索引值(index)定義聚合體中的個別物件&lt;/li>
&lt;li>支援多維度的陣列&lt;/li>
&lt;li>記憶體(memory)、暫存器檔案(register file)&lt;/li>
&lt;li>陣列中暫存器、接線的個數
&lt;ul>
&lt;li>&lt;code>[大數字:小數字]&lt;/code>、&lt;code>[小數字:大數字]&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>宣告方式
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Verilog" data-lang="Verilog">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// mem_block 是一個包含 128 個暫存器的陣列，
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// 每個暫存器皆為 32 位元寬
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">reg&lt;/span> [&lt;span style="color:#ae81ff">31&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>] mem_block [&lt;span style="color:#ae81ff">127&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>];
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// mem_2D 是一個 2 維 4x64 的暫存器陣列，
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">// 每個暫存器皆為 8 位元寬
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">reg&lt;/span> [&lt;span style="color:#ae81ff">7&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>] mem_2D [&lt;span style="color:#ae81ff">3&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>][&lt;span style="color:#ae81ff">63&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>];
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="145-參數parameter">1.4.5 參數(parameter)&lt;/h2>
&lt;ul>
&lt;li>定義編譯合成電路時的常數&lt;/li>
&lt;li>每次編譯合成前更改，編譯合成器會根據參數值產生相對應的電路&lt;/li>
&lt;li>重複使用&lt;/li>
&lt;li>關鍵字 &lt;code>parameter&lt;/code>&lt;/li>
&lt;li>宣告方式
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Verilog" data-lang="Verilog">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">parameter&lt;/span> width &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#ae81ff">4&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">wire&lt;/span> [width&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>] a, b; &lt;span style="color:#75715e">// 接線 a 和 b 的位元寬度，會隨著參數值的改變而變動
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">reg&lt;/span> [width&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>] y; &lt;span style="color:#75715e">// 暫存器 y 的位元寬度，會隨著參數值的改變而變動
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="15-模組module埠port">1.5 模組(Module)、埠(Port)&lt;/h2>
&lt;h3 id="151-模組module">1.5.1 模組(Module)&lt;/h3>
&lt;ul>
&lt;li>一個電路區塊、可以由其他模組組成&lt;/li>
&lt;li>連接模組時
&lt;ul>
&lt;li>考慮模組的輸入與輸出介面&lt;/li>
&lt;li>不需要考慮模組內部的詳細電路&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>電路設計時
&lt;ul>
&lt;li>只修改模組內部電路&lt;/li>
&lt;li>不會改變電路外部及周遭的模組&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>模組內部的電路描述可包含
&lt;ul>
&lt;li>訊號資料型態宣告&lt;/li>
&lt;li>引用其他模組(邏輯閘)&lt;/li>
&lt;li>&lt;code>assign&lt;/code> 資料處理模型之描述&lt;/li>
&lt;li>&lt;code>always&lt;/code> 行為模型之描述&lt;/li>
&lt;li>&lt;strong>函數(function)&lt;/strong> 與 &lt;strong>任務(task)&lt;/strong>&lt;/li>
&lt;li>除訊號宣告需先描述，其他部分撰寫的順序，不影響電路行為&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>模組宣告
&lt;ul>
&lt;li>以關鍵字 &lt;code>module&lt;/code> 為開頭，在其後加一個識別用的模組名稱(module name)&lt;/li>
&lt;li>再來是&lt;strong>輸入與輸出埠列&lt;/strong>(module terminal list)和埠列宣告，接著是模組內部關於電路的描述&lt;/li>
&lt;li>以關鍵字 &lt;code>endmodule&lt;/code> 做為模組結尾&lt;/li>
&lt;li>支援階層`式的設計概念&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Verilog" data-lang="Verilog">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">module&lt;/span> module_name(terminal_list)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>port_declaration(...)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>param_declaration(optional)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>data_type_declaration(&lt;span style="color:#66d9ef">wire&lt;/span>, &lt;span style="color:#66d9ef">reg&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>other_module(logic_gate)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">assign&lt;/span> data_flow_model
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">always&lt;/span> behavior_model
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">function&lt;/span>, &lt;span style="color:#66d9ef">task&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h3 id="152-埠port">1.5.2 埠(port)&lt;/h3>
&lt;ul>
&lt;li>終端點、模組與外界溝通的介面接點(門)&lt;/li>
&lt;li>一個模組通常是經由一串的輸入輸出埠稱為埠列(terminal list)來與外界溝通&lt;/li>
&lt;li>若模組與外界不需要溝通，則埠列也就不存在(封閉系統)
&lt;ul>
&lt;li>測試環境(test bench)&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>埠的宣告
&lt;ul>
&lt;li>埠的宣告可分為輸入埠(input)、輸出埠(output)、雙向埠(inout)三種。&lt;/li>
&lt;li>埠的宣告型態內定為接線(net)的 &lt;code>wire&lt;/code>，若需要將訊號儲存起來則埠號型態須宣告成暫存器 &lt;code>reg&lt;/code>。&lt;/li>
&lt;li>輸入埠和雙向埠只能是接線(net)，&lt;strong>不可宣告成暫存器&lt;/strong>。&lt;/li>
&lt;li>輸出埠可以宣告成接線(net)或暫存器。&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Verilog" data-lang="Verilog">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">module&lt;/span> full_adder(a, b, carry, sum); &lt;span style="color:#75715e">// 埠列
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">input&lt;/span> [&lt;span style="color:#ae81ff">3&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>] a, b; &lt;span style="color:#75715e">// 輸入埠(4位元向量)
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">input&lt;/span> carry &lt;span style="color:#75715e">// 輸入埠(1位元純量)
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">output&lt;/span> [&lt;span style="color:#ae81ff">4&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>] sum; &lt;span style="color:#75715e">// 輸出埠(5位元向量)
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">reg&lt;/span> [&lt;span style="color:#ae81ff">4&lt;/span>&lt;span style="color:#f92672">:&lt;/span>&lt;span style="color:#ae81ff">0&lt;/span>] sum; &lt;span style="color:#75715e">// 因輸出sum需儲存資料，故宣告成暫存器
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">endmodule&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="16-邏輯閘層次模型">1.6 邏輯閘層次模型&lt;/h2>
&lt;ul>
&lt;li>利用關鍵字即可引用基本的邏輯閘元件&lt;/li>
&lt;li>基本的邏輯閘關鍵字
&lt;ul>
&lt;li>&lt;code>and&lt;/code>&lt;/li>
&lt;li>&lt;code>nand&lt;/code>&lt;/li>
&lt;li>&lt;code>or&lt;/code>&lt;/li>
&lt;li>&lt;code>nor&lt;/code>&lt;/li>
&lt;li>&lt;code>not&lt;/code>&lt;/li>
&lt;li>&lt;code>xor&lt;/code>&lt;/li>
&lt;li>&lt;code>xnor&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="161-多個輸入邏輯閘multiple-input-gates">1.6.1 多個輸入邏輯閘(Multiple-Input Gates)&lt;/h3>
&lt;ul>
&lt;li>&lt;code>and&lt;/code>、&lt;code>nand&lt;/code>、&lt;code>or&lt;/code>、&lt;code>nor&lt;/code>、&lt;code>xor&lt;/code>、&lt;code>xnor&lt;/code>&lt;/li>
&lt;li>具有多個純量(scalar)的輸入，但是只有一個純量的輸出&lt;/li>
&lt;li>&lt;strong>多個輸入邏輯閘的輸出總是放在埠列(post list)的第一個位置，而輸入則是跟在輸出的後面&lt;/strong>
輸出必須透過接線(wire)連接，輸入無規定&lt;/li>
&lt;li>多個輸入邏輯閘的別名可以加或是不加&lt;/li>
&lt;li>使用方法
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Verilog" data-lang="Verilog">&lt;span style="display:flex;">&lt;span>gate_type instance(out, in_1, in_2, in_3, ..., in_n);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>gate_type inst_1(out_1, in1_1, in1_2, in1_3, ..., in1_n),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> inst_2(out_2, in2_1, in2_2, in2_3, ..., in2_n),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> inst_3(out_3, in3_1, in3_2, in3_3, ..., in3_n),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> inst_m(out_m, in_m1, in_m2, in_m3, ..., in_mn);
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>\(\begin{array}{ccc}
\underbrace{\text{a, b, c, d}}_{\text{輸入}}
\rightarrow
\boxed{\text{Multiple-Input Gate}}
\rightarrow
\underbrace{\text{e}} _{\text{輸出}}
\end{array}
\)&lt;/li>
&lt;li>\(\text{and\quad a1(}
\underbrace{\text{e}}_{\text{輸出}}
\text{, }
\underbrace{\text{a, b, c, d}} _{\text{輸入}}
\text{);}
\)&lt;/li>
&lt;/ul>
&lt;h3 id="162-多個輸出邏輯閘multiple-output-gates">1.6.2 多個輸出邏輯閘(Multiple-Output Gates)&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;code>not&lt;/code>、&lt;code>buf&lt;/code>&lt;/p></description></item><item><title>[Java] 淺談 Java MVC</title><link>https://intervalrain.github.io/java/java_mvc/</link><pubDate>Fri, 29 Apr 2022 15:38:18 +0800</pubDate><guid>https://intervalrain.github.io/java/java_mvc/</guid><description>Introduction to Java MVC.</description></item><item><title>[IT] Introduction to Microservices, Docker and Kubernetes</title><link>https://intervalrain.github.io/it/microservices_docker_kubernetes/</link><pubDate>Fri, 29 Apr 2022 11:40:10 +0800</pubDate><guid>https://intervalrain.github.io/it/microservices_docker_kubernetes/</guid><description>Desc Text.</description></item><item><title>[C++] The C++ Standard Template Library(STL) - map</title><link>https://intervalrain.github.io/c++/stl_map/</link><pubDate>Sat, 23 Apr 2022 22:24:21 +0800</pubDate><guid>https://intervalrain.github.io/c++/stl_map/</guid><description>C++ 中 STL 的 map 的函式與使用範例</description></item><item><title>[Java] HashMap中的hashCode設計原理</title><link>https://intervalrain.github.io/java/hashmap/hashcode/</link><pubDate>Fri, 22 Apr 2022 11:22:39 +0800</pubDate><guid>https://intervalrain.github.io/java/hashmap/hashcode/</guid><description>why hashcode &amp;gt;&amp;gt;&amp;gt; 16</description></item><item><title>[C++] 易錯題目收集</title><link>https://intervalrain.github.io/c++/question/</link><pubDate>Sun, 17 Apr 2022 17:34:39 +0800</pubDate><guid>https://intervalrain.github.io/c++/question/</guid><description>網路上 C++ 易錯的題目收集</description></item><item><title>[C++] The C++ Standard Template Library(STL) - list, forward_list</title><link>https://intervalrain.github.io/c++/stl_list/</link><pubDate>Sun, 17 Apr 2022 11:45:58 +0800</pubDate><guid>https://intervalrain.github.io/c++/stl_list/</guid><description>C++ 中 STL 的 list 的函式與使用範例</description></item><item><title>[C++] The C++ Standard Template Library(STL) - vector</title><link>https://intervalrain.github.io/c++/stl_vector/</link><pubDate>Sat, 16 Apr 2022 22:08:37 +0800</pubDate><guid>https://intervalrain.github.io/c++/stl_vector/</guid><description>C++ 中 STL 的 vector 的函式與使用範例</description></item><item><title>[C++] The C++ Standard Template Library(STL) - Container</title><link>https://intervalrain.github.io/c++/stl_container/</link><pubDate>Fri, 15 Apr 2022 01:09:18 +0800</pubDate><guid>https://intervalrain.github.io/c++/stl_container/</guid><description>C++</description></item><item><title>[IDAS+] Optimize Summary Table Function</title><link>https://intervalrain.github.io/vba/idas+_record/</link><pubDate>Thu, 14 Apr 2022 00:39:50 +0800</pubDate><guid>https://intervalrain.github.io/vba/idas+_record/</guid><description>An implementation of dictionary in VBA for searching algorithm</description></item><item><title>[C++] 如何產生 random 值</title><link>https://intervalrain.github.io/c++/random/</link><pubDate>Thu, 14 Apr 2022 00:26:23 +0800</pubDate><guid>https://intervalrain.github.io/c++/random/</guid><description>C++ 中如何產生隨機值</description></item><item><title>[C++] Cout functions</title><link>https://intervalrain.github.io/c++/cout/</link><pubDate>Fri, 08 Apr 2022 10:20:38 +0800</pubDate><guid>https://intervalrain.github.io/c++/cout/</guid><description>C++ 的 cout 函式介紹</description></item><item><title>[C++] The C++ Standard Template Library(STL) - Algorithm</title><link>https://intervalrain.github.io/c++/stl_algo/</link><pubDate>Wed, 06 Apr 2022 16:04:36 +0800</pubDate><guid>https://intervalrain.github.io/c++/stl_algo/</guid><description>C++ 中 STL 中的 algorithm lib 的函式與範例</description></item><item><title>[C++] The C++ Standard Template Library(STL)</title><link>https://intervalrain.github.io/c++/stl/</link><pubDate>Tue, 05 Apr 2022 01:09:42 +0800</pubDate><guid>https://intervalrain.github.io/c++/stl/</guid><description>C++ 中 STL 的介紹</description></item><item><title>[C++] STL: Vector 的使用與實作</title><link>https://intervalrain.github.io/c++/vector/</link><pubDate>Sun, 03 Apr 2022 18:14:14 +0800</pubDate><guid>https://intervalrain.github.io/c++/vector/</guid><description>C++ 中 STL 的 vector 的用法整理</description></item><item><title>[TCAD] 工具語言</title><link>https://intervalrain.github.io/device/tcad/</link><pubDate>Sat, 26 Mar 2022 21:46:26 +0800</pubDate><guid>https://intervalrain.github.io/device/tcad/</guid><description>TCAD learning notes</description></item><item><title>[CA] 計算機的抽象化與科技</title><link>https://intervalrain.github.io/cs/ca/abstraction/</link><pubDate>Thu, 24 Mar 2022 01:12:11 +0800</pubDate><guid>https://intervalrain.github.io/cs/ca/abstraction/</guid><description>&lt;h1 id="計算機的抽象化與科技">計算機的抽象化與科技&lt;/h1>
&lt;h2 id="11-簡介">1.1 簡介&lt;/h2>
&lt;ul>
&lt;li>有賴於科技高速的成長，計算機工業出現了嶄新的型態，計算機導致了文明的第三次革命-資訊革命，與農業革命和工業革命並駕齊驅。如科幻電影般的生活應用，也如雨後出筍般的出現。
&lt;ul>
&lt;li>汽車&lt;/li>
&lt;li>手機&lt;/li>
&lt;li>人類基因組計劃(Human genome project)&lt;/li>
&lt;li>全球網路(World Wide Web)&lt;/li>
&lt;li>搜尋引擎&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="計算機的應用分類與其特性">計算機的應用分類與其特性&lt;/h3>
&lt;ul>
&lt;li>個人電腦(Personal Computer, PCs)&lt;/li>
&lt;li>伺服器(Servers)
&lt;ul>
&lt;li>通過網路連接其它的工作站或電腦，通常面向單一且複雜大型的科學或工程應用，也可能是多而小的工作。&lt;/li>
&lt;li>成本和功能的差異性也最廣，可以是沒有螢幕沒有鍵盤的桌電，也可以是如超級計算機(supercomputers)這樣的極端。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>嵌入式計算機(Embedded Computers)
&lt;ul>
&lt;li>最大的計算機類別，也涵蓋最廣泛的應用和性能。&lt;/li>
&lt;li>通常具有獨特的應用要求，這些要求將最低效能發揮的淋漓盡致，使成本與功耗成為很重要的指標。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="後pc時代">後PC時代&lt;/h3>
&lt;p>&lt;img alt="postPC" loading="lazy" src="https://intervalrain.github.io/CS/CA/images/postPC.png">&lt;/p>
&lt;ul>
&lt;li>個人行動裝置(Poersonal Mobile Device, PMD) 如智慧型手機與平板的出現，取代的 PC 的地位。&lt;/li>
&lt;li>雲端計算(Cloud Computing) 取代了傳統伺服器，這些雲端計算建構在「倉庫規模計算機」(Warehouse Scale Computer, WSC)。
&lt;ul>
&lt;li>企業如Google、Amazon，提供了 WSC 的租借服務，這類通過雲端佈署的「軟體即服務」(Software as a Service, SaaS)，正在改變軟體業。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="學習目標">學習目標&lt;/h3>
&lt;ul>
&lt;li>過去在硬體的限制下，程式設計師需要嚴格的考慮程式的效能：&lt;em>減少記憶體空間以使程式更快&lt;/em>。&lt;/li>
&lt;li>在計算機設計與記憶體科技的進步下，取而代之程式設計師要考量的事情變成：&lt;strong>處理器的並行性&lt;/strong>和&lt;strong>記憶體的分層&lt;/strong>，或諸如在 PMD 或雲端上運行的程式的能源效率問題。&lt;/li>
&lt;li>以下是我們將要學習的目標：
&lt;ul>
&lt;li>用高級語言編寫的程式如何翻譯成硬體語言，以及硬體如何執行生成的程式？藉此可以理解硬體與軟體的關係，也與程式的性能有關聯。&lt;/li>
&lt;li>軟體和硬體間的介面是什麼，軟體如何指示硬體執行所需的工作？這些概念對於理解如何編寫多種軟體至關重要。&lt;/li>
&lt;li>什麼決定了一個程式的性能，程式設計師如何提高性能？這關係了源始碼編譯成電腦的語言時，硬體執行程式的效率。&lt;/li>
&lt;li>硬體設計人員可以使用哪些技術來提高性能(Performance)？&lt;/li>
&lt;li>硬體設計人員可以使用哪些技術來提升能源效率(Energy Efficiency)？程式設計師又如何協助改善？&lt;/li>
&lt;li>什麼理由導致了循序處理(Sequential processing)轉變成了平行處理(Parallel processing)？&lt;/li>
&lt;li>自第一台商用計算機問世以來，計算機架構師提出了哪些想法來奠定現代計算的基礎？&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="12-計結中八個重要的思想">1.2 計結中八個重要的思想&lt;/h2>
&lt;p>&lt;img alt="great8" loading="lazy" src="https://intervalrain.github.io/CS/CA/images/great8.png">&lt;/p>
&lt;ul>
&lt;li>摩爾定律(Moore&amp;rsquo;s Law)之於設計
&lt;ul>
&lt;li>摩爾定律源於 Intel 創辦人之一的 Gordon Moore 對 IC 容量增長的預測。&lt;/li>
&lt;li>由於計算機設計需耗時數年，而晶片的成長使得計算機架構師在設計時，必須將眼光放到設計完成時的技術狀態，而非當下。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>用抽象化(Abstraction)來簡化設計
&lt;ul>
&lt;li>程式設計師與計算機架構師都必須要不斷發明新的技術以面對日益更新的科技，&lt;/li>
&lt;li>&lt;strong>抽象化&lt;/strong>是一種分層設計的概念。對程式設計師而言，低階的細節被忽略，只需要遵從簡單的模型或規範去進行設計。而硬體工程師則是要去實現出這個定義好的模型的硬體、細節部分。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>快速處理常見情況
&lt;ul>
&lt;li>將常使用的指令進行優化(&lt;strong>common case fast&lt;/strong>)，比起其它不常使用的指令，更能提升效能。&lt;/li>
&lt;li>何者為最常使用的指令，必須透過嚴密的實驗與測量才以得知。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>平行處理(parallelism)&lt;/li>
&lt;li>Pipeline&lt;/li>
&lt;li>預測
&lt;ul>
&lt;li>某些情況下，將硬體的效能預測的高一點，好過於等到效能滿足才開始設計。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>記憶體的結構化(hierarchy)
&lt;ul>
&lt;li>透過將記憶體分層，將最快、最小、最昂貴的部分置於層狀結構的頂層；而最慢、最大、最便宜的記憶體置於層狀結構的底層。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>用多餘創造可靠性(dependability)
&lt;ul>
&lt;li>計算機不只要速度快，還要具有可靠性。任何物理設備都可能發生故障，此時可以透過引入冗餘的元件來使系統變的更可靠，這些冗餘的元件可以在發生故障時接管工作並協助檢測故障。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="13-抽象化">1.3 抽象化&lt;/h2>
&lt;p>&lt;img alt="abstraction" loading="lazy" src="https://intervalrain.github.io/CS/CA/images/abstraction.png">&lt;/p></description></item><item><title>[Leetcode] Maximum Frequency Stack 最大頻率堆疊</title><link>https://intervalrain.github.io/leetcode/freqstack/</link><pubDate>Sat, 19 Mar 2022 16:53:23 +0800</pubDate><guid>https://intervalrain.github.io/leetcode/freqstack/</guid><description>Maximum Frequency Stack algorithm</description></item><item><title>[Java] 面試常見問題</title><link>https://intervalrain.github.io/java/interviewq/</link><pubDate>Wed, 16 Mar 2022 02:45:45 +0800</pubDate><guid>https://intervalrain.github.io/java/interviewq/</guid><description>針對Java常見面試考題整理，持續更新。</description></item><item><title>[CS50] Lec 1 - C</title><link>https://intervalrain.github.io/cs50/lec1/</link><pubDate>Thu, 10 Mar 2022 02:39:12 +0800</pubDate><guid>https://intervalrain.github.io/cs50/lec1/</guid><description>Introduction to programming language C</description></item><item><title>[Java] transient 關鍵字</title><link>https://intervalrain.github.io/java/transient/</link><pubDate>Tue, 08 Mar 2022 23:53:27 +0800</pubDate><guid>https://intervalrain.github.io/java/transient/</guid><description>Introduction to keyword transient</description></item><item><title>[Device] Mismatch Introduction</title><link>https://intervalrain.github.io/device/mismatch/</link><pubDate>Sat, 05 Mar 2022 21:40:03 +0800</pubDate><guid>https://intervalrain.github.io/device/mismatch/</guid><description>Device mismatch intro.</description></item><item><title>[C++] How to Initialize vector in C++</title><link>https://intervalrain.github.io/c++/newvector/</link><pubDate>Thu, 03 Mar 2022 01:33:02 +0800</pubDate><guid>https://intervalrain.github.io/c++/newvector/</guid><description>C++ 中 vector 的初始化</description></item><item><title>[Java] Integer.bitCount 解析</title><link>https://intervalrain.github.io/java/bitcount/</link><pubDate>Tue, 01 Mar 2022 20:37:02 +0800</pubDate><guid>https://intervalrain.github.io/java/bitcount/</guid><description>Desc Text.</description></item><item><title>[OS] Lec 1 - Introduction</title><link>https://intervalrain.github.io/os/lec1/</link><pubDate>Thu, 24 Feb 2022 02:43:30 +0800</pubDate><guid>https://intervalrain.github.io/os/lec1/</guid><description>概觀作業系統的歷史發展與進程</description></item><item><title>[Java] Java 的中 HashMap.comparableClassFor(Object x) 的函式解讀</title><link>https://intervalrain.github.io/java/hashmap/hashmap/</link><pubDate>Wed, 23 Feb 2022 01:36:40 +0800</pubDate><guid>https://intervalrain.github.io/java/hashmap/hashmap/</guid><description>認識泛型 generic type、類別 class</description></item><item><title>[CS50] Lec 0 - Introduction to Computer Science</title><link>https://intervalrain.github.io/cs50/lec0/</link><pubDate>Wed, 23 Feb 2022 00:43:18 +0800</pubDate><guid>https://intervalrain.github.io/cs50/lec0/</guid><description>Intoduction to Computer Science</description></item><item><title>[IT] 在 GitHub Pages 中渲染 KaTex 公式</title><link>https://intervalrain.github.io/it/latexrendering/</link><pubDate>Tue, 22 Feb 2022 01:38:30 +0800</pubDate><guid>https://intervalrain.github.io/it/latexrendering/</guid><description>如何讓 GitHub Pages 中支援 Latex 語法</description></item><item><title>[Device] Ring Oscillator 環形振盪器</title><link>https://intervalrain.github.io/device/ringoscillator/</link><pubDate>Mon, 21 Feb 2022 01:29:24 +0800</pubDate><guid>https://intervalrain.github.io/device/ringoscillator/</guid><description>A ring circuit with an odd numbers of inverters</description></item><item><title>[Java] List of list of something equality</title><link>https://intervalrain.github.io/java/listequal/</link><pubDate>Fri, 18 Feb 2022 08:59:45 +0800</pubDate><guid>https://intervalrain.github.io/java/listequal/</guid><description>Common Test methodology in Leetcode</description></item><item><title>Hello World</title><link>https://intervalrain.github.io/helloworld/</link><pubDate>Thu, 17 Feb 2022 15:15:36 +0800</pubDate><guid>https://intervalrain.github.io/helloworld/</guid><description>How to hello world?</description></item><item><title>[Logic Design] Lec 01 - 數字系統與轉換</title><link>https://intervalrain.github.io/logicdesign/lec1/</link><pubDate>Sat, 18 Sep 2021 03:11:35 +0800</pubDate><guid>https://intervalrain.github.io/logicdesign/lec1/</guid><description>Introduction to number systems in computer</description></item><item><title>[Logic Design] Lec 02 - 布林代數</title><link>https://intervalrain.github.io/logicdesign/lec2/</link><pubDate>Sat, 18 Sep 2021 03:11:35 +0800</pubDate><guid>https://intervalrain.github.io/logicdesign/lec2/</guid><description>Boolean Algebra operation and theory</description></item><item><title>[Logic Design] Lec 03 - Minterm 與 Maxterm 展開</title><link>https://intervalrain.github.io/logicdesign/lec3/</link><pubDate>Sat, 18 Sep 2021 03:11:35 +0800</pubDate><guid>https://intervalrain.github.io/logicdesign/lec3/</guid><description>Minterm and Maxterm expression</description></item><item><title>[Logic Design] Lec 04 - 卡諾圖 Karnaugh Maps</title><link>https://intervalrain.github.io/logicdesign/lec4/</link><pubDate>Sat, 18 Sep 2021 03:11:35 +0800</pubDate><guid>https://intervalrain.github.io/logicdesign/lec4/</guid><description>Simplify Boolean function with K-map</description></item><item><title>[Logic Design] Lec 05 - Quine-McClusky Method</title><link>https://intervalrain.github.io/logicdesign/lec5/</link><pubDate>Sat, 18 Sep 2021 03:11:35 +0800</pubDate><guid>https://intervalrain.github.io/logicdesign/lec5/</guid><description>Quine-McClusky method - systematic method to simplify boolean algebra for computer.</description></item><item><title>[Logic Design] Lec 06 - Multi-Level Gate Circuits / NAND and NOR Gates</title><link>https://intervalrain.github.io/logicdesign/lec6/</link><pubDate>Sat, 18 Sep 2021 03:11:35 +0800</pubDate><guid>https://intervalrain.github.io/logicdesign/lec6/</guid><description>Multi-level gate circuits. nand gates and nor gates introduction.</description></item><item><title>[Logic Design] Lec 07 - 組合電路設計與模擬</title><link>https://intervalrain.github.io/logicdesign/lec7/</link><pubDate>Sat, 18 Sep 2021 03:11:35 +0800</pubDate><guid>https://intervalrain.github.io/logicdesign/lec7/</guid><description>Combinational Circuit Design and Simulation Using Gates</description></item><item><title>[Logic Design] Lec 08 - 多工器、編碼器、可程式化邏輯元件</title><link>https://intervalrain.github.io/logicdesign/lec8/</link><pubDate>Sat, 18 Sep 2021 03:11:35 +0800</pubDate><guid>https://intervalrain.github.io/logicdesign/lec8/</guid><description>Combinational Circuit Design and Simulation</description></item><item><title>[Logic Design] Lec 09 - Flips-FLops</title><link>https://intervalrain.github.io/logicdesign/lec9/</link><pubDate>Sat, 18 Sep 2021 03:11:35 +0800</pubDate><guid>https://intervalrain.github.io/logicdesign/lec9/</guid><description>Flips-Flops</description></item><item><title>[Logic Design] Lec 10 - 暫存器與計數器</title><link>https://intervalrain.github.io/logicdesign/lec10/</link><pubDate>Sat, 18 Sep 2021 03:11:35 +0800</pubDate><guid>https://intervalrain.github.io/logicdesign/lec10/</guid><description>Registers and Counters</description></item><item><title>[Logic Design] Lec 11 - 創建圖表與設計電路</title><link>https://intervalrain.github.io/logicdesign/lec11/</link><pubDate>Sat, 18 Sep 2021 03:11:35 +0800</pubDate><guid>https://intervalrain.github.io/logicdesign/lec11/</guid><description>Derivation of State Graph and Table</description></item><item><title>[Logic Design] Lec 12 - 電路實現與簡化</title><link>https://intervalrain.github.io/logicdesign/lec12/</link><pubDate>Sat, 18 Sep 2021 03:11:35 +0800</pubDate><guid>https://intervalrain.github.io/logicdesign/lec12/</guid><description>Reduction of State Table/State Assignment</description></item><item><title>[Washam] Way to SWE</title><link>https://intervalrain.github.io/washam/</link><pubDate>Sat, 25 May 2019 22:35:48 +0800</pubDate><guid>https://intervalrain.github.io/washam/</guid><description>a study plan to be a software engineer</description></item><item><title>[創作] 關於未來</title><link>https://intervalrain.github.io/music/about_future/</link><pubDate>Fri, 14 Mar 2014 00:01:46 +0800</pubDate><guid>https://intervalrain.github.io/music/about_future/</guid><description>&lt;!DOCTYPE HTML>
&lt;html lang="en">
&lt;head>
&lt;style type="text/css">
.youtube_shortcodes {
position: relative;
width: 100%;
height: 0;
padding-bottom: 66%;
margin: auto;
overflow: hidden;
text-align: center;
}
.youtube_shortcodes iframe {
position: absolute;
width: 100%;
height: 100%;
left: 0;
top: 0;
}
&lt;/style>
&lt;title>&lt;/title>
&lt;/head>
&lt;body>
&lt;div class="youtube_shortcodes">
&lt;iframe
class="youtube-player"
type="text/html"
width="640"
height="385"
src="https://www.youtube.com/embed/rlxD01UEuio?autoplay=0"
style="
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
border:0;"
allowfullscreen frameborder="0">
&lt;/iframe>
&lt;/div>
&lt;/body>
&lt;/html>
&lt;p>詞曲：胡鎮宇&lt;/p>
&lt;p>你生活的　都踏踏實實地過了&lt;br>
把曾經走過的路全都擺在記憶了&lt;br>
那憂鬱悲傷快樂歡笑都記得&lt;br>
記在腦海了&lt;/p>
&lt;p>你熟悉的　該輕輕鬆鬆地放了&lt;br>
把人生未來的路全都拿在手裡了&lt;br>
那曾經有過的與曾經失去的&lt;br>
都成回憶了&lt;/p>
&lt;p>而我將洋洋灑灑邁開步伐地走了&lt;br>
將四年的青春塗上另一種顏色&lt;br>
而我還是無法自拔矯情卻又無法割捨&lt;br>
回想自己的夢　去成就另一種快樂&lt;/p></description></item></channel></rss>