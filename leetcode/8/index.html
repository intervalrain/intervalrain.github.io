<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[Leetcode] 8. String to Integer (atoi) | Rain Hu's Workspace</title>
<meta name=keywords content="Leetcode"><meta name=description content="8. String to Integer (atoi)

Hardness: \(\color{orange}\textsf{Medium}\)
Ralated Topics: String


一、題目
Implement the myAtoi(string s) function, which converts a string to a 32-bit signed integer (similar to C/C++&rsquo;s atoi function).
The algorithm for myAtoi(string s) is as follows:

Read in and ignore any leading whitespace.
Check if the next character (if not already at the end of the string) is '-' or '+'. Read this character in if it is either. This determines if the final result is negative or positive respectively. Assume the result is positive if neither is present.
Read in next the characters until the next non-digit character or the end of the input is reached. The rest of the string is ignored.
Convert these digits into an integer (i.e. &#34;123&#34; -> 123, &#34;0032&#34; -> 32). If no digits were read, then the integer is 0. Change the sign as necessary (from step 2).
If the integer is out of the 32-bit signed integer range [-2^31, 2^31-1], then clamp the integer so that it remains in the range. Specifically, integers less than -2^31 should be clamped to -2^31, and integer greater than 2^31-1 should be clamped to 2^31-1.
Return the integer as the final result.

Note:"><meta name=author content="Rain Hu"><link rel=canonical href=https://intervalrain.github.io/><meta name=google-site-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.62544d021d74c1d1215183b216a7ce71465bcb05e8768851d5c6d332d9672210.css integrity="sha256-YlRNAh10wdEhUYOyFqfOcUZbywXodohR1cbTMtlnIhA=" rel="preload stylesheet" as=style><link rel=preload href=/images/rain.png as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.2eadbb982468c11a433a3e291f01326f2ba43f065e256bf792dbd79640a92316.js integrity="sha256-Lq27mCRowRpDOj4pHwEybyukPwZeJWv3ktvXlkCpIxY=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://intervalrain.github.io/images/rain.png><link rel=icon type=image/png sizes=16x16 href=https://intervalrain.github.io/images/rain.png><link rel=icon type=image/png sizes=32x32 href=https://intervalrain.github.io/images/rain.png><link rel=apple-touch-icon href=https://intervalrain.github.io/images/rain.png><link rel=mask-icon href=https://intervalrain.github.io/images/rain.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://intervalrain.github.io/leetcode/8/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css integrity=sha384-zTROYFVGOfTw7JV7KUu8udsvW2fx4lWOsCEDqhBreBwlHI4ioVRtmIvEThzJHGET crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.js integrity=sha384-GxNFqL3r9uRJQhR+47eDxuPoNE7yLftQM8LcxzgS4HT73tp970WS/wV5p8UzCOmb crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous onload=renderMathInElement(document.body)></script><script src=https://utteranc.es/client.js repo=intervalrain.github.io issue-term=pathname label=Comment theme=github-light crossorigin=anonymous async></script><meta property="og:title" content="[Leetcode] 8. String to Integer (atoi)"><meta property="og:description" content="8. String to Integer (atoi)

Hardness: \(\color{orange}\textsf{Medium}\)
Ralated Topics: String


一、題目
Implement the myAtoi(string s) function, which converts a string to a 32-bit signed integer (similar to C/C++&rsquo;s atoi function).
The algorithm for myAtoi(string s) is as follows:

Read in and ignore any leading whitespace.
Check if the next character (if not already at the end of the string) is '-' or '+'. Read this character in if it is either. This determines if the final result is negative or positive respectively. Assume the result is positive if neither is present.
Read in next the characters until the next non-digit character or the end of the input is reached. The rest of the string is ignored.
Convert these digits into an integer (i.e. &#34;123&#34; -> 123, &#34;0032&#34; -> 32). If no digits were read, then the integer is 0. Change the sign as necessary (from step 2).
If the integer is out of the 32-bit signed integer range [-2^31, 2^31-1], then clamp the integer so that it remains in the range. Specifically, integers less than -2^31 should be clamped to -2^31, and integer greater than 2^31-1 should be clamped to 2^31-1.
Return the integer as the final result.

Note:"><meta property="og:type" content="article"><meta property="og:url" content="https://intervalrain.github.io/leetcode/8/"><meta property="article:section" content="leetcode"><meta property="article:published_time" content="2022-10-26T00:21:56+08:00"><meta property="article:modified_time" content="2022-10-26T00:21:56+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="[Leetcode] 8. String to Integer (atoi)"><meta name=twitter:description content="8. String to Integer (atoi)

Hardness: \(\color{orange}\textsf{Medium}\)
Ralated Topics: String


一、題目
Implement the myAtoi(string s) function, which converts a string to a 32-bit signed integer (similar to C/C++&rsquo;s atoi function).
The algorithm for myAtoi(string s) is as follows:

Read in and ignore any leading whitespace.
Check if the next character (if not already at the end of the string) is '-' or '+'. Read this character in if it is either. This determines if the final result is negative or positive respectively. Assume the result is positive if neither is present.
Read in next the characters until the next non-digit character or the end of the input is reached. The rest of the string is ignored.
Convert these digits into an integer (i.e. &#34;123&#34; -> 123, &#34;0032&#34; -> 32). If no digits were read, then the integer is 0. Change the sign as necessary (from step 2).
If the integer is out of the 32-bit signed integer range [-2^31, 2^31-1], then clamp the integer so that it remains in the range. Specifically, integers less than -2^31 should be clamped to -2^31, and integer greater than 2^31-1 should be clamped to 2^31-1.
Return the integer as the final result.

Note:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"[Leetcode] 8. String to Integer (atoi)","item":"https://intervalrain.github.io/leetcode/8/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[Leetcode] 8. String to Integer (atoi)","name":"[Leetcode] 8. String to Integer (atoi)","description":"8. String to Integer (atoi)\nHardness: \\(\\color{orange}\\textsf{Medium}\\) Ralated Topics: String 一、題目 Implement the myAtoi(string s) function, which converts a string to a 32-bit signed integer (similar to C/C++\u0026rsquo;s atoi function).\nThe algorithm for myAtoi(string s) is as follows:\nRead in and ignore any leading whitespace. Check if the next character (if not already at the end of the string) is '-' or '+'. Read this character in if it is either. This determines if the final result is negative or positive respectively. Assume the result is positive if neither is present. Read in next the characters until the next non-digit character or the end of the input is reached. The rest of the string is ignored. Convert these digits into an integer (i.e. \u0026quot;123\u0026quot; -\u0026gt; 123, \u0026quot;0032\u0026quot; -\u0026gt; 32). If no digits were read, then the integer is 0. Change the sign as necessary (from step 2). If the integer is out of the 32-bit signed integer range [-2^31, 2^31-1], then clamp the integer so that it remains in the range. Specifically, integers less than -2^31 should be clamped to -2^31, and integer greater than 2^31-1 should be clamped to 2^31-1. Return the integer as the final result. Note:\n","keywords":["Leetcode"],"articleBody":"8. String to Integer (atoi)\nHardness: \\(\\color{orange}\\textsf{Medium}\\) Ralated Topics: String 一、題目 Implement the myAtoi(string s) function, which converts a string to a 32-bit signed integer (similar to C/C++’s atoi function).\nThe algorithm for myAtoi(string s) is as follows:\nRead in and ignore any leading whitespace. Check if the next character (if not already at the end of the string) is '-' or '+'. Read this character in if it is either. This determines if the final result is negative or positive respectively. Assume the result is positive if neither is present. Read in next the characters until the next non-digit character or the end of the input is reached. The rest of the string is ignored. Convert these digits into an integer (i.e. \"123\" -\u003e 123, \"0032\" -\u003e 32). If no digits were read, then the integer is 0. Change the sign as necessary (from step 2). If the integer is out of the 32-bit signed integer range [-2^31, 2^31-1], then clamp the integer so that it remains in the range. Specifically, integers less than -2^31 should be clamped to -2^31, and integer greater than 2^31-1 should be clamped to 2^31-1. Return the integer as the final result. Note:\nOnly the space character ' ' is considered a whitespace character. Do not ignore any characters other than the leading whitespace or the rest of the string after the digits. Example 1:\nInput: s = “42” Output: 42 Explanation: The underlined characters are what is read in, the caret is the current reader position.\nStep 1: “42” (no characters read because there is no leading whitespace) Step 2: “42” (no characters read because there is neither a ‘-’ nor ‘+’)\nStep 3: “42” (“42” is read in)\nThe parsed integer is 42.\nSince 42 is in the range [-2^31, 2^31 - 1], the final result is 42. Example 2:\nInput: s = \" -42\" Output: -42 Explanation:\nStep 1: \" -42\" (leading whitespace is read and ignored)\nStep 2: \" -42\" (’-’ is read, so the result should be negative)\nStep 3: \" -42\" (“42” is read in)\nThe parsed integer is -42.\nSince -42 is in the range [-2^31, 2^31 - 1], the final result is -42. Example 3:\nInput: s = “4193 with words” Output: 4193 Explanation:\nStep 1: “4193 with words” (no characters read because there is no leading whitespace)\nStep 2: “4193 with words” (no characters read because there is neither a ‘-’ nor ‘+’)\nStep 3: “4193 with words” (“4193” is read in; reading stops because the next character is a non-digit)\nThe parsed integer is 4193.\nSince 4193 is in the range [-2^31, 2^31 - 1], the final result is 4193. Constraints:\n0 \u003c= s.length \u003c= 200 s consists of English letters (lower-case and upper-case), digits (0-9), ' ', '+', '-', and '.'. 二、分析 此題只需根據條件一一去排除： 處理 leading spaces 判斷 s[0] 處理超過範圍 [-2^31, 2^31-1] 的數 處理終止條件 可代入幾個處理字串常用的自訂函式： 判斷是否為英文字母 isLetter() bool isLetter(char c) { return (c \u003e= 'a' \u0026\u0026 c \u003c= 'z') || (c \u003e= 'A' \u0026\u0026 c \u003c= 'Z'); } 判斷是否為數字 isDigit() bool isDigit(char c) { return c \u003e= '0' \u0026\u0026 c \u003c= '9'; } 去除左邊空白、右邊空白 ltrim()、rtrim() void ltrim(string\u0026 s) { s.erase( s.begin(), find_if(s.begin(), s.end(), not1(ptr_fun\u003cint, int\u003e(isspace))) ); } void rtrim(string\u0026 s) { s.erase( find_if(s.rbegin(), s.rend(), not1(ptr_fun\u003cint, int\u003e(isspace))).base(), s.end() ); } 分隔 split() vector\u003cstring\u003e split(string\u0026 s, char del) { stringstream ss(str); string item; vector\u003cstring\u003e res; while (getline(ss, item, del)) if (!item.empty()) res.push_back(item); return res; } 合併 concat() string concat(vector\u003cstring\u003e\u0026 svec, char del) { stringstream ss; for (const auto\u0026 s : svec) ss \u003c\u003c s \u003c\u003c del; return ss.str(); } 三、解題 1. String Time complexity: \\(O(n)\\) Space complexity: \\(O(1)\\) // 判斷是否為英文字母 bool isLetter(char c) { return (c \u003e= 'a' \u0026\u0026 c \u003c= 'z') || (c \u003e= 'A' \u0026\u0026 c \u003c= 'Z'); } // 判斷是否為數字 bool isDigit(char c) { return c \u003e= '0' \u0026\u0026 c \u003c= '9'; } // 去除左邊空白 void ltrim(string\u0026 s) { s.erase( s.begin(), find_if(s.begin(), s.end(), not1(ptr_fun\u003cint, int\u003e(isspace))) ); } int myAtoi(string s) { int res = 0; // 去除左邊空白 ltrim(s); // 判斷 s[0]，取正負值 bool neg = false; if (s[0] == '-') neg = true; else if (isEnglish(s[0]) || s[0] == '.') return 0; else if (isDigit(s[0])) res += (s[0] - '0'); for (int i = 1; i \u003c s.length(); i++) { // 終止條件：不再是數字 if (!isDigit(s[i])) break; // 超出數字範圍 if (neg \u0026\u0026 (res \u003c INT_MIN/10 || (res == INT_MIN/10 \u0026\u0026 s[i] == '9'))) return INT_MIN; else if (!neg \u0026\u0026 (res \u003e INT_MAX/10 || (res == INT_MAX/10 \u0026\u0026 s[i] \u003e= '8'))) return INT_MAX; // 累計數值 if (neg) res = 10 * res - (s[i] - '0'); else res = 10 * res + (s[i] - '0'); } return res; } 回目錄 Catalog\n","wordCount":"775","inLanguage":"en","datePublished":"2022-10-26T00:21:56+08:00","dateModified":"2022-10-26T00:21:56+08:00","author":{"@type":"Person","name":"Rain Hu"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://intervalrain.github.io/leetcode/8/"},"publisher":{"@type":"Organization","name":"Rain Hu's Workspace","logo":{"@type":"ImageObject","url":"https://intervalrain.github.io/images/rain.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://intervalrain.github.io/ accesskey=h title="Rain Hu's Workspace (Alt + H)"><img src=https://intervalrain.github.io/images/rain.png alt=logo aria-label=logo height=35>Rain Hu's Workspace</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></span></div><ul id=menu><li><a href=https://intervalrain.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://intervalrain.github.io/aboutme title="About me"><span>About me</span></a></li><li><a href=https://intervalrain.github.io/archives title=Archives><span>Archives</span></a></li><li><a href=https://intervalrain.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://intervalrain.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://intervalrain.github.io/csharp/csharp title=C#><span>C#</span></a></li><li><a href=https://intervalrain.github.io/csindex title=CS><span>CS</span></a></li><li><a href=https://intervalrain.github.io/leetcode title=LeetCode><span>LeetCode</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://intervalrain.github.io/>Home</a></div><h1 class=post-title>[Leetcode] 8. String to Integer (atoi)</h1><div class=post-meta>&lt;span title='2022-10-26 00:21:56 +0800 +0800'>October 26, 2022&lt;/span>&amp;nbsp;·&amp;nbsp;4 min&amp;nbsp;·&amp;nbsp;Rain Hu&nbsp;|&nbsp;<a href=https://github.com/intervalrain/intervalrain.github.io/tree/main/content//leetcode/8.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e4%b8%80%e9%a1%8c%e7%9b%ae aria-label=一、題目>一、題目</a></li><li><a href=#%e4%ba%8c%e5%88%86%e6%9e%90 aria-label=二、分析>二、分析</a></li><li><a href=#%e4%b8%89%e8%a7%a3%e9%a1%8c aria-label=三、解題>三、解題</a><ul><li><a href=#1-string aria-label="1. String">1. String</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p><strong>8. String to Integer (atoi)</strong></p><ul><li>Hardness: \(\color{orange}\textsf{Medium}\)</li><li>Ralated Topics: <code>String</code></li></ul><hr><h3 id=一題目>一、題目<a hidden class=anchor aria-hidden=true href=#一題目>#</a></h3><p>Implement the <code>myAtoi(string s)</code> function, which converts a string to a 32-bit signed integer (similar to C/C++&rsquo;s <code>atoi</code> function).<br>The algorithm for <code>myAtoi(string s)</code> is as follows:</p><ol><li>Read in and ignore any leading whitespace.</li><li>Check if the next character (if not already at the end of the string) is <code>'-'</code> or <code>'+'</code>. Read this character in if it is either. This determines if the final result is negative or positive respectively. Assume the result is positive if neither is present.</li><li>Read in next the characters until the next non-digit character or the end of the input is reached. The rest of the string is ignored.</li><li>Convert these digits into an integer (i.e. <code>"123" -> 123</code>, <code>"0032" -> 32</code>). If no digits were read, then the integer is <code>0</code>. Change the sign as necessary (from step 2).</li><li>If the integer is out of the 32-bit signed integer range <code>[-2^31, 2^31-1]</code>, then clamp the integer so that it remains in the range. Specifically, integers less than <code>-2^31</code> should be clamped to <code>-2^31</code>, and integer greater than <code>2^31-1</code> should be clamped to <code>2^31-1</code>.</li><li>Return the integer as the final result.</li></ol><p><strong>Note:</strong></p><ul><li>Only the space character <code>' '</code> is considered a whitespace character.</li><li><strong>Do not ignore</strong> any characters other than the leading whitespace or the rest of the string after the digits.</li></ul><p><strong>Example 1:</strong></p><ul><li><strong>Input:</strong> s = &ldquo;42&rdquo;</li><li><strong>Output:</strong> 42</li><li><strong>Explanation</strong>: The underlined characters are what is read in, the caret is the current reader position.<br>Step 1: &ldquo;42&rdquo; (no characters read because there is no leading whitespace)<br>Step 2: &ldquo;42&rdquo; (no characters read because there is neither a &lsquo;-&rsquo; nor &lsquo;+&rsquo;)<br>Step 3: &ldquo;42&rdquo; (&ldquo;42&rdquo; is read in)<br>The parsed integer is 42.<br>Since 42 is in the range <code>[-2^31, 2^31 - 1]</code>, the final result is 42.</li></ul><p><strong>Example 2:</strong></p><ul><li><strong>Input:</strong> s = " -42"</li><li><strong>Output:</strong> -42</li><li><strong>Explanation</strong>:<br>Step 1: " -42" (leading whitespace is read and ignored)<br>Step 2: " -42" (&rsquo;-&rsquo; is read, so the result should be negative)<br>Step 3: " -42" (&ldquo;42&rdquo; is read in)<br>The parsed integer is -42.<br>Since -42 is in the range <code>[-2^31, 2^31 - 1]</code>, the final result is -42.</li></ul><p><strong>Example 3:</strong></p><ul><li><strong>Input:</strong> s = &ldquo;4193 with words&rdquo;</li><li><strong>Output:</strong> 4193</li><li><strong>Explanation:</strong><br>Step 1: &ldquo;4193 with words&rdquo; (no characters read because there is no leading whitespace)<br>Step 2: &ldquo;4193 with words&rdquo; (no characters read because there is neither a &lsquo;-&rsquo; nor &lsquo;+&rsquo;)<br>Step 3: &ldquo;4193 with words&rdquo; (&ldquo;4193&rdquo; is read in; reading stops because the next character is a non-digit)<br>The parsed integer is 4193.<br>Since 4193 is in the range <code>[-2^31, 2^31 - 1]</code>, the final result is 4193.</li></ul><p><strong>Constraints:</strong></p><ul><li><code>0 &lt;= s.length &lt;= 200</code></li><li><code>s</code> consists of English letters (lower-case and upper-case), digits (<code>0-9</code>), <code>' '</code>, <code>'+'</code>, <code>'-'</code>, and <code>'.'</code>.</li></ul><hr><h3 id=二分析>二、分析<a hidden class=anchor aria-hidden=true href=#二分析>#</a></h3><ul><li>此題只需根據條件一一去排除：<ol><li>處理 leading spaces</li><li>判斷 <code>s[0]</code></li><li>處理超過範圍 <code>[-2^31, 2^31-1]</code> 的數</li><li>處理終止條件</li></ol></li><li>可代入幾個處理字串常用的自訂函式：<ul><li>判斷是否為英文字母 <code>isLetter()</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>isLetter</span>(<span style=color:#66d9ef>char</span> c) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (c <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;a&#39;</span> <span style=color:#f92672>&amp;&amp;</span> c <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;z&#39;</span>) <span style=color:#f92672>||</span> (c <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;A&#39;</span> <span style=color:#f92672>&amp;&amp;</span> c <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;Z&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>判斷是否為數字 <code>isDigit()</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>isDigit</span>(<span style=color:#66d9ef>char</span> c) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> c <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>&amp;&amp;</span> c <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;9&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>去除左邊空白、右邊空白 <code>ltrim()</code>、<code>rtrim()</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>ltrim</span>(string<span style=color:#f92672>&amp;</span> s) {
</span></span><span style=display:flex><span>    s.erase(
</span></span><span style=display:flex><span>        s.begin(),
</span></span><span style=display:flex><span>        find_if(s.begin(), s.end(), not1(ptr_fun<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>(isspace)))
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>rtrim</span>(string<span style=color:#f92672>&amp;</span> s) {
</span></span><span style=display:flex><span>    s.erase(
</span></span><span style=display:flex><span>        find_if(s.rbegin(), s.rend(), not1(ptr_fun<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>(isspace))).base(),
</span></span><span style=display:flex><span>        s.end()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>分隔 <code>split()</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span>vector<span style=color:#f92672>&lt;</span>string<span style=color:#f92672>&gt;</span> split(string<span style=color:#f92672>&amp;</span> s, <span style=color:#66d9ef>char</span> del) {
</span></span><span style=display:flex><span>    stringstream <span style=color:#a6e22e>ss</span>(str);
</span></span><span style=display:flex><span>    string item;
</span></span><span style=display:flex><span>    vector<span style=color:#f92672>&lt;</span>string<span style=color:#f92672>&gt;</span> res;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (getline(ss, item, del)) 
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>item.empty()) res.push_back(item);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>合併 <code>concat()</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span>string <span style=color:#a6e22e>concat</span>(vector<span style=color:#f92672>&lt;</span>string<span style=color:#f92672>&gt;&amp;</span> svec, <span style=color:#66d9ef>char</span> del) {
</span></span><span style=display:flex><span>    stringstream ss;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#66d9ef>auto</span><span style=color:#f92672>&amp;</span> s : svec) ss <span style=color:#f92672>&lt;&lt;</span> s <span style=color:#f92672>&lt;&lt;</span> del;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> ss.str();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li></ul><h3 id=三解題>三、解題<a hidden class=anchor aria-hidden=true href=#三解題>#</a></h3><h4 id=1-string>1. String<a hidden class=anchor aria-hidden=true href=#1-string>#</a></h4><ul><li>Time complexity: \(O(n)\)</li><li>Space complexity: \(O(1)\)</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#75715e>// 判斷是否為英文字母
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>isLetter</span>(<span style=color:#66d9ef>char</span> c) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (c <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;a&#39;</span> <span style=color:#f92672>&amp;&amp;</span> c <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;z&#39;</span>) <span style=color:#f92672>||</span> (c <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;A&#39;</span> <span style=color:#f92672>&amp;&amp;</span> c <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;Z&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// 判斷是否為數字
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>isDigit</span>(<span style=color:#66d9ef>char</span> c) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> c <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;0&#39;</span> <span style=color:#f92672>&amp;&amp;</span> c <span style=color:#f92672>&lt;=</span> <span style=color:#e6db74>&#39;9&#39;</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// 去除左邊空白
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>ltrim</span>(string<span style=color:#f92672>&amp;</span> s) {
</span></span><span style=display:flex><span>    s.erase(
</span></span><span style=display:flex><span>        s.begin(),
</span></span><span style=display:flex><span>        find_if(s.begin(), s.end(), not1(ptr_fun<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>(isspace)))
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>myAtoi</span>(string s) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 去除左邊空白
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    ltrim(s);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 判斷 s[0]，取正負值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>bool</span> neg <span style=color:#f92672>=</span> false;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (s[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;-&#39;</span>)
</span></span><span style=display:flex><span>        neg <span style=color:#f92672>=</span> true;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (isEnglish(s[<span style=color:#ae81ff>0</span>]) <span style=color:#f92672>||</span> s[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;.&#39;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (isDigit(s[<span style=color:#ae81ff>0</span>]))
</span></span><span style=display:flex><span>        res <span style=color:#f92672>+=</span> (s[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> s.length(); i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 終止條件：不再是數字
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>isDigit(s[i])) <span style=color:#66d9ef>break</span>;  
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 超出數字範圍
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (neg <span style=color:#f92672>&amp;&amp;</span> (res <span style=color:#f92672>&lt;</span> INT_MIN<span style=color:#f92672>/</span><span style=color:#ae81ff>10</span> <span style=color:#f92672>||</span> (res <span style=color:#f92672>==</span> INT_MIN<span style=color:#f92672>/</span><span style=color:#ae81ff>10</span> <span style=color:#f92672>&amp;&amp;</span> s[i] <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;9&#39;</span>))) <span style=color:#66d9ef>return</span> INT_MIN;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>neg <span style=color:#f92672>&amp;&amp;</span> (res <span style=color:#f92672>&gt;</span> INT_MAX<span style=color:#f92672>/</span><span style=color:#ae81ff>10</span> <span style=color:#f92672>||</span> (res <span style=color:#f92672>==</span> INT_MAX<span style=color:#f92672>/</span><span style=color:#ae81ff>10</span> <span style=color:#f92672>&amp;&amp;</span> s[i] <span style=color:#f92672>&gt;=</span> <span style=color:#e6db74>&#39;8&#39;</span>))) <span style=color:#66d9ef>return</span> INT_MAX;
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#75715e>// 累計數值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span> (neg) 
</span></span><span style=display:flex><span>            res <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>*</span> res <span style=color:#f92672>-</span> (s[i] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>            res <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>*</span> res <span style=color:#f92672>+</span> (s[i] <span style=color:#f92672>-</span> <span style=color:#e6db74>&#39;0&#39;</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> res;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><a href=/leetcode>回目錄 Catalog</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://intervalrain.github.io/tags/leetcode/>Leetcode</a></li></ul><nav class=paginav><a class=prev href=https://intervalrain.github.io/leetcode/9/><span class=title>« Prev Page</span><br><span>[Leetcode] 9. Palindrome Number</span>
</a><a class=next href=https://intervalrain.github.io/leetcode/7/><span class=title>Next Page »</span><br><span>[Leetcode] 7. Reverse Integer</span></a></nav></footer><script src=https://utteranc.es/client.js repo=Reid00/hugo-blog-talks issue-term=pathname label=Comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://intervalrain.github.io/>Rain Hu's Workspace</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>