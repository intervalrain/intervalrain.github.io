<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[LeetCode] 766. Toeplitz Matrix | Rain Hu's Workspace</title><meta name=keywords content="Leetcode"><meta name=description content="766. Toeplitz Matrix
Hardness: \(\color{green}\textsf{Easy}\) Ralated Topics: Array、Matrix 一、題目 Given an m x n matrix, return true if the matrix is Toeplitz. Otherwise, return false. A matrix is Toeplitz if every diagonal from top-left to bottom-right has the same elements.
Example 1:
Input: matrix = [[1,2,3,4],[5,1,2,3],[9,5,1,2]] Output: true Explanation:
In the above grid, the diagonals are:
&ldquo;[9]&rdquo;, &ldquo;[5, 5]&rdquo;, &ldquo;[1, 1, 1]&rdquo;, &ldquo;[2, 2, 2]&rdquo;, &ldquo;[3, 3]&rdquo;, &ldquo;[4]&rdquo;.
In each diagonal all elements are the same, so the answer is True."><meta name=author content="Rain Hu"><link rel=canonical href=https://intervalrain.github.io/><meta name=google-site-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.62544d021d74c1d1215183b216a7ce71465bcb05e8768851d5c6d332d9672210.css integrity="sha256-YlRNAh10wdEhUYOyFqfOcUZbywXodohR1cbTMtlnIhA=" rel="preload stylesheet" as=style><link rel=preload href=/images/rain.png as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://intervalrain.github.io/images/rain.png><link rel=icon type=image/png sizes=16x16 href=https://intervalrain.github.io/images/rain.png><link rel=icon type=image/png sizes=32x32 href=https://intervalrain.github.io/images/rain.png><link rel=apple-touch-icon href=https://intervalrain.github.io/images/rain.png><link rel=mask-icon href=https://intervalrain.github.io/images/rain.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css integrity=sha384-zTROYFVGOfTw7JV7KUu8udsvW2fx4lWOsCEDqhBreBwlHI4ioVRtmIvEThzJHGET crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.js integrity=sha384-GxNFqL3r9uRJQhR+47eDxuPoNE7yLftQM8LcxzgS4HT73tp970WS/wV5p8UzCOmb crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script src=https://utteranc.es/client.js repo=intervalrain.github.io issue-term=pathname label=Comment theme=github-light crossorigin=anonymous async></script><meta property="og:title" content="[LeetCode] 766. Toeplitz Matrix"><meta property="og:description" content="766. Toeplitz Matrix
Hardness: \(\color{green}\textsf{Easy}\) Ralated Topics: Array、Matrix 一、題目 Given an m x n matrix, return true if the matrix is Toeplitz. Otherwise, return false. A matrix is Toeplitz if every diagonal from top-left to bottom-right has the same elements.
Example 1:
Input: matrix = [[1,2,3,4],[5,1,2,3],[9,5,1,2]] Output: true Explanation:
In the above grid, the diagonals are:
&ldquo;[9]&rdquo;, &ldquo;[5, 5]&rdquo;, &ldquo;[1, 1, 1]&rdquo;, &ldquo;[2, 2, 2]&rdquo;, &ldquo;[3, 3]&rdquo;, &ldquo;[4]&rdquo;.
In each diagonal all elements are the same, so the answer is True."><meta property="og:type" content="article"><meta property="og:url" content="https://intervalrain.github.io/posts/leetcode/766/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-01T00:40:55+08:00"><meta property="article:modified_time" content="2022-11-01T00:40:55+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="[LeetCode] 766. Toeplitz Matrix"><meta name=twitter:description content="766. Toeplitz Matrix
Hardness: \(\color{green}\textsf{Easy}\) Ralated Topics: Array、Matrix 一、題目 Given an m x n matrix, return true if the matrix is Toeplitz. Otherwise, return false. A matrix is Toeplitz if every diagonal from top-left to bottom-right has the same elements.
Example 1:
Input: matrix = [[1,2,3,4],[5,1,2,3],[9,5,1,2]] Output: true Explanation:
In the above grid, the diagonals are:
&ldquo;[9]&rdquo;, &ldquo;[5, 5]&rdquo;, &ldquo;[1, 1, 1]&rdquo;, &ldquo;[2, 2, 2]&rdquo;, &ldquo;[3, 3]&rdquo;, &ldquo;[4]&rdquo;.
In each diagonal all elements are the same, so the answer is True."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://intervalrain.github.io/posts/"},{"@type":"ListItem","position":2,"name":"[LeetCode] 766. Toeplitz Matrix","item":"https://intervalrain.github.io/posts/leetcode/766/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[LeetCode] 766. Toeplitz Matrix","name":"[LeetCode] 766. Toeplitz Matrix","description":"766. Toeplitz Matrix\nHardness: \\(\\color{green}\\textsf{Easy}\\) Ralated Topics: Array、Matrix 一、題目 Given an m x n matrix, return true if the matrix is Toeplitz. Otherwise, return false. A matrix is Toeplitz if every diagonal from top-left to bottom-right has the same elements.\nExample 1:\nInput: matrix = [[1,2,3,4],[5,1,2,3],[9,5,1,2]] Output: true Explanation:\nIn the above grid, the diagonals are:\n\u0026ldquo;[9]\u0026rdquo;, \u0026ldquo;[5, 5]\u0026rdquo;, \u0026ldquo;[1, 1, 1]\u0026rdquo;, \u0026ldquo;[2, 2, 2]\u0026rdquo;, \u0026ldquo;[3, 3]\u0026rdquo;, \u0026ldquo;[4]\u0026rdquo;.\nIn each diagonal all elements are the same, so the answer is True.","keywords":["Leetcode"],"articleBody":"766. Toeplitz Matrix\nHardness: \\(\\color{green}\\textsf{Easy}\\) Ralated Topics: Array、Matrix 一、題目 Given an m x n matrix, return true if the matrix is Toeplitz. Otherwise, return false. A matrix is Toeplitz if every diagonal from top-left to bottom-right has the same elements.\nExample 1:\nInput: matrix = [[1,2,3,4],[5,1,2,3],[9,5,1,2]] Output: true Explanation:\nIn the above grid, the diagonals are:\n“[9]”, “[5, 5]”, “[1, 1, 1]”, “[2, 2, 2]”, “[3, 3]”, “[4]”.\nIn each diagonal all elements are the same, so the answer is True. Example 2: Input: matrix = [[1,2],[2,2]] Output: false Explanation:\nThe diagonal “[1, 2]” has different elements. Constraints:\nm == matrix.length n == matrix[i].length 1 \u003c= m, n \u003c= 20 0 \u003c= matrix[i][j] \u003c= 99 Follow up:\nWhat if the matrix is store on disk, and the memory is limited such that you can only load at most one row of the matrix into memory at once? What if the matrix is so large that you can only load up a partial row into memory at once? 二、分析 根據題意，除了第一行與第一列外，逐個去檢查與左上角的值是否相同。 三、解題 1. Simple traversal Time complexity: \\(O(m\\times n)\\) Space complexity: \\(O(1)\\) bool isToeplitzMatrix(vector\u003cvector\u003cint\u003e\u003e\u0026 matrix) { int m = matrix.size(), n = matrix[0].size(); for (int i = 1; i \u003c m; i++) { for (int j = 1; j \u003c n; j++) { if (matrix[i][j] != matrix[i-1][j-1]) return false; } } return true; } 2. Follow up #1: load at most one row Time complexity: \\(O(m\\times n)\\) Space complexity: \\(O(n)\\) bool isToeplitzMatrix(vector\u003cvector\u003cint\u003e\u003e\u0026 matrix) { deque\u003cint\u003e buffer; for (int j = 0; j \u003c matrix[0].size()-1; j++) buffer.push_back(matrix[0][j]); // 一次處理一行 for (int i = 1; i \u003c matrix.size(); i++) { for (int j = 1; j \u003c matrix[0].size(); j++) { if (buffer.front() != matrix[i][j]) return false; buffer.pop_front(); buffer.push_back(matrix[i][j]); } buffer.push_front(matrix[i][0]); buffer.pop_back(); } return true; } 3. Follow up #2: load partial row/column each time bool isToeplitzMatrix(vector\u003cvector\u003cint\u003e\u003e\u0026 matrix) { int m = matrix.size(), n = matrix[0].size(); queue\u003cpair\u003cint,int\u003e\u003e q; for (int i = m-1; i \u003e 0; i--) q.push({i, 0}); for (int i = 0 ; i \u003c n; i++) q.push({0, i}); while (!q.empty()) { auto info = q.front(); q.pop(); int row = info.first; int col = info.second; int val = matrix[row][col]; while (++row \u003c m \u0026\u0026 ++col \u003c n) { if (matrix[row][col] != val) return false; } } return true; } 回目錄 Catalog\n","wordCount":"378","inLanguage":"en","datePublished":"2022-11-01T00:40:55+08:00","dateModified":"2022-11-01T00:40:55+08:00","author":{"@type":"Person","name":"Rain Hu"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://intervalrain.github.io/posts/leetcode/766/"},"publisher":{"@type":"Organization","name":"Rain Hu's Workspace","logo":{"@type":"ImageObject","url":"https://intervalrain.github.io/images/rain.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://intervalrain.github.io/ accesskey=h title="Rain Hu's Workspace (Alt + H)"><img src=https://intervalrain.github.io/images/rain.png alt=logo aria-label=logo height=35>Rain Hu's Workspace</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://intervalrain.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://intervalrain.github.io/posts/aboutme title="About me"><span>About me</span></a></li><li><a href=https://intervalrain.github.io/archives title=Archives><span>Archives</span></a></li><li><a href=https://intervalrain.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://intervalrain.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://intervalrain.github.io/posts/csindex title=CS><span>CS</span></a></li><li><a href=https://intervalrain.github.io/posts/csharp/csharp title=Csharp><span>Csharp</span></a></li><li><a href=https://intervalrain.github.io/posts/leetcode title=LeetCode><span>LeetCode</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://intervalrain.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://intervalrain.github.io/posts/>Posts</a></div><h1 class=post-title>[LeetCode] 766. Toeplitz Matrix</h1><div class=post-meta><span title='2022-11-01 00:40:55 +0800 +0800'>November 1, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Rain Hu&nbsp;|&nbsp;<a href=https://github.com/intervalrain/intervalrain.github.io/tree/main/content//posts/leetcode/766.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e4%b8%80%e9%a1%8c%e7%9b%ae aria-label=一、題目>一、題目</a></li><li><a href=#%e4%ba%8c%e5%88%86%e6%9e%90 aria-label=二、分析>二、分析</a></li><li><a href=#%e4%b8%89%e8%a7%a3%e9%a1%8c aria-label=三、解題>三、解題</a><ul><li><a href=#1-simple-traversal aria-label="1. Simple traversal">1. Simple traversal</a></li><li><a href=#2-follow-up-1-load-at-most-one-row aria-label="2. Follow up #1: load at most one row">2. Follow up #1: load at most one row</a></li><li><a href=#3-follow-up-2-load-partial-rowcolumn-each-time aria-label="3. Follow up #2: load partial row/column each time">3. Follow up #2: load partial row/column each time</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p><strong>766. Toeplitz Matrix</strong></p><ul><li>Hardness: \(\color{green}\textsf{Easy}\)</li><li>Ralated Topics: <code>Array</code>、<code>Matrix</code></li></ul><hr><h3 id=一題目>一、題目<a hidden class=anchor aria-hidden=true href=#一題目>#</a></h3><p>Given an <code>m x n</code> <code>matrix</code>, return <em><code>true</code> if the matrix is Toeplitz. Otherwise, return <code>false</code></em>. A matrix is <strong>Toeplitz</strong> if every diagonal from top-left to bottom-right has the same elements.</p><p><strong>Example 1:</strong><br><img loading=lazy src=https://assets.leetcode.com/uploads/2020/11/04/ex1.jpg alt=ex1></p><ul><li><strong>Input:</strong> matrix = [[1,2,3,4],[5,1,2,3],[9,5,1,2]]</li><li><strong>Output:</strong> true</li><li><strong>Explanation:</strong><br>In the above grid, the diagonals are:<br>&ldquo;[9]&rdquo;, &ldquo;[5, 5]&rdquo;, &ldquo;[1, 1, 1]&rdquo;, &ldquo;[2, 2, 2]&rdquo;, &ldquo;[3, 3]&rdquo;, &ldquo;[4]&rdquo;.<br>In each diagonal all elements are the same, so the answer is True.</li></ul><p><strong>Example 2:</strong>
<img loading=lazy src=https://assets.leetcode.com/uploads/2020/11/04/ex2.jpg alt=ex2></p><ul><li><strong>Input:</strong> matrix = [[1,2],[2,2]]</li><li><strong>Output:</strong> false</li><li><strong>Explanation:</strong><br>The diagonal &ldquo;[1, 2]&rdquo; has different elements.</li></ul><p><strong>Constraints:</strong></p><ul><li><code>m == matrix.length</code></li><li><code>n == matrix[i].length</code></li><li><code>1 &lt;= m, n &lt;= 20</code></li><li><code>0 &lt;= matrix[i][j] &lt;= 99</code></li></ul><p><strong>Follow up:</strong></p><ul><li>What if the <code>matrix</code> is store on disk, and the memory is limited such that you can only load at most one row of the matrix into memory at once?</li><li>What if the <code>matrix</code> is so large that you can only load up a partial row into memory at once?</li></ul><hr><h3 id=二分析>二、分析<a hidden class=anchor aria-hidden=true href=#二分析>#</a></h3><ul><li>根據題意，除了第一行與第一列外，逐個去檢查與左上角的值是否相同。</li></ul><h3 id=三解題>三、解題<a hidden class=anchor aria-hidden=true href=#三解題>#</a></h3><h4 id=1-simple-traversal>1. Simple traversal<a hidden class=anchor aria-hidden=true href=#1-simple-traversal>#</a></h4><ul><li>Time complexity: \(O(m\times n)\)</li><li>Space complexity: \(O(1)\)</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>isToeplitzMatrix</span>(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;&amp;</span> matrix) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> m <span style=color:#f92672>=</span> matrix.size(), n <span style=color:#f92672>=</span> matrix[<span style=color:#ae81ff>0</span>].size();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;</span> n; j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (matrix[i][j] <span style=color:#f92672>!=</span> matrix[i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>][j<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=2-follow-up-1-load-at-most-one-row>2. Follow up #1: load at most one row<a hidden class=anchor aria-hidden=true href=#2-follow-up-1-load-at-most-one-row>#</a></h4><ul><li>Time complexity: \(O(m\times n)\)</li><li>Space complexity: \(O(n)\)</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>isToeplitzMatrix</span>(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;&amp;</span> matrix) {
</span></span><span style=display:flex><span>    deque<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> buffer;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> matrix[<span style=color:#ae81ff>0</span>].size()<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; j<span style=color:#f92672>++</span>) buffer.push_back(matrix[<span style=color:#ae81ff>0</span>][j]);    <span style=color:#75715e>// 一次處理一行
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&lt;</span> matrix.size(); i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;</span> matrix[<span style=color:#ae81ff>0</span>].size(); j<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (buffer.front() <span style=color:#f92672>!=</span> matrix[i][j]) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>            buffer.pop_front();
</span></span><span style=display:flex><span>            buffer.push_back(matrix[i][j]);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        buffer.push_front(matrix[i][<span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span>        buffer.pop_back();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=3-follow-up-2-load-partial-rowcolumn-each-time>3. Follow up #2: load partial row/column each time<a hidden class=anchor aria-hidden=true href=#3-follow-up-2-load-partial-rowcolumn-each-time>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C++ data-lang=C++><span style=display:flex><span><span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>isToeplitzMatrix</span>(vector<span style=color:#f92672>&lt;</span>vector<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;&amp;</span> matrix) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> m <span style=color:#f92672>=</span> matrix.size(), n <span style=color:#f92672>=</span> matrix[<span style=color:#ae81ff>0</span>].size();
</span></span><span style=display:flex><span>    queue<span style=color:#f92672>&lt;</span>pair<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>,<span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;&gt;</span> q;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> m<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; i <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>; i<span style=color:#f92672>--</span>) q.push({i, <span style=color:#ae81ff>0</span>});
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> ; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) q.push({<span style=color:#ae81ff>0</span>, i});
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>q.empty()) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>auto</span> info <span style=color:#f92672>=</span> q.front();
</span></span><span style=display:flex><span>        q.pop();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> row <span style=color:#f92672>=</span> info.first;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> col <span style=color:#f92672>=</span> info.second;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>int</span> val <span style=color:#f92672>=</span> matrix[row][col];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> (<span style=color:#f92672>++</span>row <span style=color:#f92672>&lt;</span> m <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>++</span>col <span style=color:#f92672>&lt;</span> n) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (matrix[row][col] <span style=color:#f92672>!=</span> val) <span style=color:#66d9ef>return</span> false;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> true;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><a href=/posts/leetcode>回目錄 Catalog</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://intervalrain.github.io/tags/leetcode/>Leetcode</a></li></ul><nav class=paginav><a class=prev href=https://intervalrain.github.io/posts/leetcode/1706/><span class=title>« Prev Page</span><br><span>[LeetCode] 1706. Where Will the Ball Fall</span></a>
<a class=next href=https://intervalrain.github.io/posts/leetcode/19/><span class=title>Next Page »</span><br><span>[LeetCode] 19. Remove Nth Node From End of List</span></a></nav></footer><script src=https://utteranc.es/client.js repo=Reid00/hugo-blog-talks issue-term=pathname label=Comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2023 <a href=https://intervalrain.github.io/>Rain Hu's Workspace</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>