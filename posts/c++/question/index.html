<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[C++] 易錯題目收集 | Rain's Blog</title><meta name=keywords content="C++,interview"><meta name=description content="網路上 C++ 易錯的題目收集"><meta name=author content="Rain Hu"><link rel=canonical href=https://intervalrain.github.io/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.62544d021d74c1d1215183b216a7ce71465bcb05e8768851d5c6d332d9672210.css integrity="sha256-YlRNAh10wdEhUYOyFqfOcUZbywXodohR1cbTMtlnIhA=" rel="preload stylesheet" as=style><link rel=preload href=/images/rain.png as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://intervalrain.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://intervalrain.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://intervalrain.github.io/favicon-32x32.png><link rel=apple-touch-icon href=http://intervalrain.github.io/apple-touch-icon.png><link rel=mask-icon href=http://intervalrain.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css integrity=sha384-zTROYFVGOfTw7JV7KUu8udsvW2fx4lWOsCEDqhBreBwlHI4ioVRtmIvEThzJHGET crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.js integrity=sha384-GxNFqL3r9uRJQhR+47eDxuPoNE7yLftQM8LcxzgS4HT73tp970WS/wV5p8UzCOmb crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script src=https://utteranc.es/client.js repo=intervalrain.github.io issue-term=pathname label=Comment theme=github-light crossorigin=anonymous async></script><meta property="og:title" content="[C++] 易錯題目收集"><meta property="og:description" content="網路上 C++ 易錯的題目收集"><meta property="og:type" content="article"><meta property="og:url" content="http://intervalrain.github.io/posts/c++/question/"><meta property="og:image" content="http://intervalrain.github.io/images/cover.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-17T17:34:39+08:00"><meta property="article:modified_time" content="2022-04-17T17:34:39+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://intervalrain.github.io/images/cover.jpg"><meta name=twitter:title content="[C++] 易錯題目收集"><meta name=twitter:description content="網路上 C++ 易錯的題目收集"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://intervalrain.github.io/posts/"},{"@type":"ListItem","position":2,"name":"[C++] 易錯題目收集","item":"http://intervalrain.github.io/posts/c++/question/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[C++] 易錯題目收集","name":"[C\u002b\u002b] 易錯題目收集","description":"網路上 C++ 易錯的題目收集","keywords":["C++","interview"],"articleBody":"C++ 易錯題目收集 1. bit-format expression #include using namespace std; int main(){ unsigned int x = -1; int y = ~0; if (x==y) cout \u003c\u003c \"same\"; else cout \u003c\u003c \"not same\"; return 0; } 結果 same 解析 unsigned int x = -1 相當於11111111 y = ~0 也相當於11111111 2. 如何使 C(n,3) 正確且 n 的有效值最大? 結果 return n*(n-1)/2*(n-2)/3; 解析 n*(n-1)必為基偶相乘 n*(n-1)*(n-2)必為3的倍數 故此題的作法可避免因整數除法而造成的小數位消去 3. register在C++中的用法 #include using namespace std; int main(){ register int i = 10; int *ptr = \u0026i; cout \u003c\u003c *ptr; return 0; } 選項 Prints 10 on all compilers Prints 0 on all compilers May generate Compilation Error May generate Runtime Error 結果 May generate Compilation Error 解析 register關鍵字用來分配變數儲存於CPU的register，以達到快速存取。所以對其提取有可能造成編譯錯誤，因為指標指向的位址不在在RAM上。 在大部分的C++編譯器，不推薦使用register關鍵字，因為沒有任何意義，儘管他會被默認成auto關鍵字，使得C++編譯器可能可能適用。 4. 有趣的 for loop 問題 int fun(){ static int num = 16; return num--; } int main(){ for(fun(); fun(); fun()) cout \u003c\u003c fun(); return 0; } 結果 14 11 8 5 2 解析 main()中的 for-loop 可以寫成等效的 while-loop 如下 int main(){ int num = 16; num--; // num = 15 while (num-- != 0){ // 先判斷後遞減 15 !=0, num = 14 cout \u003c\u003c (num--) \u003c\u003c \" \"; // 先印出後遞減印出 14, num = 13 num--; // 遞減後回到while, num = 12 } return 0; } static int num = 16 設定初值為 16，並遞減，故 num = 15 判斷 num 是否為真，後遞減。15 != 0，遞減使 num = 14，進入迴圈 印出 num = 14 後，遞減，num = 13 迴圈結束前作遞減，num = 12，重新回到 step2 5. const 與 volatile Pick the correct statemewnt for const and volatile keywords. 選項 const is the opposite of volatile and vice versa const and volatile can’t be used for struct and union const and volatile can’t be used for enum const and volatile can’t be used for typedef const and volatile are independent i.e. it’s possible that a variable is defined as both const and volatile 結果 const and volatile are independent i.e. it's possible that a variable is defined as both const and volatile 解析 const 是確保變數不會變修改，使其值變成唯讀。 volatile 通常用在具有最佳化或多執行緒相關的變數或物件，volatile用來阻止編譯器因誤認某段程式碼無法被程式碼本身所改變，而造成的過度優化。volatile會使得每次存取這個變數或物件時，都會直接從變數位址中取得資料，避免可能使用暫存器中的值，在變數可能被其他程式更新的狀況下，產生錯誤的值。 6. operator priority int main(){ cout \u003c\u003c (1 \u003c\u003c 2 + 3 \u003c\u003c 4); return 0 } 結果 512 解析 +優先於\u003c\u003c 故此段敘述等效於 cout \u003c\u003c (1 \u003c\u003c (2 + 3) \u003c\u003c 4); cout \u003c\u003c (1 \u003c\u003c 5 \u003c\u003c 4); cout \u003c\u003c (32 \u003c\u003c 4); cout \u003c\u003c 512; 7. floating constant Suppose a C++ program has floating constant 1.414, what's the best way to convert this as \"float\" data type? 選項 (float)1.414 float(1.414) 1.414f or 1.414F 1.414 itself of “float” data type i.e. nothing else required 結果 `1.414f` or `1.414F` 解析 floating constant 被預設為 double 資料型態，故利用f或F的suffix，即可將之轉為 float 資料型態。 8. array pointer int main(){ int arr[5]; // Assume base address of arr is 2000 and size of integer is 32 bit printf(%u %u, arr+1, \u0026arr+1); return 0; } 結果 2004 2020 解析 array 的名稱會傳回第一個元素的地址(除了使用 sizeof)。 對 array 加 1 會加上 sizeof(type)。 \u0026array 代表整個 array 的地址，加 1 回加上 sizeof(while array)。 9. initialize array int main(){ int a[][] = {{1,2},{3,4}}; int i, j; for (int i = 0; i \u003c 2; i++){ for (int j = 0; j \u003c 2; j++){ printf(\"%d \", a[i][j]); } } return 0; } 結果 Compilation Error 解析 Array 在記憶體中是以row-major的型式儲存的。 儘管 array 是多維陣列，他都是被儲存成單一線性的區塊 下列 assign 的方式是合法的，(第一個可被省略) int a[] = {...}; int a[][10] = {{...}, ...}; int a[][5][10] = {{{...},...},...}; ","wordCount":"522","inLanguage":"en","image":"http://intervalrain.github.io/images/cover.jpg","datePublished":"2022-04-17T17:34:39+08:00","dateModified":"2022-04-17T17:34:39+08:00","author":{"@type":"Person","name":"Rain Hu"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://intervalrain.github.io/posts/c++/question/"},"publisher":{"@type":"Organization","name":"Rain's Blog","logo":{"@type":"ImageObject","url":"http://intervalrain.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://intervalrain.github.io/ accesskey=h title="Rain's Blog (Alt + H)"><img src=http://intervalrain.github.io/images/rain.png alt=logo aria-label=logo height=35>Rain's Blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=http://intervalrain.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=http://intervalrain.github.io/posts/aboutme title="About me"><span>About me</span></a></li><li><a href=http://intervalrain.github.io/archives title=Archives><span>Archives</span></a></li><li><a href=http://intervalrain.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://intervalrain.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://intervalrain.github.io/posts/csindex title=CS><span>CS</span></a></li><li><a href=http://intervalrain.github.io/posts/leetcode title=LeetCode><span>LeetCode</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://intervalrain.github.io/>Home</a>&nbsp;»&nbsp;<a href=http://intervalrain.github.io/posts/>Posts</a></div><h1 class=post-title>[C++] 易錯題目收集</h1><div class=post-description>網路上 C++ 易錯的題目收集</div><div class=post-meta><span title='2022-04-17 17:34:39 +0800 +0800'>April 17, 2022</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Rain Hu&nbsp;|&nbsp;<a href=https://github.com/intervalrain/intervalrain.github.io/tree/main/content//posts/C++/question.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=lazy src=http://intervalrain.github.io/images/cover.jpg alt="Oh! You closed up the window, so you cannot see raining"></figure><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#c-%e6%98%93%e9%8c%af%e9%a1%8c%e7%9b%ae%e6%94%b6%e9%9b%86 aria-label="C++ 易錯題目收集">C++ 易錯題目收集</a><ul><li><a href=#1-bit-format-expression aria-label="1. bit-format expression">1. bit-format expression</a></li><li><a href=#2-%e5%a6%82%e4%bd%95%e4%bd%bf-cn3-%e6%ad%a3%e7%a2%ba%e4%b8%94-n-%e7%9a%84%e6%9c%89%e6%95%88%e5%80%bc%e6%9c%80%e5%a4%a7 aria-label="2. 如何使 C(n,3) 正確且 n 的有效值最大?">2. 如何使 C(n,3) 正確且 n 的有效值最大?</a></li><li><a href=#3-register%e5%9c%a8c%e4%b8%ad%e7%9a%84%e7%94%a8%e6%b3%95 aria-label="3. register在C++中的用法">3. register在C++中的用法</a></li><li><a href=#4-%e6%9c%89%e8%b6%a3%e7%9a%84-for-loop-%e5%95%8f%e9%a1%8c aria-label="4. 有趣的 for loop 問題">4. 有趣的 for loop 問題</a></li><li><a href=#5-const-%e8%88%87-volatile aria-label="5. const 與 volatile">5. const 與 volatile</a></li><li><a href=#6-operator-priority aria-label="6. operator priority">6. operator priority</a></li><li><a href=#7-floating-constant aria-label="7. floating constant">7. floating constant</a></li><li><a href=#8-array-pointer aria-label="8. array pointer">8. array pointer</a></li><li><a href=#9-initialize-array aria-label="9. initialize array">9. initialize array</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h1 id=c-易錯題目收集>C++ 易錯題目收集<a hidden class=anchor aria-hidden=true href=#c-易錯題目收集>#</a></h1><h2 id=1-bit-format-expression>1. bit-format expression<a hidden class=anchor aria-hidden=true href=#1-bit-format-expression>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Cpp data-lang=Cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>unsigned</span> <span style=color:#66d9ef>int</span> x <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> y <span style=color:#f92672>=</span> <span style=color:#f92672>~</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (x<span style=color:#f92672>==</span>y)
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;same&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;not same&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>結果</li></ul><pre tabindex=0><code>same
</code></pre><ul><li>解析<ul><li><code>unsigned int x = -1</code> 相當於<code>11111111</code></li><li><code>y = ~0</code> 也相當於<code>11111111</code></li></ul></li></ul><hr><h2 id=2-如何使-cn3-正確且-n-的有效值最大>2. 如何使 C(n,3) 正確且 n 的有效值最大?<a hidden class=anchor aria-hidden=true href=#2-如何使-cn3-正確且-n-的有效值最大>#</a></h2><ul><li>結果</li></ul><pre tabindex=0><code>return n*(n-1)/2*(n-2)/3;
</code></pre><ul><li>解析<ul><li>n*(n-1)必為基偶相乘</li><li>n*(n-1)*(n-2)必為3的倍數</li><li>故此題的作法可避免因整數除法而造成的小數位消去</li></ul></li></ul><hr><h2 id=3-register在c中的用法>3. register在C++中的用法<a hidden class=anchor aria-hidden=true href=#3-register在c中的用法>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Cpp data-lang=Cpp><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>register</span> <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> <span style=color:#f92672>*</span>ptr <span style=color:#f92672>=</span> <span style=color:#f92672>&amp;</span>i;
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> <span style=color:#f92672>*</span>ptr;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>選項<ul><li>Prints 10 on all compilers</li><li>Prints 0 on all compilers</li><li>May generate Compilation Error</li><li>May generate Runtime Error</li></ul></li><li>結果</li></ul><pre tabindex=0><code>May generate Compilation Error
</code></pre><ul><li>解析<ul><li>register關鍵字用來分配變數儲存於CPU的register，以達到快速存取。所以對其提取有可能造成編譯錯誤，因為指標指向的位址不在在RAM上。</li><li>在大部分的C++編譯器，不推薦使用register關鍵字，因為沒有任何意義，儘管他會被默認成auto關鍵字，使得C++編譯器可能可能適用。</li></ul></li></ul><hr><h2 id=4-有趣的-for-loop-問題>4. 有趣的 for loop 問題<a hidden class=anchor aria-hidden=true href=#4-有趣的-for-loop-問題>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Cpp data-lang=Cpp><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>fun</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span> num <span style=color:#f92672>=</span> <span style=color:#ae81ff>16</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> num<span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(fun(); fun(); fun())
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span> fun();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>結果</li></ul><pre tabindex=0><code>14 11 8 5 2
</code></pre><ul><li>解析<ul><li>main()中的 for-loop 可以寫成等效的 while-loop 如下</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Cpp data-lang=Cpp><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> num <span style=color:#f92672>=</span> <span style=color:#ae81ff>16</span>;
</span></span><span style=display:flex><span>    num<span style=color:#f92672>--</span>;                          <span style=color:#75715e>// num = 15
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>while</span> (num<span style=color:#f92672>--</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span>){             <span style=color:#75715e>// 先判斷後遞減 15 !=0, num = 14
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        cout <span style=color:#f92672>&lt;&lt;</span> (num<span style=color:#f92672>--</span>) <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34; &#34;</span>;     <span style=color:#75715e>// 先印出後遞減印出 14, num = 13
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        num<span style=color:#f92672>--</span>;                      <span style=color:#75715e>// 遞減後回到while, num = 12
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ol><li><code>static int num = 16</code> 設定初值為 16，並遞減，故 num = 15</li><li>判斷 num 是否為真，後遞減。15 != 0，遞減使 num = 14，進入迴圈</li><li>印出 num = 14 後，遞減，num = 13</li><li>迴圈結束前作遞減，num = 12，重新回到 step2</li></ol></li></ul><hr><h2 id=5-const-與-volatile>5. const 與 volatile<a hidden class=anchor aria-hidden=true href=#5-const-與-volatile>#</a></h2><pre tabindex=0><code>Pick the correct statemewnt for const and volatile keywords.
</code></pre><ul><li>選項<ul><li>const is the opposite of volatile and vice versa</li><li>const and volatile can&rsquo;t be used for struct and union</li><li>const and volatile can&rsquo;t be used for enum</li><li>const and volatile can&rsquo;t be used for typedef</li><li>const and volatile are independent i.e. it&rsquo;s possible that a variable is defined as both const and volatile</li></ul></li><li>結果</li></ul><pre tabindex=0><code>const and volatile are independent i.e. it&#39;s possible that a variable is defined as both const and volatile
</code></pre><ul><li>解析<ul><li>const 是確保變數不會變修改，使其值變成唯讀。</li><li>volatile 通常用在具有<strong>最佳化</strong>或<strong>多執行緒</strong>相關的變數或物件，volatile用來阻止編譯器因誤認某段程式碼無法被程式碼本身所改變，而造成的過度優化。<strong>volatile會使得每次存取這個變數或物件時，都會直接從變數位址中取得資料</strong>，避免可能使用暫存器中的值，在變數可能被其他程式更新的狀況下，產生錯誤的值。</li></ul></li></ul><hr><h2 id=6-operator-priority>6. operator priority<a hidden class=anchor aria-hidden=true href=#6-operator-priority>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Cpp data-lang=Cpp><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    cout <span style=color:#f92672>&lt;&lt;</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>&lt;&lt;</span> <span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>結果</li></ul><pre tabindex=0><code>512
</code></pre><ul><li>解析<ul><li><code>+</code>優先於<code>&lt;&lt;</code></li><li>故此段敘述等效於 <code>cout &lt;&lt; (1 &lt;&lt; (2 + 3) &lt;&lt; 4);</code></li><li><code>cout &lt;&lt; (1 &lt;&lt; 5 &lt;&lt; 4);</code></li><li><code>cout &lt;&lt; (32 &lt;&lt; 4);</code></li><li><code>cout &lt;&lt; 512;</code></li></ul></li></ul><hr><h2 id=7-floating-constant>7. floating constant<a hidden class=anchor aria-hidden=true href=#7-floating-constant>#</a></h2><pre tabindex=0><code>Suppose a C++ program has floating constant 1.414, what&#39;s the best way to convert this as &#34;float&#34; data type?
</code></pre><ul><li>選項<ul><li><code>(float)1.414</code></li><li><code>float(1.414)</code></li><li><code>1.414f</code> or <code>1.414F</code></li><li>1.414 itself of &ldquo;float&rdquo; data type i.e. nothing else required</li></ul></li><li>結果</li></ul><pre tabindex=0><code>`1.414f` or `1.414F`
</code></pre><ul><li>解析<ul><li>floating constant 被預設為 double 資料型態，故利用<code>f</code>或<code>F</code>的suffix，即可將之轉為 float 資料型態。</li></ul></li></ul><hr><h2 id=8-array-pointer>8. array pointer<a hidden class=anchor aria-hidden=true href=#8-array-pointer>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Cpp data-lang=Cpp><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> arr[<span style=color:#ae81ff>5</span>];
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Assume base address of arr is 2000 and size of integer is 32 bit
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    printf(<span style=color:#f92672>%</span>u <span style=color:#f92672>%</span>u, arr<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>&amp;</span>arr<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>結果</li></ul><pre tabindex=0><code>2004 2020
</code></pre><ul><li>解析<ul><li>array 的名稱會傳回第一個元素的地址(除了使用 sizeof)。</li><li>對 array 加 1 會加上 sizeof(type)。</li><li>&array 代表整個 array 的地址，加 1 回加上 sizeof(while array)。</li></ul></li></ul><hr><h2 id=9-initialize-array>9. initialize array<a hidden class=anchor aria-hidden=true href=#9-initialize-array>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Cpp data-lang=Cpp><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> a[][] <span style=color:#f92672>=</span> {{<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>},{<span style=color:#ae81ff>3</span>,<span style=color:#ae81ff>4</span>}};
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> i, j;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>2</span>; i<span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>2</span>; j<span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>            printf(<span style=color:#e6db74>&#34;%d &#34;</span>, a[i][j]);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>結果</li></ul><pre tabindex=0><code>Compilation Error
</code></pre><ul><li>解析<ul><li>Array 在記憶體中是以<strong>row-major</strong>的型式儲存的。</li><li>儘管 array 是多維陣列，他都是被儲存成單一線性的區塊</li><li>下列 assign 的方式是合法的，(第一個可被省略)</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Cpp data-lang=Cpp><span style=display:flex><span><span style=color:#66d9ef>int</span> a[] <span style=color:#f92672>=</span> {...};
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a[][<span style=color:#ae81ff>10</span>] <span style=color:#f92672>=</span> {{...}, ...};
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> a[][<span style=color:#ae81ff>5</span>][<span style=color:#ae81ff>10</span>] <span style=color:#f92672>=</span> {{{...},...},...};
</span></span></code></pre></div></li></ul><hr></div><footer class=post-footer><ul class=post-tags><li><a href=http://intervalrain.github.io/tags/c++/>C++</a></li><li><a href=http://intervalrain.github.io/tags/programming/>Programming</a></li></ul><nav class=paginav><a class=prev href=http://intervalrain.github.io/posts/java/hashmap/hashcode/><span class=title>« Prev Page</span><br><span>[Java] HashMap中的hashCode設計原理</span></a>
<a class=next href=http://intervalrain.github.io/posts/c++/stl_list/><span class=title>Next Page »</span><br><span>[C++] The C++ Standard Template Library(STL) - list, forward_list</span></a></nav></footer><script src=https://utteranc.es/client.js repo=Reid00/hugo-blog-talks issue-term=pathname label=Comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2023 <a href=http://intervalrain.github.io/>Rain's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>